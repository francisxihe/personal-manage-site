import{j as cr,H as c1,au as Wn,ad as lo,bx as v1,am as fp,an as Jr,aF as cp,a4 as vp,u as hp,r as be,S as gp,Y as pp,aj as dp,af as zo}from"./index.295caa00.js";import{C as xi}from"./index.d0e2df9e.js";import{l as mp,C as zl,c as h1,I as yp,T as g1,A as p1,r as or,L as wp,a as Ep,b as d1,F as Sp}from"./index.216649d8.js";import{C as m1}from"./customer-tooltip.7932e63f.js";import{t as _p}from"./tslib.es6.457e1d28.js";import{u as Tp}from"./useChartTheme.6fc29531.js";import{l as xp}from"./index.b0c339fc.js";import $p from"./data-overview.42a5bb80.js";import Mp from"./card-list.db22f6f1.js";import"./index.938847eb.js";import"./index.df914e5e.js";import"./index.8ec38198.js";import"./b-tween.es.d368a2a1.js";import"./pad.b909f4f4.js";import"./index.2d4052ff.js";import"./index.81821f26.js";var Pe="/Users/xuwenhua/code/project/home-manage/src/components/Chart/horizontal-interval.tsx";function bp({data:r,loading:n,height:e}){return mp.registerShape("interval","border-radius",{draw(t,i){const a=t.points;let o=[];o.push(["M",a[0].x,a[0].y]),o.push(["L",a[1].x,a[1].y]),o.push(["L",a[2].x,a[2].y]),o.push(["L",a[3].x,a[3].y]),o.push("Z"),o=this.parsePath(o);const f=i.addGroup(),s=(o[1][2]-o[2][2])/2;return f.addShape("rect",{attrs:{x:o[0][1],y:o[0][2]-s*2,width:o[1][1]-o[0][1],height:o[1][2]-o[2][2],fill:t.color,radius:s}}),f}}),cr.exports.jsxDEV(c1,{loading:n,style:{width:"100%"},children:cr.exports.jsxDEV(zl,{height:e||370,padding:"auto",data:r,autoFit:!0,className:"chart-wrapper",children:[cr.exports.jsxDEV(h1,{transpose:!0},void 0,!1,{fileName:Pe,lineNumber:51,columnNumber:9},this),cr.exports.jsxDEV(yp,{color:"#4086FF",position:"name*count",size:10,shape:"border-radius"},void 0,!1,{fileName:Pe,lineNumber:52,columnNumber:9},this),cr.exports.jsxDEV(g1,{children:(t,i)=>cr.exports.jsxDEV(m1,{title:t,data:i},void 0,!1,{fileName:Pe,lineNumber:60,columnNumber:20},this)},void 0,!1,{fileName:Pe,lineNumber:58,columnNumber:9},this),cr.exports.jsxDEV(p1,{name:"count",label:{formatter(t){return`${Number(t)/1e3}k`}}},void 0,!1,{fileName:Pe,lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:Pe,lineNumber:44,columnNumber:7},this)},void 0,!1,{fileName:Pe,lineNumber:43,columnNumber:5},this)}var dr=Wn(_p);function Te(){return new ha}function ha(){this.reset()}ha.prototype={constructor:ha,reset:function(){this.s=this.t=0},add:function(r){Ff($i,r,this.t),Ff(this,$i.s,this.s),this.s?this.t+=$i.t:this.s=$i.t},valueOf:function(){return this.s}};var $i=new ha;function Ff(r,n,e){var t=r.s=n+e,i=t-n,a=t-i;r.t=n-a+(e-i)}var tr=1e-6,qf=1e-12,wr=Math.PI,jr=wr/2,ga=wr/4,gn=wr*2,Ar=180/wr,ar=wr/180,Pr=Math.abs,mt=Math.atan,ln=Math.atan2,nr=Math.cos,Mi=Math.ceil,y1=Math.exp,pa=Math.log,Bo=Math.pow,Z=Math.sin,ei=Math.sign||function(r){return r>0?1:r<0?-1:0},Xr=Math.sqrt,Bl=Math.tan;function w1(r){return r>1?0:r<-1?wr:Math.acos(r)}function Tn(r){return r>1?jr:r<-1?-jr:Math.asin(r)}function zf(r){return(r=Z(r/2))*r}function Or(){}function da(r,n){r&&Gf.hasOwnProperty(r.type)&&Gf[r.type](r,n)}var Bf={Feature:function(r,n){da(r.geometry,n)},FeatureCollection:function(r,n){for(var e=r.features,t=-1,i=e.length;++t<i;)da(e[t].geometry,n)}},Gf={Sphere:function(r,n){n.sphere()},Point:function(r,n){r=r.coordinates,n.point(r[0],r[1],r[2])},MultiPoint:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)r=e[t],n.point(r[0],r[1],r[2])},LineString:function(r,n){zu(r.coordinates,n,0)},MultiLineString:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)zu(e[t],n,0)},Polygon:function(r,n){Uf(r.coordinates,n)},MultiPolygon:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)Uf(e[t],n)},GeometryCollection:function(r,n){for(var e=r.geometries,t=-1,i=e.length;++t<i;)da(e[t],n)}};function zu(r,n,e){var t=-1,i=r.length-e,a;for(n.lineStart();++t<i;)a=r[t],n.point(a[0],a[1],a[2]);n.lineEnd()}function Uf(r,n){var e=-1,t=r.length;for(n.polygonStart();++e<t;)zu(r[e],n,1);n.polygonEnd()}function vn(r,n){r&&Bf.hasOwnProperty(r.type)?Bf[r.type](r,n):da(r,n)}var ma=Te(),ya=Te(),E1,S1,Bu,Gu,Uu,Yn={point:Or,lineStart:Or,lineEnd:Or,polygonStart:function(){ma.reset(),Yn.lineStart=Pp,Yn.lineEnd=Rp},polygonEnd:function(){var r=+ma;ya.add(r<0?gn+r:r),this.lineStart=this.lineEnd=this.point=Or},sphere:function(){ya.add(gn)}};function Pp(){Yn.point=Np}function Rp(){_1(E1,S1)}function Np(r,n){Yn.point=_1,E1=r,S1=n,r*=ar,n*=ar,Bu=r,Gu=nr(n=n/2+ga),Uu=Z(n)}function _1(r,n){r*=ar,n*=ar,n=n/2+ga;var e=r-Bu,t=e>=0?1:-1,i=t*e,a=nr(n),o=Z(n),f=Uu*o,s=Gu*a+f*nr(i),c=f*t*Z(i);ma.add(ln(c,s)),Bu=r,Gu=a,Uu=o}function kp(r){return ya.reset(),vn(r,Yn),ya*2}function wa(r){return[ln(r[1],r[0]),Tn(r[2])]}function ze(r){var n=r[0],e=r[1],t=nr(e);return[t*nr(n),t*Z(n),Z(e)]}function bi(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function at(r,n){return[r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]]}function Go(r,n){r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}function Pi(r,n){return[r[0]*n,r[1]*n,r[2]*n]}function Ea(r){var n=Xr(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=n,r[1]/=n,r[2]/=n}var qr,Sn,Ur,Pn,Ce,T1,x1,rt,Qt=Te(),ge,ie,re={point:Vu,lineStart:Vf,lineEnd:Hf,polygonStart:function(){re.point=M1,re.lineStart=Cp,re.lineEnd=Dp,Qt.reset(),Yn.polygonStart()},polygonEnd:function(){Yn.polygonEnd(),re.point=Vu,re.lineStart=Vf,re.lineEnd=Hf,ma<0?(qr=-(Ur=180),Sn=-(Pn=90)):Qt>tr?Pn=90:Qt<-tr&&(Sn=-90),ie[0]=qr,ie[1]=Ur}};function Vu(r,n){ge.push(ie=[qr=r,Ur=r]),n<Sn&&(Sn=n),n>Pn&&(Pn=n)}function $1(r,n){var e=ze([r*ar,n*ar]);if(rt){var t=at(rt,e),i=[t[1],-t[0],0],a=at(i,t);Ea(a),a=wa(a);var o=r-Ce,f=o>0?1:-1,s=a[0]*Ar*f,c,u=Pr(o)>180;u^(f*Ce<s&&s<f*r)?(c=a[1]*Ar,c>Pn&&(Pn=c)):(s=(s+360)%360-180,u^(f*Ce<s&&s<f*r)?(c=-a[1]*Ar,c<Sn&&(Sn=c)):(n<Sn&&(Sn=n),n>Pn&&(Pn=n))),u?r<Ce?wn(qr,r)>wn(qr,Ur)&&(Ur=r):wn(r,Ur)>wn(qr,Ur)&&(qr=r):Ur>=qr?(r<qr&&(qr=r),r>Ur&&(Ur=r)):r>Ce?wn(qr,r)>wn(qr,Ur)&&(Ur=r):wn(r,Ur)>wn(qr,Ur)&&(qr=r)}else ge.push(ie=[qr=r,Ur=r]);n<Sn&&(Sn=n),n>Pn&&(Pn=n),rt=e,Ce=r}function Vf(){re.point=$1}function Hf(){ie[0]=qr,ie[1]=Ur,re.point=Vu,rt=null}function M1(r,n){if(rt){var e=r-Ce;Qt.add(Pr(e)>180?e+(e>0?360:-360):e)}else T1=r,x1=n;Yn.point(r,n),$1(r,n)}function Cp(){Yn.lineStart()}function Dp(){M1(T1,x1),Yn.lineEnd(),Pr(Qt)>tr&&(qr=-(Ur=180)),ie[0]=qr,ie[1]=Ur,rt=null}function wn(r,n){return(n-=r)<0?n+360:n}function Ap(r,n){return r[0]-n[0]}function jf(r,n){return r[0]<=r[1]?r[0]<=n&&n<=r[1]:n<r[0]||r[1]<n}function b1(r){var n,e,t,i,a,o,f;if(Pn=Ur=-(qr=Sn=1/0),ge=[],vn(r,re),e=ge.length){for(ge.sort(Ap),n=1,t=ge[0],a=[t];n<e;++n)i=ge[n],jf(t,i[0])||jf(t,i[1])?(wn(t[0],i[1])>wn(t[0],t[1])&&(t[1]=i[1]),wn(i[0],t[1])>wn(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,n=0,t=a[e];n<=e;t=i,++n)i=a[n],(f=wn(t[1],i[0]))>o&&(o=f,qr=i[0],Ur=t[1])}return ge=ie=null,qr===1/0||Sn===1/0?[[NaN,NaN],[NaN,NaN]]:[[qr,Sn],[Ur,Pn]]}var Ot,Sa,_a,Ta,xa,$a,Ma,ba,Hu,ju,Yu,P1,R1,an,on,un,On={sphere:Or,point:Gl,lineStart:Yf,lineEnd:Xf,polygonStart:function(){On.lineStart=Op,On.lineEnd=Fp},polygonEnd:function(){On.lineStart=Yf,On.lineEnd=Xf}};function Gl(r,n){r*=ar,n*=ar;var e=nr(n);hi(e*nr(r),e*Z(r),Z(n))}function hi(r,n,e){++Ot,_a+=(r-_a)/Ot,Ta+=(n-Ta)/Ot,xa+=(e-xa)/Ot}function Yf(){On.point=Lp}function Lp(r,n){r*=ar,n*=ar;var e=nr(n);an=e*nr(r),on=e*Z(r),un=Z(n),On.point=Ip,hi(an,on,un)}function Ip(r,n){r*=ar,n*=ar;var e=nr(n),t=e*nr(r),i=e*Z(r),a=Z(n),o=ln(Xr((o=on*a-un*i)*o+(o=un*t-an*a)*o+(o=an*i-on*t)*o),an*t+on*i+un*a);Sa+=o,$a+=o*(an+(an=t)),Ma+=o*(on+(on=i)),ba+=o*(un+(un=a)),hi(an,on,un)}function Xf(){On.point=Gl}function Op(){On.point=qp}function Fp(){N1(P1,R1),On.point=Gl}function qp(r,n){P1=r,R1=n,r*=ar,n*=ar,On.point=N1;var e=nr(n);an=e*nr(r),on=e*Z(r),un=Z(n),hi(an,on,un)}function N1(r,n){r*=ar,n*=ar;var e=nr(n),t=e*nr(r),i=e*Z(r),a=Z(n),o=on*a-un*i,f=un*t-an*a,s=an*i-on*t,c=Xr(o*o+f*f+s*s),u=Tn(c),v=c&&-u/c;Hu+=v*o,ju+=v*f,Yu+=v*s,Sa+=u,$a+=u*(an+(an=t)),Ma+=u*(on+(on=i)),ba+=u*(un+(un=a)),hi(an,on,un)}function yt(r){Ot=Sa=_a=Ta=xa=$a=Ma=ba=Hu=ju=Yu=0,vn(r,On);var n=Hu,e=ju,t=Yu,i=n*n+e*e+t*t;return i<qf&&(n=$a,e=Ma,t=ba,Sa<tr&&(n=_a,e=Ta,t=xa),i=n*n+e*e+t*t,i<qf)?[NaN,NaN]:[ln(e,n)*Ar,Tn(t/Xr(i))*Ar]}function je(r){return function(){return r}}function k1(r,n){function e(t,i){return t=r(t,i),n(t[0],t[1])}return r.invert&&n.invert&&(e.invert=function(t,i){return t=n.invert(t,i),t&&r.invert(t[0],t[1])}),e}function Xu(r,n){return[r>wr?r-gn:r<-wr?r+gn:r,n]}Xu.invert=Xu;function Ul(r,n,e){return(r%=gn)?n||e?k1(Jf(r),Kf(n,e)):Jf(r):n||e?Kf(n,e):Xu}function Wf(r){return function(n,e){return n+=r,[n>wr?n-gn:n<-wr?n+gn:n,e]}}function Jf(r){var n=Wf(r);return n.invert=Wf(-r),n}function Kf(r,n){var e=nr(r),t=Z(r),i=nr(n),a=Z(n);function o(f,s){var c=nr(s),u=nr(f)*c,v=Z(f)*c,l=Z(s),h=l*e+u*t;return[ln(v*i-h*a,u*e-l*t),Tn(h*i+v*a)]}return o.invert=function(f,s){var c=nr(s),u=nr(f)*c,v=Z(f)*c,l=Z(s),h=l*i-v*a;return[ln(v*i+l*a,u*e+h*t),Tn(h*e-u*t)]},o}function ot(r){r=Ul(r[0]*ar,r[1]*ar,r.length>2?r[2]*ar:0);function n(e){return e=r(e[0]*ar,e[1]*ar),e[0]*=Ar,e[1]*=Ar,e}return n.invert=function(e){return e=r.invert(e[0]*ar,e[1]*ar),e[0]*=Ar,e[1]*=Ar,e},n}function C1(r,n,e,t,i,a){if(!!e){var o=nr(n),f=Z(n),s=t*e;i==null?(i=n+t*gn,a=n-s/2):(i=Qf(o,i),a=Qf(o,a),(t>0?i<a:i>a)&&(i+=t*gn));for(var c,u=i;t>0?u>a:u<a;u-=s)c=wa([o,-f*nr(u),-f*Z(u)]),r.point(c[0],c[1])}}function Qf(r,n){n=ze(n),n[0]-=r,Ea(n);var e=w1(-n[1]);return((-n[2]<0?-e:e)+gn-tr)%gn}function D1(){var r=je([0,0]),n=je(90),e=je(6),t,i,a={point:o};function o(s,c){t.push(s=i(s,c)),s[0]*=Ar,s[1]*=Ar}function f(){var s=r.apply(this,arguments),c=n.apply(this,arguments)*ar,u=e.apply(this,arguments)*ar;return t=[],i=Ul(-s[0]*ar,-s[1]*ar,0).invert,C1(a,c,u,1),s={type:"Polygon",coordinates:[t]},t=i=null,s}return f.center=function(s){return arguments.length?(r=typeof s=="function"?s:je([+s[0],+s[1]]),f):r},f.radius=function(s){return arguments.length?(n=typeof s=="function"?s:je(+s),f):n},f.precision=function(s){return arguments.length?(e=typeof s=="function"?s:je(+s),f):e},f}function A1(){var r=[],n;return{point:function(e,t){n.push([e,t])},lineStart:function(){r.push(n=[])},lineEnd:Or,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var e=r;return r=[],n=null,e}}}function zp(r,n,e,t,i,a){var o=r[0],f=r[1],s=n[0],c=n[1],u=0,v=1,l=s-o,h=c-f,g;if(g=e-o,!(!l&&g>0)){if(g/=l,l<0){if(g<u)return;g<v&&(v=g)}else if(l>0){if(g>v)return;g>u&&(u=g)}if(g=i-o,!(!l&&g<0)){if(g/=l,l<0){if(g>v)return;g>u&&(u=g)}else if(l>0){if(g<u)return;g<v&&(v=g)}if(g=t-f,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>u&&(u=g)}if(g=a-f,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<v&&(v=g)}return u>0&&(r[0]=o+u*l,r[1]=f+u*h),v<1&&(n[0]=o+v*l,n[1]=f+v*h),!0}}}}}function na(r,n){return Pr(r[0]-n[0])<tr&&Pr(r[1]-n[1])<tr}function Ri(r,n,e,t){this.x=r,this.z=n,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function L1(r,n,e,t,i){var a=[],o=[],f,s;if(r.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],m=g[p],y;if(na(d,m)){for(i.lineStart(),f=0;f<p;++f)i.point((d=g[f])[0],d[1]);i.lineEnd();return}a.push(y=new Ri(d,g,null,!0)),o.push(y.o=new Ri(d,null,y,!1)),a.push(y=new Ri(m,g,null,!1)),o.push(y.o=new Ri(m,null,y,!0))}}),!!a.length){for(o.sort(n),Zf(a),Zf(o),f=0,s=o.length;f<s;++f)o[f].e=e=!e;for(var c=a[0],u,v;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,s=u.length;f<s;++f)i.point((v=u[f])[0],v[1]);else t(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((v=u[f])[0],v[1]);else t(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Zf(r){if(!!(n=r.length)){for(var n,e=0,t=r[0],i;++e<n;)t.n=i=r[e],i.p=t,t=i;t.n=i=r[0],i.p=t}}function Vl(r,n){return r<n?-1:r>n?1:r>=n?0:NaN}function Bp(r){return r.length===1&&(r=Gp(r)),{left:function(n,e,t,i){for(t==null&&(t=0),i==null&&(i=n.length);t<i;){var a=t+i>>>1;r(n[a],e)<0?t=a+1:i=a}return t},right:function(n,e,t,i){for(t==null&&(t=0),i==null&&(i=n.length);t<i;){var a=t+i>>>1;r(n[a],e)>0?i=a:t=a+1}return t}}}function Gp(r){return function(n,e){return Vl(r(n),e)}}Bp(Vl);function de(r,n,e){r=+r,n=+n,e=(i=arguments.length)<2?(n=r,r=0,1):i<3?1:+e;for(var t=-1,i=Math.max(0,Math.ceil((n-r)/e))|0,a=new Array(i);++t<i;)a[t]=r+t*e;return a}function we(r,n){var e=r.length,t=-1,i,a;if(n==null){for(;++t<e;)if((i=r[t])!=null&&i>=i)for(a=i;++t<e;)(i=r[t])!=null&&i>a&&(a=i)}else for(;++t<e;)if((i=n(r[t],t,r))!=null&&i>=i)for(a=i;++t<e;)(i=n(r[t],t,r))!=null&&i>a&&(a=i);return a}function Hl(r){for(var n=r.length,e,t=-1,i=0,a,o;++t<n;)i+=r[t].length;for(a=new Array(i);--n>=0;)for(o=r[n],e=o.length;--e>=0;)a[--i]=o[e];return a}function en(r,n){var e=r.length,t=-1,i,a;if(n==null){for(;++t<e;)if((i=r[t])!=null&&i>=i)for(a=i;++t<e;)(i=r[t])!=null&&a>i&&(a=i)}else for(;++t<e;)if((i=n(r[t],t,r))!=null&&i>=i)for(a=i;++t<e;)(i=n(r[t],t,r))!=null&&a>i&&(a=i);return a}function Uo(r,n){var e=r.length,t=-1,i,a=0;if(n==null)for(;++t<e;)(i=+r[t])&&(a+=i);else for(;++t<e;)(i=+n(r[t],t,r))&&(a+=i);return a}var Ft=1e9,Ni=-Ft;function jl(r,n,e,t){function i(c,u){return r<=c&&c<=e&&n<=u&&u<=t}function a(c,u,v,l){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(u,v))||s(c,u)<0^v>0)do l.point(h===0||h===3?r:e,h>1?t:n);while((h=(h+v+4)%4)!==g);else l.point(u[0],u[1])}function o(c,u){return Pr(c[0]-r)<tr?u>0?0:3:Pr(c[0]-e)<tr?u>0?2:1:Pr(c[1]-n)<tr?u>0?1:0:u>0?3:2}function f(c,u){return s(c.x,u.x)}function s(c,u){var v=o(c,1),l=o(u,1);return v!==l?v-l:v===0?u[1]-c[1]:v===1?c[0]-u[0]:v===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,v=A1(),l,h,g,p,d,m,y,E,S,x,M,D={point:k,lineStart:N,lineEnd:U,polygonStart:O,polygonEnd:L};function k(w,b){i(w,b)&&u.point(w,b)}function C(){for(var w=0,b=0,P=h.length;b<P;++b)for(var I=h[b],rr=1,gr=I.length,ur=I[0],pr,br,Vr=ur[0],Wr=ur[1];rr<gr;++rr)pr=Vr,br=Wr,ur=I[rr],Vr=ur[0],Wr=ur[1],br<=t?Wr>t&&(Vr-pr)*(t-br)>(Wr-br)*(r-pr)&&++w:Wr<=t&&(Vr-pr)*(t-br)<(Wr-br)*(r-pr)&&--w;return w}function O(){u=v,l=[],h=[],M=!0}function L(){var w=C(),b=M&&w,P=(l=Hl(l)).length;(b||P)&&(c.polygonStart(),b&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),P&&L1(l,f,w,a,c),c.polygonEnd()),u=c,l=h=g=null}function N(){D.point=_,h&&h.push(g=[]),x=!0,S=!1,y=E=NaN}function U(){l&&(_(p,d),m&&S&&v.rejoin(),l.push(v.result())),D.point=k,S&&u.lineEnd()}function _(w,b){var P=i(w,b);if(h&&g.push([w,b]),x)p=w,d=b,m=P,x=!1,P&&(u.lineStart(),u.point(w,b));else if(P&&S)u.point(w,b);else{var I=[y=Math.max(Ni,Math.min(Ft,y)),E=Math.max(Ni,Math.min(Ft,E))],rr=[w=Math.max(Ni,Math.min(Ft,w)),b=Math.max(Ni,Math.min(Ft,b))];zp(I,rr,r,n,e,t)?(S||(u.lineStart(),u.point(I[0],I[1])),u.point(rr[0],rr[1]),P||u.lineEnd(),M=!1):P&&(u.lineStart(),u.point(w,b),M=!1)}y=w,E=b,S=P}return D}}function Up(){var r=0,n=0,e=960,t=500,i,a,o;return o={stream:function(f){return i&&a===f?i:i=jl(r,n,e,t)(a=f)},extent:function(f){return arguments.length?(r=+f[0][0],n=+f[0][1],e=+f[1][0],t=+f[1][1],i=a=null,o):[[r,n],[e,t]]}}}var Vo=Te();function I1(r,n){var e=n[0],t=n[1],i=[Z(e),-nr(e),0],a=0,o=0;Vo.reset();for(var f=0,s=r.length;f<s;++f)if(!!(u=(c=r[f]).length))for(var c,u,v=c[u-1],l=v[0],h=v[1]/2+ga,g=Z(h),p=nr(h),d=0;d<u;++d,l=y,g=S,p=x,v=m){var m=c[d],y=m[0],E=m[1]/2+ga,S=Z(E),x=nr(E),M=y-l,D=M>=0?1:-1,k=D*M,C=k>wr,O=g*S;if(Vo.add(ln(O*D*Z(k),p*x+O*nr(k))),a+=C?M+D*gn:M,C^l>=e^y>=e){var L=at(ze(v),ze(m));Ea(L);var N=at(i,L);Ea(N);var U=(C^M>=0?-1:1)*Tn(N[2]);(t>U||t===U&&(L[0]||L[1]))&&(o+=C^M>=0?1:-1)}}return(a<-tr||a<tr&&Vo<-tr)^o&1}var Wu=Te(),Ju,ea,ta,ut={sphere:Or,point:Or,lineStart:Vp,lineEnd:Or,polygonStart:Or,polygonEnd:Or};function Vp(){ut.point=jp,ut.lineEnd=Hp}function Hp(){ut.point=ut.lineEnd=Or}function jp(r,n){r*=ar,n*=ar,Ju=r,ea=Z(n),ta=nr(n),ut.point=Yp}function Yp(r,n){r*=ar,n*=ar;var e=Z(n),t=nr(n),i=Pr(r-Ju),a=nr(i),o=Z(i),f=t*o,s=ta*e-ea*t*a,c=ea*e+ta*t*a;Wu.add(ln(Xr(f*f+s*s),c)),Ju=r,ea=e,ta=t}function O1(r){return Wu.reset(),vn(r,ut),+Wu}var Ku=[null,null],Xp={type:"LineString",coordinates:Ku};function Zt(r,n){return Ku[0]=r,Ku[1]=n,O1(Xp)}var rc={Feature:function(r,n){return Pa(r.geometry,n)},FeatureCollection:function(r,n){for(var e=r.features,t=-1,i=e.length;++t<i;)if(Pa(e[t].geometry,n))return!0;return!1}},nc={Sphere:function(){return!0},Point:function(r,n){return ec(r.coordinates,n)},MultiPoint:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)if(ec(e[t],n))return!0;return!1},LineString:function(r,n){return tc(r.coordinates,n)},MultiLineString:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)if(tc(e[t],n))return!0;return!1},Polygon:function(r,n){return ic(r.coordinates,n)},MultiPolygon:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)if(ic(e[t],n))return!0;return!1},GeometryCollection:function(r,n){for(var e=r.geometries,t=-1,i=e.length;++t<i;)if(Pa(e[t],n))return!0;return!1}};function Pa(r,n){return r&&nc.hasOwnProperty(r.type)?nc[r.type](r,n):!1}function ec(r,n){return Zt(r,n)===0}function tc(r,n){var e=Zt(r[0],r[1]),t=Zt(r[0],n),i=Zt(n,r[1]);return t+i<=e+tr}function ic(r,n){return!!I1(r.map(Wp),F1(n))}function Wp(r){return r=r.map(F1),r.pop(),r}function F1(r){return[r[0]*ar,r[1]*ar]}function Jp(r,n){return(r&&rc.hasOwnProperty(r.type)?rc[r.type]:Pa)(r,n)}function ac(r,n,e){var t=de(r,n-tr,e).concat(n);return function(i){return t.map(function(a){return[i,a]})}}function oc(r,n,e){var t=de(r,n-tr,e).concat(n);return function(i){return t.map(function(a){return[a,i]})}}function q1(){var r,n,e,t,i,a,o,f,s=10,c=s,u=90,v=360,l,h,g,p,d=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return de(Mi(t/u)*u,e,u).map(g).concat(de(Mi(f/v)*v,o,v).map(p)).concat(de(Mi(n/s)*s,r,s).filter(function(E){return Pr(E%u)>tr}).map(l)).concat(de(Mi(a/c)*c,i,c).filter(function(E){return Pr(E%v)>tr}).map(h))}return m.lines=function(){return y().map(function(E){return{type:"LineString",coordinates:E}})},m.outline=function(){return{type:"Polygon",coordinates:[g(t).concat(p(o).slice(1),g(e).reverse().slice(1),p(f).reverse().slice(1))]}},m.extent=function(E){return arguments.length?m.extentMajor(E).extentMinor(E):m.extentMinor()},m.extentMajor=function(E){return arguments.length?(t=+E[0][0],e=+E[1][0],f=+E[0][1],o=+E[1][1],t>e&&(E=t,t=e,e=E),f>o&&(E=f,f=o,o=E),m.precision(d)):[[t,f],[e,o]]},m.extentMinor=function(E){return arguments.length?(n=+E[0][0],r=+E[1][0],a=+E[0][1],i=+E[1][1],n>r&&(E=n,n=r,r=E),a>i&&(E=a,a=i,i=E),m.precision(d)):[[n,a],[r,i]]},m.step=function(E){return arguments.length?m.stepMajor(E).stepMinor(E):m.stepMinor()},m.stepMajor=function(E){return arguments.length?(u=+E[0],v=+E[1],m):[u,v]},m.stepMinor=function(E){return arguments.length?(s=+E[0],c=+E[1],m):[s,c]},m.precision=function(E){return arguments.length?(d=+E,l=ac(a,i,90),h=oc(n,r,d),g=ac(f,o,90),p=oc(t,e,d),m):d},m.extentMajor([[-180,-90+tr],[180,90-tr]]).extentMinor([[-180,-80-tr],[180,80+tr]])}function Kp(){return q1()()}function Ra(r,n){var e=r[0]*ar,t=r[1]*ar,i=n[0]*ar,a=n[1]*ar,o=nr(t),f=Z(t),s=nr(a),c=Z(a),u=o*nr(e),v=o*Z(e),l=s*nr(i),h=s*Z(i),g=2*Tn(Xr(zf(a-t)+o*s*zf(i-e))),p=Z(g),d=g?function(m){var y=Z(m*=g)/p,E=Z(g-m)/p,S=E*u+y*l,x=E*v+y*h,M=E*f+y*c;return[ln(x,S)*Ar,ln(M,Xr(S*S+x*x))*Ar]}:function(){return[e*Ar,t*Ar]};return d.distance=g,d}function Fe(r){return r}var Ho=Te(),Qu=Te(),z1,B1,Zu,rl,ne={point:Or,lineStart:Or,lineEnd:Or,polygonStart:function(){ne.lineStart=Qp,ne.lineEnd=rd},polygonEnd:function(){ne.lineStart=ne.lineEnd=ne.point=Or,Ho.add(Pr(Qu)),Qu.reset()},result:function(){var r=Ho/2;return Ho.reset(),r}};function Qp(){ne.point=Zp}function Zp(r,n){ne.point=G1,z1=Zu=r,B1=rl=n}function G1(r,n){Qu.add(rl*r-Zu*n),Zu=r,rl=n}function rd(){G1(z1,B1)}var lt=1/0,Na=lt,ti=-lt,ka=ti,Ca={point:nd,lineStart:Or,lineEnd:Or,polygonStart:Or,polygonEnd:Or,result:function(){var r=[[lt,Na],[ti,ka]];return ti=ka=-(Na=lt=1/0),r}};function nd(r,n){r<lt&&(lt=r),r>ti&&(ti=r),n<Na&&(Na=n),n>ka&&(ka=n)}var nl=0,el=0,qt=0,Da=0,Aa=0,Je=0,tl=0,il=0,zt=0,U1,V1,Un,Vn,Rn={point:Be,lineStart:uc,lineEnd:lc,polygonStart:function(){Rn.lineStart=id,Rn.lineEnd=ad},polygonEnd:function(){Rn.point=Be,Rn.lineStart=uc,Rn.lineEnd=lc},result:function(){var r=zt?[tl/zt,il/zt]:Je?[Da/Je,Aa/Je]:qt?[nl/qt,el/qt]:[NaN,NaN];return nl=el=qt=Da=Aa=Je=tl=il=zt=0,r}};function Be(r,n){nl+=r,el+=n,++qt}function uc(){Rn.point=ed}function ed(r,n){Rn.point=td,Be(Un=r,Vn=n)}function td(r,n){var e=r-Un,t=n-Vn,i=Xr(e*e+t*t);Da+=i*(Un+r)/2,Aa+=i*(Vn+n)/2,Je+=i,Be(Un=r,Vn=n)}function lc(){Rn.point=Be}function id(){Rn.point=od}function ad(){H1(U1,V1)}function od(r,n){Rn.point=H1,Be(U1=Un=r,V1=Vn=n)}function H1(r,n){var e=r-Un,t=n-Vn,i=Xr(e*e+t*t);Da+=i*(Un+r)/2,Aa+=i*(Vn+n)/2,Je+=i,i=Vn*r-Un*n,tl+=i*(Un+r),il+=i*(Vn+n),zt+=i*3,Be(Un=r,Vn=n)}function j1(r){this._context=r}j1.prototype={_radius:4.5,pointRadius:function(r){return this._radius=r,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(r,n){switch(this._point){case 0:{this._context.moveTo(r,n),this._point=1;break}case 1:{this._context.lineTo(r,n);break}default:{this._context.moveTo(r+this._radius,n),this._context.arc(r,n,this._radius,0,gn);break}}},result:Or};var al=Te(),jo,Y1,X1,Bt,Gt,ii={point:Or,lineStart:function(){ii.point=ud},lineEnd:function(){jo&&W1(Y1,X1),ii.point=Or},polygonStart:function(){jo=!0},polygonEnd:function(){jo=null},result:function(){var r=+al;return al.reset(),r}};function ud(r,n){ii.point=W1,Y1=Bt=r,X1=Gt=n}function W1(r,n){Bt-=r,Gt-=n,al.add(Xr(Bt*Bt+Gt*Gt)),Bt=r,Gt=n}function J1(){this._string=[]}J1.prototype={_radius:4.5,_circle:sc(4.5),pointRadius:function(r){return(r=+r)!==this._radius&&(this._radius=r,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(r,n){switch(this._point){case 0:{this._string.push("M",r,",",n),this._point=1;break}case 1:{this._string.push("L",r,",",n);break}default:{this._circle==null&&(this._circle=sc(this._radius)),this._string.push("M",r,",",n,this._circle);break}}},result:function(){if(this._string.length){var r=this._string.join("");return this._string=[],r}else return null}};function sc(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z"}function ld(r,n){var e=4.5,t,i;function a(o){return o&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),vn(o,t(i))),i.result()}return a.area=function(o){return vn(o,t(ne)),ne.result()},a.measure=function(o){return vn(o,t(ii)),ii.result()},a.bounds=function(o){return vn(o,t(Ca)),Ca.result()},a.centroid=function(o){return vn(o,t(Rn)),Rn.result()},a.projection=function(o){return arguments.length?(t=o==null?(r=null,Fe):(r=o).stream,a):r},a.context=function(o){return arguments.length?(i=o==null?(n=null,new J1):new j1(n=o),typeof e!="function"&&i.pointRadius(e),a):n},a.pointRadius=function(o){return arguments.length?(e=typeof o=="function"?o:(i.pointRadius(+o),+o),a):e},a.projection(r).context(n)}function K1(r,n,e,t){return function(i,a){var o=n(a),f=i.invert(t[0],t[1]),s=A1(),c=n(s),u=!1,v,l,h,g={point:p,lineStart:m,lineEnd:y,polygonStart:function(){g.point=E,g.lineStart=S,g.lineEnd=x,l=[],v=[]},polygonEnd:function(){g.point=p,g.lineStart=m,g.lineEnd=y,l=Hl(l);var M=I1(v,f);l.length?(u||(a.polygonStart(),u=!0),L1(l,fd,M,e,a)):M&&(u||(a.polygonStart(),u=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),l=v=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function p(M,D){var k=i(M,D);r(M=k[0],D=k[1])&&a.point(M,D)}function d(M,D){var k=i(M,D);o.point(k[0],k[1])}function m(){g.point=d,o.lineStart()}function y(){g.point=p,o.lineEnd()}function E(M,D){h.push([M,D]);var k=i(M,D);c.point(k[0],k[1])}function S(){c.lineStart(),h=[]}function x(){E(h[0][0],h[0][1]),c.lineEnd();var M=c.clean(),D=s.result(),k,C=D.length,O,L,N;if(h.pop(),v.push(h),h=null,!!C){if(M&1){if(L=D[0],(O=L.length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),k=0;k<O;++k)a.point((N=L[k])[0],N[1]);a.lineEnd()}return}C>1&&M&2&&D.push(D.pop().concat(D.shift())),l.push(D.filter(sd))}}return g}}function sd(r){return r.length>1}function fd(r,n){return((r=r.x)[0]<0?r[1]-jr-tr:jr-r[1])-((n=n.x)[0]<0?n[1]-jr-tr:jr-n[1])}var fc=K1(function(){return!0},cd,hd,[-wr,-jr]);function cd(r){var n=NaN,e=NaN,t=NaN,i;return{lineStart:function(){r.lineStart(),i=1},point:function(a,o){var f=a>0?wr:-wr,s=Pr(a-n);Pr(s-wr)<tr?(r.point(n,e=(e+o)/2>0?jr:-jr),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),r.point(a,e),i=0):t!==f&&s>=wr&&(Pr(n-t)<tr&&(n-=t*tr),Pr(a-f)<tr&&(a-=f*tr),e=vd(n,e,a,o),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),i=0),r.point(n=a,e=o),t=f},lineEnd:function(){r.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function vd(r,n,e,t){var i,a,o=Z(r-e);return Pr(o)>tr?mt((Z(n)*(a=nr(t))*Z(e)-Z(t)*(i=nr(n))*Z(r))/(i*a*o)):(n+t)/2}function hd(r,n,e,t){var i;if(r==null)i=e*jr,t.point(-wr,i),t.point(0,i),t.point(wr,i),t.point(wr,0),t.point(wr,-i),t.point(0,-i),t.point(-wr,-i),t.point(-wr,0),t.point(-wr,i);else if(Pr(r[0]-n[0])>tr){var a=r[0]<n[0]?wr:-wr;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(n[0],n[1])}function gd(r,n){var e=nr(r),t=e>0,i=Pr(e)>tr;function a(u,v,l,h){C1(h,r,n,l,u,v)}function o(u,v){return nr(u)*nr(v)>e}function f(u){var v,l,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,m){var y=[d,m],E,S=o(d,m),x=t?S?0:c(d,m):S?c(d+(d<0?wr:-wr),m):0;if(!v&&(g=h=S)&&u.lineStart(),S!==h&&(E=s(v,y),(!E||na(v,E)||na(y,E))&&(y[0]+=tr,y[1]+=tr,S=o(y[0],y[1]))),S!==h)p=0,S?(u.lineStart(),E=s(y,v),u.point(E[0],E[1])):(E=s(v,y),u.point(E[0],E[1]),u.lineEnd()),v=E;else if(i&&v&&t^S){var M;!(x&l)&&(M=s(y,v,!0))&&(p=0,t?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1])))}S&&(!v||!na(v,y))&&u.point(y[0],y[1]),v=y,h=S,l=x},lineEnd:function(){h&&u.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function s(u,v,l){var h=ze(u),g=ze(v),p=[1,0,0],d=at(h,g),m=bi(d,d),y=d[0],E=m-y*y;if(!E)return!l&&u;var S=e*m/E,x=-e*y/E,M=at(p,d),D=Pi(p,S),k=Pi(d,x);Go(D,k);var C=M,O=bi(D,C),L=bi(C,C),N=O*O-L*(bi(D,D)-1);if(!(N<0)){var U=Xr(N),_=Pi(C,(-O-U)/L);if(Go(_,D),_=wa(_),!l)return _;var w=u[0],b=v[0],P=u[1],I=v[1],rr;b<w&&(rr=w,w=b,b=rr);var gr=b-w,ur=Pr(gr-wr)<tr,pr=ur||gr<tr;if(!ur&&I<P&&(rr=P,P=I,I=rr),pr?ur?P+I>0^_[1]<(Pr(_[0]-w)<tr?P:I):P<=_[1]&&_[1]<=I:gr>wr^(w<=_[0]&&_[0]<=b)){var br=Pi(C,(-O+U)/L);return Go(br,D),[_,wa(br)]}}}function c(u,v){var l=t?r:wr-r,h=0;return u<-l?h|=1:u>l&&(h|=2),v<-l?h|=4:v>l&&(h|=8),h}return K1(o,f,a,t?[0,-r]:[-wr,r-wr])}function pd(r){return{stream:so(r)}}function so(r){return function(n){var e=new ol;for(var t in r)e[t]=r[t];return e.stream=n,e}}function ol(){}ol.prototype={constructor:ol,point:function(r,n){this.stream.point(r,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fo(r,n,e){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=r.clipExtent&&r.clipExtent();r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),vn(e,r.stream(Ca));var o=Ca.result(),f=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),s=+n[0][0]+(t-f*(o[1][0]+o[0][0]))/2,c=+n[0][1]+(i-f*(o[1][1]+o[0][1]))/2;return a!=null&&r.clipExtent(a),r.scale(f*150).translate([s,c])}function Yl(r,n,e){return fo(r,[[0,0],n],e)}var cc=16,dd=nr(30*ar);function vc(r,n){return+n?yd(r,n):md(r)}function md(r){return so({point:function(n,e){n=r(n,e),this.stream.point(n[0],n[1])}})}function yd(r,n){function e(t,i,a,o,f,s,c,u,v,l,h,g,p,d){var m=c-t,y=u-i,E=m*m+y*y;if(E>4*n&&p--){var S=o+l,x=f+h,M=s+g,D=Xr(S*S+x*x+M*M),k=Tn(M/=D),C=Pr(Pr(M)-1)<tr||Pr(a-v)<tr?(a+v)/2:ln(x,S),O=r(C,k),L=O[0],N=O[1],U=L-t,_=N-i,w=y*U-m*_;(w*w/E>n||Pr((m*U+y*_)/E-.5)>.3||o*l+f*h+s*g<dd)&&(e(t,i,a,o,f,s,L,N,C,S/=D,x/=D,M,p,d),d.point(L,N),e(L,N,C,S,x,M,c,u,v,l,h,g,p,d))}}return function(t){var i,a,o,f,s,c,u,v,l,h,g,p,d={point:m,lineStart:y,lineEnd:S,polygonStart:function(){t.polygonStart(),d.lineStart=x},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function m(k,C){k=r(k,C),t.point(k[0],k[1])}function y(){v=NaN,d.point=E,t.lineStart()}function E(k,C){var O=ze([k,C]),L=r(k,C);e(v,l,u,h,g,p,v=L[0],l=L[1],u=k,h=O[0],g=O[1],p=O[2],cc,t),t.point(v,l)}function S(){d.point=m,t.lineEnd()}function x(){y(),d.point=M,d.lineEnd=D}function M(k,C){E(i=k,C),a=v,o=l,f=h,s=g,c=p,d.point=E}function D(){e(v,l,u,h,g,p,a,o,i,f,s,c,cc,t),d.lineEnd=S,S()}return d}}var wd=so({point:function(r,n){this.stream.point(r*ar,n*ar)}});function Q(r){return sn(function(){return r})()}function sn(r){var n,e=150,t=480,i=250,a,o,f=0,s=0,c=0,u=0,v=0,l,h,g=null,p=fc,d=null,m,y,E,S=Fe,x=.5,M=vc(L,x),D,k;function C(_){return _=h(_[0]*ar,_[1]*ar),[_[0]*e+a,o-_[1]*e]}function O(_){return _=h.invert((_[0]-a)/e,(o-_[1])/e),_&&[_[0]*Ar,_[1]*Ar]}function L(_,w){return _=n(_,w),[_[0]*e+a,o-_[1]*e]}C.stream=function(_){return D&&k===_?D:D=wd(p(l,M(S(k=_))))},C.clipAngle=function(_){return arguments.length?(p=+_?gd(g=_*ar,6*ar):(g=null,fc),U()):g*Ar},C.clipExtent=function(_){return arguments.length?(S=_==null?(d=m=y=E=null,Fe):jl(d=+_[0][0],m=+_[0][1],y=+_[1][0],E=+_[1][1]),U()):d==null?null:[[d,m],[y,E]]},C.scale=function(_){return arguments.length?(e=+_,N()):e},C.translate=function(_){return arguments.length?(t=+_[0],i=+_[1],N()):[t,i]},C.center=function(_){return arguments.length?(f=_[0]%360*ar,s=_[1]%360*ar,N()):[f*Ar,s*Ar]},C.rotate=function(_){return arguments.length?(c=_[0]%360*ar,u=_[1]%360*ar,v=_.length>2?_[2]%360*ar:0,N()):[c*Ar,u*Ar,v*Ar]},C.precision=function(_){return arguments.length?(M=vc(L,x=_*_),U()):Xr(x)},C.fitExtent=function(_,w){return fo(C,_,w)},C.fitSize=function(_,w){return Yl(C,_,w)};function N(){h=k1(l=Ul(c,u,v),n);var _=n(f,s);return a=t-_[0]*e,o=i+_[1]*e,U()}function U(){return D=k=null,C}return function(){return n=r.apply(this,arguments),C.invert=n.invert&&O,N()}}function Xl(r){var n=0,e=wr/3,t=sn(r),i=t(n,e);return i.parallels=function(a){return arguments.length?t(n=a[0]*ar,e=a[1]*ar):[n*Ar,e*Ar]},i}function Ed(r){var n=nr(r);function e(t,i){return[t*n,Z(i)/n]}return e.invert=function(t,i){return[t/n,Tn(i*n)]},e}function Q1(r,n){var e=Z(r),t=(e+Z(n))/2;if(Pr(t)<tr)return Ed(r);var i=1+e*(2*t-e),a=Xr(i)/t;function o(f,s){var c=Xr(i-2*t*Z(s))/t;return[c*Z(f*=t),a-c*nr(f)]}return o.invert=function(f,s){var c=a-s;return[ln(f,Pr(c))/t*ei(c),Tn((i-(f*f+c*c)*t*t)/(2*t))]},o}function La(){return Xl(Q1).scale(155.424).center([0,33.6442])}function Z1(){return La().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Sd(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function _d(){var r,n,e=Z1(),t,i=La().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=La().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=Sd([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+tr,p+.12*h+tr],[g-.214*h-tr,p+.234*h-tr]]).stream(c),f=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+tr,p+.166*h+tr],[g-.115*h-tr,p+.234*h-tr]]).stream(c),v()},u.fitExtent=function(l,h){return fo(u,l,h)},u.fitSize=function(l,h){return Yl(u,l,h)};function v(){return r=n=null,u}return u.scale(1070)}function rv(r){return function(n,e){var t=nr(n),i=nr(e),a=r(t*i);return[a*i*Z(n),a*Z(e)]}}function gi(r){return function(n,e){var t=Xr(n*n+e*e),i=r(t),a=Z(i),o=nr(i);return[ln(n*a,t*o),Tn(t&&e*a/t)]}}var nt=rv(function(r){return Xr(2/(1+r))});nt.invert=gi(function(r){return 2*Tn(r/2)});function Td(){return Q(nt).scale(124.75).clipAngle(180-.001)}var Ee=rv(function(r){return(r=w1(r))&&r/Z(r)});Ee.invert=gi(function(r){return r});function xd(){return Q(Ee).scale(79.4188).clipAngle(180-.001)}function pi(r,n){return[r,pa(Bl((jr+n)/2))]}pi.invert=function(r,n){return[r,2*mt(y1(n))-jr]};function $d(){return nv(pi).scale(961/gn)}function nv(r){var n=Q(r),e=n.center,t=n.scale,i=n.translate,a=n.clipExtent,o=null,f,s,c;n.scale=function(v){return arguments.length?(t(v),u()):t()},n.translate=function(v){return arguments.length?(i(v),u()):i()},n.center=function(v){return arguments.length?(e(v),u()):e()},n.clipExtent=function(v){return arguments.length?(v==null?o=f=s=c=null:(o=+v[0][0],f=+v[0][1],s=+v[1][0],c=+v[1][1]),u()):o==null?null:[[o,f],[s,c]]};function u(){var v=wr*t(),l=n(ot(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-v,l[1]-v],[l[0]+v,l[1]+v]]:r===pi?[[Math.max(l[0]-v,o),f],[Math.min(l[0]+v,s),c]]:[[o,Math.max(l[1]-v,f)],[s,Math.min(l[1]+v,c)]])}return u()}function ki(r){return Bl((jr+r)/2)}function ev(r,n){var e=nr(r),t=r===n?Z(r):pa(e/nr(n))/pa(ki(n)/ki(r)),i=e*Bo(ki(r),t)/t;if(!t)return pi;function a(o,f){i>0?f<-jr+tr&&(f=-jr+tr):f>jr-tr&&(f=jr-tr);var s=i/Bo(ki(f),t);return[s*Z(t*o),i-s*nr(t*o)]}return a.invert=function(o,f){var s=i-f,c=ei(t)*Xr(o*o+s*s);return[ln(o,Pr(s))/t*ei(s),2*mt(Bo(i/c,1/t))-jr]},a}function Md(){return Xl(ev).scale(109.5).parallels([30,30])}function ai(r,n){return[r,n]}ai.invert=ai;function tv(){return Q(ai).scale(152.63)}function iv(r,n){var e=nr(r),t=r===n?Z(r):(e-nr(n))/(n-r),i=e/t+r;if(Pr(t)<tr)return ai;function a(o,f){var s=i-f,c=t*o;return[s*Z(c),i-s*nr(c)]}return a.invert=function(o,f){var s=i-f;return[ln(o,Pr(s))/t*ei(s),i-ei(t)*Xr(o*o+s*s)]},a}function bd(){return Xl(iv).scale(131.154).center([0,13.9389])}function oi(r,n){var e=nr(n),t=nr(r)*e;return[e*Z(r)/t,Z(n)/t]}oi.invert=gi(mt);function Wl(){return Q(oi).scale(144.049).clipAngle(60)}function Ci(r,n,e,t){return r===1&&n===1&&e===0&&t===0?Fe:so({point:function(i,a){this.stream.point(i*r+e,a*n+t)}})}function Pd(){var r=1,n=0,e=0,t=1,i=1,a=Fe,o=null,f,s,c,u=Fe,v,l,h;function g(){return v=l=null,h}return h={stream:function(p){return v&&l===p?v:v=a(u(l=p))},clipExtent:function(p){return arguments.length?(u=p==null?(o=f=s=c=null,Fe):jl(o=+p[0][0],f=+p[0][1],s=+p[1][0],c=+p[1][1]),g()):o==null?null:[[o,f],[s,c]]},scale:function(p){return arguments.length?(a=Ci((r=+p)*t,r*i,n,e),g()):r},translate:function(p){return arguments.length?(a=Ci(r*t,r*i,n=+p[0],e=+p[1]),g()):[n,e]},reflectX:function(p){return arguments.length?(a=Ci(r*(t=p?-1:1),r*i,n,e),g()):t<0},reflectY:function(p){return arguments.length?(a=Ci(r*t,r*(i=p?-1:1),n,e),g()):i<0},fitExtent:function(p,d){return fo(h,p,d)},fitSize:function(p,d){return Yl(h,p,d)}}}function Jl(r,n){return[nr(n)*Z(r),Z(n)]}Jl.invert=gi(Tn);function av(){return Q(Jl).scale(249.5).clipAngle(90+tr)}function Kl(r,n){var e=nr(n),t=1+nr(r)*e;return[e*Z(r)/t,Z(n)/t]}Kl.invert=gi(function(r){return 2*mt(r)});function Rd(){return Q(Kl).scale(250).clipAngle(142)}function Ql(r,n){return[pa(Bl((jr+n)/2)),-r]}Ql.invert=function(r,n){return[-n,2*mt(y1(r))-jr]};function Nd(){var r=nv(Ql),n=r.center,e=r.rotate;return r.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},r.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}var kd=Object.freeze(Object.defineProperty({__proto__:null,geoArea:kp,geoBounds:b1,geoCentroid:yt,geoCircle:D1,geoClipExtent:Up,geoContains:Jp,geoDistance:Zt,geoGraticule:q1,geoGraticule10:Kp,geoInterpolate:Ra,geoLength:O1,geoPath:ld,geoAlbers:Z1,geoAlbersUsa:_d,geoAzimuthalEqualArea:Td,geoAzimuthalEqualAreaRaw:nt,geoAzimuthalEquidistant:xd,geoAzimuthalEquidistantRaw:Ee,geoConicConformal:Md,geoConicConformalRaw:ev,geoConicEqualArea:La,geoConicEqualAreaRaw:Q1,geoConicEquidistant:bd,geoConicEquidistantRaw:iv,geoEquirectangular:tv,geoEquirectangularRaw:ai,geoGnomonic:Wl,geoGnomonicRaw:oi,geoIdentity:Pd,geoProjection:Q,geoProjectionMutator:sn,geoMercator:$d,geoMercatorRaw:pi,geoOrthographic:av,geoOrthographicRaw:Jl,geoStereographic:Rd,geoStereographicRaw:Kl,geoTransverseMercator:Nd,geoTransverseMercatorRaw:Ql,geoRotation:ot,geoStream:vn,geoTransform:pd},Symbol.toStringTag,{value:"Module"})),di=Wn(kd),H=Math.abs,Fr=Math.atan,yr=Math.atan2,q=Math.cos,Xn=Math.exp,st=Math.floor,Yr=Math.log,ui=Math.max,In=Math.min,ul=Math.pow,Ia=Math.round,mr=Math.sign||function(r){return r>0?1:r<0?-1:0},z=Math.sin,sr=Math.tan,Y=1e-6,wt=1e-12,B=Math.PI,X=B/2,hn=B/4,bn=Math.SQRT1_2,xr=V(2),kn=V(B),Dn=B*2,Cr=180/B,Er=B/180;function Cd(r){return r?r/Math.sin(r):1}function er(r){return r>1?X:r<-1?-X:Math.asin(r)}function Qr(r){return r>1?0:r<-1?B:Math.acos(r)}function V(r){return r>0?Math.sqrt(r):0}function Dd(r){return r=Xn(2*r),(r-1)/(r+1)}function Zl(r){return(Xn(r)-Xn(-r))/2}function ov(r){return(Xn(r)+Xn(-r))/2}function Ad(r){return Yr(r+V(r*r+1))}function Ld(r){return Yr(r+V(r*r-1))}function uv(r){var n=sr(r/2),e=2*Yr(q(r/2))/(n*n);function t(i,a){var o=q(i),f=q(a),s=z(a),c=f*o,u=-((1-c?Yr((1+c)/2)/(1-c):-.5)+e/(1+c));return[u*f*z(i),u*s]}return t.invert=function(i,a){var o=V(i*i+a*a),f=-r/2,s=50,c;if(!o)return[0,0];do{var u=f/2,v=q(u),l=z(u),h=sr(u),g=Yr(1/v);f-=c=(2/h*g-e*h-o)/(-g/(l*l)+1-e/(2*v*v))}while(H(c)>Y&&--s>0);var p=z(f);return[yr(i*p,o*q(f)),er(a*p/o)]},t}function Id(){var r=X,n=sn(uv),e=n(r);return e.radius=function(t){return arguments.length?n(r=t*Er):r*Cr},e.scale(179.976).clipAngle(147)}function co(r,n){var e=q(n),t=Cd(Qr(e*q(r/=2)));return[2*e*z(r)*t,z(n)*t]}co.invert=function(r,n){if(!(r*r+4*n*n>B*B+Y)){var e=r,t=n,i=25;do{var a=z(e),o=z(e/2),f=q(e/2),s=z(t),c=q(t),u=z(2*t),v=s*s,l=c*c,h=o*o,g=1-l*f*f,p=g?Qr(c*f)*V(d=1/g):d=0,d,m=2*p*c*o-r,y=p*s-n,E=d*(l*h+p*c*f*v),S=d*(.5*a*u-p*2*s*o),x=d*.25*(u*o-p*s*l*a),M=d*(v*f+p*h*c),D=S*x-M*E;if(!D)break;var k=(y*S-m*M)/D,C=(m*x-y*E)/D;e-=k,t-=C}while((H(k)>Y||H(C)>Y)&&--i>0);return[e,t]}};function Od(){return Q(co).scale(152.63)}function lv(r){var n=z(r),e=q(r),t=r>=0?1:-1,i=sr(t*r),a=(1+n-e)/2;function o(f,s){var c=q(s),u=q(f/=2);return[(1+c)*z(f),(t*s>-yr(u,i)-.001?0:-t*10)+a+z(s)*e-(1+c)*n*u]}return o.invert=function(f,s){var c=0,u=0,v=50;do{var l=q(c),h=z(c),g=q(u),p=z(u),d=1+g,m=d*h-f,y=a+p*e-d*n*l-s,E=d*l/2,S=-h*p,x=n*d*h/2,M=e*g+n*l*p,D=S*x-M*E,k=(y*S-m*M)/D/2,C=(m*x-y*E)/D;c-=k,u-=C}while((H(k)>Y||H(C)>Y)&&--v>0);return t*u>-yr(q(c),i)-.001?[c*2,u]:null},o}function Fd(){var r=20*Er,n=r>=0?1:-1,e=sr(n*r),t=sn(lv),i=t(r),a=i.stream;return i.parallel=function(o){return arguments.length?(e=sr((n=(r=o*Er)>=0?1:-1)*r),t(r)):r*Cr},i.stream=function(o){var f=i.rotate(),s=a(o),c=(i.rotate([0,0]),a(o));return i.rotate(f),s.sphere=function(){c.polygonStart(),c.lineStart();for(var u=n*-180;n*u<180;u+=n*90)c.point(u,n*90);for(;n*(u-=r)>=-180;)c.point(u,n*-yr(q(u*Er/2),e)*Cr);c.lineEnd(),c.polygonEnd()},s},i.scale(218.695).center([0,28.0974])}function vo(r,n){var e=sr(n/2),t=V(1-e*e),i=1+t*q(r/=2),a=z(r)*t/i,o=e/i,f=a*a,s=o*o;return[4/3*a*(3+f-3*s),4/3*o*(3+3*f-s)]}vo.invert=function(r,n){if(r*=3/8,n*=3/8,!r&&H(n)>1)return null;var e=r*r,t=n*n,i=1+e+t,a=V((i-V(i*i-4*n*n))/2),o=er(a)/3,f=a?Ld(H(n/a))/3:Ad(H(r))/3,s=q(o),c=ov(f),u=c*c-s*s;return[mr(r)*2*yr(Zl(f)*s,.25-u),mr(n)*2*yr(c*z(o),.25+u)]};function qd(){return Q(vo).scale(66.1603)}var Yo=V(8),zd=Yr(1+xr);function rs(r,n){var e=H(n);return e<hn?[r,Yr(sr(hn+n/2))]:[r*q(e)*(2*xr-1/z(e)),mr(n)*(2*xr*(e-hn)-Yr(sr(e/2)))]}rs.invert=function(r,n){if((a=H(n))<zd)return[r,2*Fr(Xn(n))-X];var e=hn,t=25,i,a;do{var o=q(e/2),f=sr(e/2);e-=i=(Yo*(e-hn)-Yr(f)-a)/(Yo-o*o/(2*f))}while(H(i)>wt&&--t>0);return[r/(q(e)*(Yo-1/z(e))),mr(n)*e]};function Bd(){return Q(rs).scale(112.314)}function sv(r){var n=2*B/r;function e(t,i){var a=Ee(t,i);if(H(t)>X){var o=yr(a[1],a[0]),f=V(a[0]*a[0]+a[1]*a[1]),s=n*Ia((o-X)/n)+X,c=yr(z(o-=s),2-q(o));o=s+er(B/f*z(c))-c,a[0]=f*q(o),a[1]=f*z(o)}return a}return e.invert=function(t,i){var a=V(t*t+i*i);if(a>X){var o=yr(i,t),f=n*Ia((o-X)/n)+X,s=o>f?-1:1,c=a*q(f-o),u=1/sr(s*Qr((c-B)/V(B*(B-2*c)+a*a)));o=f+2*Fr((u+s*V(u*u-3))/3),t=a*q(o),i=a*z(o)}return Ee.invert(t,i)},e}function Gd(){var r=5,n=sn(sv),e=n(r),t=e.stream,i=.01,a=-q(i*Er),o=z(i*Er);return e.lobes=function(f){return arguments.length?n(r=+f):r},e.stream=function(f){var s=e.rotate(),c=t(f),u=(e.rotate([0,0]),t(f));return e.rotate(s),c.sphere=function(){u.polygonStart(),u.lineStart();for(var v=0,l=360/r,h=2*B/r,g=90-180/r,p=X;v<r;++v,g-=l,p-=h)u.point(yr(o*q(p),a)*Cr,er(o*z(p))*Cr),g<-90?(u.point(-90,-180-g-i),u.point(-90,-180-g+i)):(u.point(90,g+i),u.point(90,g-i));u.lineEnd(),u.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function fv(r,n){var e=r*z(n),t=30,i;do n-=i=(n+z(n)-e)/(1+q(n));while(H(i)>Y&&--t>0);return n/2}function ns(r,n,e){function t(i,a){return[r*i*q(a=fv(e,a)),n*z(a)]}return t.invert=function(i,a){return a=er(a/n),[i/(r*q(a)),er((2*a+z(2*a))/e)]},t}var xe=ns(xr/X,xr,B);function Ud(){return Q(xe).scale(169.529)}var Oa=2.00276,cv=1.11072;function ho(r,n){var e=fv(B,n);return[Oa*r/(1/q(n)+cv/q(e)),(n+xr*z(e))/Oa]}ho.invert=function(r,n){var e=Oa*n,t=n<0?-hn:hn,i=25,a,o;do o=e-xr*z(t),t-=a=(z(2*t)+2*t-B*z(o))/(2*q(2*t)+2+B*q(o)*xr*q(t));while(H(a)>Y&&--i>0);return o=e-xr*z(t),[r*(1/q(o)+cv/q(t))/Oa,o]};function Vd(){return Q(ho).scale(160.857)}function Et(r){var n=0,e=sn(r),t=e(n);return t.parallel=function(i){return arguments.length?e(n=i*Er):n*Cr},t}function se(r,n){return[r*q(n),n]}se.invert=function(r,n){return[r/q(n),n]};function Hd(){return Q(se).scale(152.63)}function vv(r){if(!r)return se;var n=1/sr(r);function e(t,i){var a=n+r-i,o=a&&t*q(i)/a;return[a*z(o),n-a*q(o)]}return e.invert=function(t,i){var a=V(t*t+(i=n-i)*i),o=n+r-a;return[a/q(o)*yr(t,i),o]},e}function jd(){return Et(vv).scale(123.082).center([0,26.1441]).parallel(45)}function hv(r){function n(e,t){var i=X-t,a=i&&e*r*z(i)/i;return[i*z(a)/r,X-i*q(a)]}return n.invert=function(e,t){var i=e*r,a=X-t,o=V(i*i+a*a),f=yr(i,a);return[(o?o/z(o):1)*f/r,X-o]},n}function Yd(){var r=.5,n=sn(hv),e=n(r);return e.fraction=function(t){return arguments.length?n(r=+t):r},e.scale(158.837)}var gv=ns(1,4/B,B);function Xd(){return Q(gv).scale(152.63)}function hc(r,n,e,t,i,a){var o=q(a),f;if(H(r)>1||H(a)>1)f=Qr(e*i+n*t*o);else{var s=z(r/2),c=z(a/2);f=2*er(V(s*s+n*t*c*c))}return H(f)>Y?[f,yr(t*z(a),n*i-e*t*o)]:[0,0]}function Xo(r,n,e){return Qr((r*r+n*n-e*e)/(2*r*n))}function Wd(r){return r-2*B*st((r+B)/(2*B))}function pv(r,n,e){for(var t=[[r[0],r[1],z(r[1]),q(r[1])],[n[0],n[1],z(n[1]),q(n[1])],[e[0],e[1],z(e[1]),q(e[1])]],i=t[2],a,o=0;o<3;++o,i=a)a=t[o],i.v=hc(a[1]-i[1],i[3],i[2],a[3],a[2],a[0]-i[0]),i.point=[0,0];var f=Xo(t[0].v[0],t[2].v[0],t[1].v[0]),s=Xo(t[0].v[0],t[1].v[0],t[2].v[0]),c=B-f;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=t[0].v[0]/2);var u=[t[2].point[0]=t[0].point[0]+t[2].v[0]*q(f),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*z(f))];function v(l,h){var g=z(h),p=q(h),d=new Array(3),m;for(m=0;m<3;++m){var y=t[m];if(d[m]=hc(h-y[1],y[3],y[2],p,g,l-y[0]),!d[m][0])return y.point;d[m][1]=Wd(d[m][1]-y.v[1])}var E=u.slice();for(m=0;m<3;++m){var S=m==2?0:m+1,x=Xo(t[m].v[0],d[m][0],d[S][0]);d[m][1]<0&&(x=-x),m?m==1?(x=s-x,E[0]-=d[m][0]*q(x),E[1]-=d[m][0]*z(x)):(x=c-x,E[0]+=d[m][0]*q(x),E[1]+=d[m][0]*z(x)):(E[0]+=d[m][0]*q(x),E[1]-=d[m][0]*z(x))}return E[0]/=3,E[1]/=3,E}return v}function Wo(r){return r[0]*=Er,r[1]*=Er,r}function Jd(){return dv([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function dv(r,n,e){var t=yt({type:"MultiPoint",coordinates:[r,n,e]}),i=[-t[0],-t[1]],a=ot(i),o=Q(pv(Wo(a(r)),Wo(a(n)),Wo(a(e)))).rotate(i),f=o.center;return delete o.rotate,o.center=function(s){return arguments.length?f(a(s)):a.invert(f())},o.clipAngle(90)}function Hn(r,n){var e=V(1-z(n));return[2/kn*r*e,kn*(1-e)]}Hn.invert=function(r,n){var e=(e=n/kn-1)*e;return[e>0?r*V(B/e)/2:0,er(1-e)]};function Kd(){return Q(Hn).scale(95.6464).center([0,30])}function mv(r){var n=sr(r);function e(t,i){return[t,(t?t/z(t):1)*(z(i)*q(t)-n*q(i))]}return e.invert=n?function(t,i){t&&(i*=z(t)/t);var a=q(t);return[t,2*yr(V(a*a+n*n-i*i)-a,n-i)]}:function(t,i){return[t,er(t?i*sr(t)/t:i)]},e}function Qd(){return Et(mv).scale(249.828).clipAngle(90)}var Fa=V(3);function es(r,n){return[Fa*r*(2*q(2*n/3)-1)/kn,Fa*kn*z(n/3)]}es.invert=function(r,n){var e=3*er(n/(Fa*kn));return[kn*r/(Fa*(2*q(2*e/3)-1)),e]};function Zd(){return Q(es).scale(156.19)}function ts(r){var n=q(r);function e(t,i){return[t*n,z(i)/n]}return e.invert=function(t,i){return[t/n,er(i*n)]},e}function r2(){return Et(ts).parallel(38.58).scale(195.044)}function yv(r){var n=q(r);function e(t,i){return[t*n,(1+n)*sr(i/2)]}return e.invert=function(t,i){return[t/n,Fr(i/(1+n))*2]},e}function n2(){return Et(yv).scale(124.75)}function is(r,n){var e=V(8/(3*B));return[e*r*(1-H(n)/B),e*n]}is.invert=function(r,n){var e=V(8/(3*B)),t=n/e;return[r/(e*(1-H(t)/B)),t]};function e2(){return Q(is).scale(165.664)}function as(r,n){var e=V(4-3*z(H(n)));return[2/V(6*B)*r*e,mr(n)*V(2*B/3)*(2-e)]}as.invert=function(r,n){var e=2-H(n)/V(2*B/3);return[r*V(6*B)/(2*e),mr(n)*er((4-e*e)/3)]};function t2(){return Q(as).scale(165.664)}function os(r,n){var e=V(B*(4+B));return[2/e*r*(1+V(1-4*n*n/(B*B))),4/e*n]}os.invert=function(r,n){var e=V(B*(4+B))/2;return[r*e/(1+V(1-n*n*(4+B)/(4*B))),n*e/2]};function i2(){return Q(os).scale(180.739)}function us(r,n){var e=(2+X)*z(n);n/=2;for(var t=0,i=1/0;t<10&&H(i)>Y;t++){var a=q(n);n-=i=(n+z(n)*(a+2)-e)/(2*a*(1+a))}return[2/V(B*(4+B))*r*(1+q(n)),2*V(B/(4+B))*z(n)]}us.invert=function(r,n){var e=n*V((4+B)/B)/2,t=er(e),i=q(t);return[r/(2/V(B*(4+B))*(1+i)),er((t+e*(i+2))/(2+X))]};function a2(){return Q(us).scale(180.739)}function ls(r,n){return[r*(1+q(n))/V(2+B),2*n/V(2+B)]}ls.invert=function(r,n){var e=V(2+B),t=n*e/2;return[e*r/(1+q(t)),t]};function o2(){return Q(ls).scale(173.044)}function ss(r,n){for(var e=(1+X)*z(n),t=0,i=1/0;t<10&&H(i)>Y;t++)n-=i=(n+z(n)-e)/(1+q(n));return e=V(2+B),[r*(1+q(n))/e,2*n/e]}ss.invert=function(r,n){var e=1+X,t=V(e/2);return[r*2*t/(1+q(n*=t)),er((n+z(n))/e)]};function u2(){return Q(ss).scale(173.044)}var qa=3+2*xr;function fs(r,n){var e=z(r/=2),t=q(r),i=V(q(n)),a=q(n/=2),o=z(n)/(a+xr*t*i),f=V(2/(1+o*o)),s=V((xr*a+(t+e)*i)/(xr*a+(t-e)*i));return[qa*(f*(s-1/s)-2*Yr(s)),qa*(f*o*(s+1/s)-2*Fr(o))]}fs.invert=function(r,n){if(!(a=vo.invert(r/1.2,n*1.065)))return null;var e=a[0],t=a[1],i=20,a;r/=qa,n/=qa;do{var o=e/2,f=t/2,s=z(o),c=q(o),u=z(f),v=q(f),l=q(t),h=V(l),g=u/(v+xr*c*h),p=g*g,d=V(2/(1+p)),m=xr*v+(c+s)*h,y=xr*v+(c-s)*h,E=m/y,S=V(E),x=S-1/S,M=S+1/S,D=d*x-2*Yr(S)-r,k=d*g*M-2*Fr(g)-n,C=u&&bn*h*s*p/u,O=(xr*c*v+h)/(2*(v+xr*c*h)*(v+xr*c*h)*h),L=-.5*g*d*d*d,N=L*C,U=L*O,_=(_=2*v+xr*h*(c-s))*_*S,w=(xr*c*v*h+l)/_,b=-(xr*s*u)/(h*_),P=x*N-2*w/S+d*(w+w/E),I=x*U-2*b/S+d*(b+b/E),rr=g*M*N-2*C/(1+p)+d*M*C+d*g*(w-w/E),gr=g*M*U-2*O/(1+p)+d*M*O+d*g*(b-b/E),ur=I*rr-gr*P;if(!ur)break;var pr=(k*I-D*gr)/ur,br=(D*rr-k*P)/ur;e-=pr,t=ui(-X,In(X,t-br))}while((H(pr)>Y||H(br)>Y)&&--i>0);return H(H(t)-X)<Y?[0,t]:i&&[e,t]};function l2(){return Q(fs).scale(62.5271)}var za=q(35*Er);function cs(r,n){var e=sr(n/2);return[r*za*V(1-e*e),(1+za)*e]}cs.invert=function(r,n){var e=n/(1+za);return[r&&r/(za*V(1-e*e)),2*Fr(e)]};function s2(){return Q(cs).scale(137.152)}function vs(r,n){var e=n/2,t=q(e);return[2*r/kn*q(n)*t*t,kn*sr(e)]}vs.invert=function(r,n){var e=Fr(n/kn),t=q(e),i=2*e;return[r*kn/2/(q(i)*t*t),i]};function f2(){return Q(vs).scale(135.264)}function gc(r){return[r[0]/2,er(sr(r[1]/2*Er))*Cr]}function pc(r){return[r[0]*2,2*Fr(z(r[1]*Er))*Cr]}function c2(r){r==null&&(r=av);var n=r(),e=tv().scale(Cr).precision(0).clipAngle(null).translate([0,0]);function t(a){return n(gc(a))}n.invert&&(t.invert=function(a){return pc(n.invert(a))}),t.stream=function(a){var o=n.stream(a),f=e.stream({point:function(s,c){o.point(s/2,er(sr(-c/2*Er))*Cr)},lineStart:function(){o.lineStart()},lineEnd:function(){o.lineEnd()},polygonStart:function(){o.polygonStart()},polygonEnd:function(){o.polygonEnd()}});return f.sphere=o.sphere,f};function i(a){t[a]=function(o){return arguments.length?(n[a](o),t):n[a]()}}return t.rotate=function(a){return arguments.length?(e.rotate(a),t):e.rotate()},t.center=function(a){return arguments.length?(n.center(gc(a)),t):pc(n.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),t.scale(249.5)}function wv(r,n){var e=2*B/n,t=r*r;function i(a,o){var f=Ee(a,o),s=f[0],c=f[1],u=s*s+c*c;if(u>t){var v=V(u),l=yr(c,s),h=e*Ia(l/e),g=l-h,p=r*q(g),d=(r*z(g)-g*z(p))/(X-p),m=dc(g,d),y=(B-r)/Di(m,p,B);s=v;var E=50,S;do s-=S=(r+Di(m,p,s)*y-v)/(m(s)*y);while(H(S)>Y&&--E>0);c=g*z(s),s<X&&(c-=d*(s-X));var x=z(h),M=q(h);f[0]=s*M-c*x,f[1]=s*x+c*M}return f}return i.invert=function(a,o){var f=a*a+o*o;if(f>t){var s=V(f),c=yr(o,a),u=e*Ia(c/e),v=c-u;a=s*q(v),o=s*z(v);for(var l=a-X,h=z(a),g=o/h,p=a<X?1/0:0,d=10;;){var m=r*z(g),y=r*q(g),E=z(y),S=X-y,x=(m-g*E)/S,M=dc(g,x);if(H(p)<wt||!--d)break;g-=p=(g*h-x*l-o)/(h-l*2*(S*(y+g*m*q(y)-E)-m*(m-g*E))/(S*S))}s=r+Di(M,y,a)*(B-r)/Di(M,y,B),c=u+g,a=s*q(c),o=s*z(c)}return Ee.invert(a,o)},i}function dc(r,n){return function(e){var t=r*q(e);return e<X&&(t-=n),V(1+t*t)}}function Di(r,n,e){for(var t=50,i=(e-n)/t,a=r(n)+r(e),o=1,f=n;o<t;++o)a+=2*r(f+=i);return a*.5*i}function v2(){var r=6,n=30*Er,e=q(n),t=z(n),i=sn(wv),a=i(n,r),o=a.stream,f=.01,s=-q(f*Er),c=z(f*Er);return a.radius=function(u){return arguments.length?(e=q(n=u*Er),t=z(n),i(n,r)):n*Cr},a.lobes=function(u){return arguments.length?i(n,r=+u):r},a.stream=function(u){var v=a.rotate(),l=o(u),h=(a.rotate([0,0]),o(u));return a.rotate(v),l.sphere=function(){h.polygonStart(),h.lineStart();for(var g=0,p=2*B/r,d=0;g<r;++g,d-=p)h.point(yr(c*q(d),s)*Cr,er(c*z(d))*Cr),h.point(yr(t*q(d-p/2),e)*Cr,er(t*z(d-p/2))*Cr);h.lineEnd(),h.polygonEnd()},l},a.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function go(r,n,e,t,i,a,o,f){arguments.length<8&&(f=0);function s(c,u){if(!u)return[r*c/B,0];var v=u*u,l=r+v*(n+v*(e+v*t)),h=u*(i-1+v*(a-f+v*o)),g=(l*l+h*h)/(2*h),p=c*er(l/g)/B;return[g*z(p),u*(1+v*f)+g*(1-q(p))]}return s.invert=function(c,u){var v=B*c/r,l=u,h,g,p=50;do{var d=l*l,m=r+d*(n+d*(e+d*t)),y=l*(i-1+d*(a-f+d*o)),E=m*m+y*y,S=2*y,x=E/S,M=x*x,D=er(m/x)/B,k=v*D,C=m*m,O=(2*n+d*(4*e+d*6*t))*l,L=i+d*(3*a+d*5*o),N=2*(m*O+y*(L-1)),U=2*(L-1),_=(N*S-E*U)/(S*S),w=q(k),b=z(k),P=x*w,I=x*b,rr=v/B*(1/V(1-C/M))*(O*x-m*_)/M,gr=I-c,ur=l*(1+d*f)+x-P-u,pr=_*b+P*rr,br=P*D,Vr=1+_-(_*w-I*rr),Wr=I*D,Me=pr*Wr-Vr*br;if(!Me)break;v-=h=(ur*pr-gr*Vr)/Me,l-=g=(gr*Wr-ur*br)/Me}while((H(h)>Y||H(g)>Y)&&--p>0);return[v,l]},s}var Ev=go(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function h2(){return Q(Ev).scale(149.995)}var Sv=go(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function g2(){return Q(Sv).scale(153.93)}var _v=go(5/6*B,-.62636,-.0344,0,1.3493,-.05524,0,.045);function p2(){return Q(_v).scale(130.945)}function hs(r,n){var e=r*r,t=n*n;return[r*(1-.162388*t)*(.87-952426e-9*e*e),n*(1+t/12)]}hs.invert=function(r,n){var e=r,t=n,i=50,a;do{var o=t*t;t-=a=(t*(1+o/12)-n)/(1+o/4)}while(H(a)>Y&&--i>0);i=50,r/=1-.162388*o;do{var f=(f=e*e)*f;e-=a=(e*(.87-952426e-9*f)-r)/(.87-.00476213*f)}while(H(a)>Y&&--i>0);return[e,t]};function d2(){return Q(hs).scale(131.747)}var Tv=go(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function m2(){return Q(Tv).scale(131.087)}function xv(r){var n=r(X,0)[0]-r(-X,0)[0];function e(t,i){var a=t>0?-.5:.5,o=r(t+a*B,i);return o[0]-=a*n,o}return r.invert&&(e.invert=function(t,i){var a=t>0?-.5:.5,o=r.invert(t+a*n,i),f=o[0]-a*B;return f<-B?f+=2*B:f>B&&(f-=2*B),o[0]=f,o}),e}function po(r,n){var e=mr(r),t=mr(n),i=q(n),a=q(r)*i,o=z(r)*i,f=z(t*n);r=H(yr(o,f)),n=er(a),H(r-X)>Y&&(r%=X);var s=y2(r>B/4?X-r:r,n);return r>B/4&&(f=s[0],s[0]=-s[1],s[1]=-f),s[0]*=e,s[1]*=-t,s}po.invert=function(r,n){H(r)>1&&(r=mr(r)*2-r),H(n)>1&&(n=mr(n)*2-n);var e=mr(r),t=mr(n),i=-e*r,a=-t*n,o=a/i<1,f=w2(o?a:i,o?i:a),s=f[0],c=f[1],u=q(c);return o&&(s=-X-s),[e*(yr(z(s)*u,-z(c))+B),t*er(q(s)*u)]};function y2(r,n){if(n===X)return[0,0];var e=z(n),t=e*e,i=t*t,a=1+i,o=1+3*i,f=1-i,s=er(1/V(a)),c=f+t*a*s,u=(1-e)/c,v=V(u),l=u*a,h=V(l),g=v*f,p,d;if(r===0)return[0,-(g+t*h)];var m=q(n),y=1/m,E=2*e*m,S=(-3*t+s*o)*E,x=(-c*m-(1-e)*S)/(c*c),M=.5*x/v,D=f*M-2*t*v*E,k=t*a*x+u*o*E,C=-y*E,O=-y*k,L=-2*y*D,N=4*r/B,U;if(r>.222*B||n<B/4&&r>.175*B){if(p=(g+t*V(l*(1+i)-g*g))/(1+i),r>B/4)return[p,p];var _=p,w=.5*p;p=.5*(w+_),d=50;do{var b=V(l-p*p),P=p*(L+C*b)+O*er(p/h)-N;if(!P)break;P<0?w=p:_=p,p=.5*(w+_)}while(H(_-w)>Y&&--d>0)}else{p=Y,d=25;do{var I=p*p,rr=V(l-I),gr=L+C*rr,ur=p*gr+O*er(p/h)-N,pr=gr+(O-C*I)/rr;p-=U=rr?ur/pr:0}while(H(U)>Y&&--d>0)}return[p,-g-t*V(l-p*p)]}function w2(r,n){for(var e=0,t=1,i=.5,a=50;;){var o=i*i,f=V(i),s=er(1/V(1+o)),c=1-o+i*(1+o)*s,u=(1-f)/c,v=V(u),l=u*(1+o),h=v*(1-o),g=l-r*r,p=V(g),d=n+h+i*p;if(H(t-e)<wt||--a===0||d===0)break;d>0?e=i:t=i,i=.5*(e+t)}if(!a)return null;var m=er(f),y=q(m),E=1/y,S=2*f*y,x=(-3*i+s*(1+3*o))*S,M=(-c*y-(1-f)*x)/(c*c),D=.5*M/v,k=(1-o)*D-2*i*v*S,C=-2*E*k,O=-E*S,L=-E*(i*(1+o)*M+u*(1+3*o)*S);return[B/4*(r*(C+O*p)+L*er(r/V(l))),m]}function E2(){return Q(xv(po)).scale(239.75)}function S2(r,n,e){var t,i,a;return r?(t=Jo(r,e),n?(i=Jo(n,1-e),a=i[1]*i[1]+e*t[0]*t[0]*i[0]*i[0],[[t[0]*i[2]/a,t[1]*t[2]*i[0]*i[1]/a],[t[1]*i[1]/a,-t[0]*t[2]*i[0]*i[2]/a],[t[2]*i[1]*i[2]/a,-e*t[0]*t[1]*i[0]/a]]):[[t[0],0],[t[1],0],[t[2],0]]):(i=Jo(n,1-e),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function Jo(r,n){var e,t,i,a,o;if(n<Y)return a=z(r),t=q(r),e=n*(r-a*t)/4,[a-e*t,t+e*a,1-n*a*a/2,r-e];if(n>=1-Y)return e=(1-n)/4,t=ov(r),a=Dd(r),i=1/t,o=t*Zl(r),[a+e*(o-r)/(t*t),i-e*a*i*(o-r),i+e*a*i*(o+r),2*Fr(Xn(r))-X+e*(o-r)/t];var f=[1,0,0,0,0,0,0,0,0],s=[V(n),0,0,0,0,0,0,0,0],c=0;for(t=V(1-n),o=1;H(s[c]/f[c])>Y&&c<8;)e=f[c++],s[c]=(e-t)/2,f[c]=(e+t)/2,t=V(e*t),o*=2;i=o*f[c]*r;do a=s[c]*z(t=i)/f[c],i=(er(a)+i)/2;while(--c);return[z(i),a=q(i),a/q(i-t),i]}function _2(r,n,e){var t=H(r),i=H(n),a=Zl(i);if(t){var o=1/z(t),f=1/(sr(t)*sr(t)),s=-(f+e*(a*a*o*o)-1+e),c=(e-1)*f,u=(-s+V(s*s-4*c))/2;return[ri(Fr(1/V(u)),e)*mr(r),ri(Fr(V((u/f-1)/e)),1-e)*mr(n)]}return[0,ri(Fr(a),1-e)*mr(n)]}function ri(r,n){if(!n)return r;if(n===1)return Yr(sr(r/2+hn));for(var e=1,t=V(1-n),i=V(n),a=0;H(i)>Y;a++){if(r%B){var o=Fr(t*sr(r)/e);o<0&&(o+=B),r+=o+~~(r/B)*B}else r+=r;i=(e+t)/2,t=V(e*t),i=((e=i)-t)/2}return r/(ul(2,a)*e)}function mo(r,n){var e=(xr-1)/(xr+1),t=V(1-e*e),i=ri(X,t*t),a=-1,o=Yr(sr(B/4+H(n)/2)),f=Xn(a*o)/V(e),s=T2(f*q(a*r),f*z(a*r)),c=_2(s[0],s[1],t*t);return[-c[1],(n>=0?1:-1)*(.5*i-c[0])]}function T2(r,n){var e=r*r,t=n+1,i=1-e-n*n;return[.5*((r>=0?X:-X)-yr(i,2*r)),-.25*Yr(i*i+4*e)+.5*Yr(t*t+e)]}function x2(r,n){var e=n[0]*n[0]+n[1]*n[1];return[(r[0]*n[0]+r[1]*n[1])/e,(r[1]*n[0]-r[0]*n[1])/e]}mo.invert=function(r,n){var e=(xr-1)/(xr+1),t=V(1-e*e),i=ri(X,t*t),a=-1,o=S2(.5*i-n,-r,t*t),f=x2(o[0],o[1]),s=yr(f[1],f[0])/a;return[s,2*Fr(Xn(.5/a*Yr(e*f[0]*f[0]+e*f[1]*f[1])))-X]};function $2(){return Q(xv(mo)).scale(151.496)}function $v(r,n){if(arguments.length<2&&(n=r),n===1)return nt;if(n===1/0)return Mv;function e(t,i){var a=nt(t/n,i);return a[0]*=r,a}return e.invert=function(t,i){var a=nt.invert(t/r,i);return a[0]*=n,a},e}function Mv(r,n){return[r*q(n)/q(n/=2),2*z(n)]}Mv.invert=function(r,n){var e=2*er(n/2);return[r*q(e/2)/q(e),e]};function M2(){var r=2,n=sn($v),e=n(r);return e.coefficient=function(t){return arguments.length?n(r=+t):r},e.scale(169.529)}function bv(r){var n=z(r),e=q(r),t=mc(r);t.invert=mc(-r);function i(a,o){var f=t(a,o);a=f[0],o=f[1];var s=z(o),c=q(o),u=q(a),v=Qr(n*s+e*c*u),l=z(v),h=H(l)>Y?v/l:1;return[h*e*z(a),(H(a)>X?h:-h)*(n*c-e*s*u)]}return i.invert=function(a,o){var f=V(a*a+o*o),s=-z(f),c=q(f),u=f*c,v=-o*s,l=f*n,h=V(u*u+v*v-l*l),g=yr(u*l+v*h,v*l-u*h),p=(f>X?-1:1)*yr(a*s,f*q(g)*c+o*z(g)*s);return t.invert(p,g)},i}function mc(r){var n=z(r),e=q(r);return function(t,i){var a=q(i),o=q(t)*a,f=z(t)*a,s=z(i);return[yr(f,o*e-s*n),er(s*e+o*n)]}}function b2(){var r=0,n=sn(bv),e=n(r),t=e.rotate,i=e.stream,a=D1();return e.parallel=function(o){if(!arguments.length)return r*Cr;var f=e.rotate();return n(r=o*Er).rotate(f)},e.rotate=function(o){return arguments.length?(t.call(e,[o[0],o[1]-r*Cr]),a.center([-o[0],-o[1]]),e):(o=t.call(e),o[1]+=r*Cr,o)},e.stream=function(o){return o=i(o),o.sphere=function(){o.polygonStart();var f=.01,s=a.radius(90-f)().coordinates[0],c=s.length-1,u=-1,v;for(o.lineStart();++u<c;)o.point((v=s[u])[0],v[1]);for(o.lineEnd(),s=a.radius(90+f)().coordinates[0],c=s.length-1,o.lineStart();--u>=0;)o.point((v=s[u])[0],v[1]);o.lineEnd(),o.polygonEnd()},o},e.scale(79.4187).parallel(45).clipAngle(180-.001)}var ll=41+48/36+37/3600,Ko=ts(0);function Pv(r){var n=ll*Er,e=Hn(B,n)[0]-Hn(-B,n)[0],t=Ko(0,n)[1],i=Hn(0,n)[1],a=kn-i,o=Dn/r,f=4/Dn,s=t+a*a*4/Dn;function c(u,v){var l,h=H(v);if(h>n){var g=In(r-1,ui(0,st((u+B)/o)));u+=B*(r-1)/r-g*o,l=Hn(u,h),l[0]=l[0]*Dn/e-Dn*(r-1)/(2*r)+g*Dn/r,l[1]=t+(l[1]-i)*4*a/Dn,v<0&&(l[1]=-l[1])}else l=Ko(u,v);return l[0]*=f,l[1]/=s,l}return c.invert=function(u,v){u/=f,v*=s;var l=H(v);if(l>t){var h=In(r-1,ui(0,st((u+B)/o)));u=(u+B*(r-1)/r-h*o)*e/Dn;var g=Hn.invert(u,.25*(l-t)*Dn/a+i);return g[0]-=B*(r-1)/r-h*o,v<0&&(g[1]=-g[1]),g}return Ko.invert(u,v)},c}function P2(r){return{type:"Polygon",coordinates:[de(-180,180+r/2,r).map(function(n,e){return[n,e&1?90-1e-6:ll]}).concat(de(180,-180-r/2,-r).map(function(n,e){return[n,e&1?-90+1e-6:-ll]}))]}}function R2(){var r=4,n=sn(Pv),e=n(r),t=e.stream;return e.lobes=function(i){return arguments.length?n(r=+i):r},e.stream=function(i){var a=e.rotate(),o=t(i),f=(e.rotate([0,0]),t(i));return e.rotate(a),o.sphere=function(){vn(P2(180/r),f)},o},e.scale(239.75)}function Rv(r){var n=1+r,e=z(1/n),t=er(e),i=2*V(B/(a=B+4*t*n)),a,o=.5*i*(n+V(r*(2+r))),f=r*r,s=n*n;function c(u,v){var l=1-z(v),h,g;if(l&&l<2){var p=X-v,d=25,m;do{var y=z(p),E=q(p),S=t+yr(y,n-E),x=1+s-2*n*E;p-=m=(p-f*t-n*y+x*S-.5*l*a)/(2*n*y*S)}while(H(m)>wt&&--d>0);h=i*V(x),g=u*S/B}else h=i*(r+l),g=u*t/B;return[h*z(g),o-h*q(g)]}return c.invert=function(u,v){var l=u*u+(v-=o)*v,h=(1+s-l/(i*i))/(2*n),g=Qr(h),p=z(g),d=t+yr(p,n-h);return[er(u/V(l))*B/d,er(1-2*(g-f*t-n*p+(1+s-2*n*h)*d)/a)]},c}function N2(){var r=1,n=sn(Rv),e=n(r);return e.ratio=function(t){return arguments.length?n(r=+t):r},e.scale(167.774).center([0,18.67])}var yo=.7109889596207567,ft=.0528035274542;function wo(r,n){return n>-yo?(r=xe(r,n),r[1]+=ft,r):se(r,n)}wo.invert=function(r,n){return n>-yo?xe.invert(r,n-ft):se.invert(r,n)};function k2(){return Q(wo).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Eo(r,n){return H(n)>yo?(r=xe(r,n),r[1]-=n>0?ft:-ft,r):se(r,n)}Eo.invert=function(r,n){return H(n)>yo?xe.invert(r,n+(n>0?ft:-ft)):se.invert(r,n)};function C2(){return Q(Eo).scale(152.63)}function D2(r,n){return H(r[0]-n[0])<Y&&H(r[1]-n[1])<Y}function yc(r,n){for(var e=-1,t=r.length,i=r[0],a,o,f,s=[];++e<t;){a=r[e],o=(a[0]-i[0])/n,f=(a[1]-i[1])/n;for(var c=0;c<n;++c)s.push([i[0]+c*o,i[1]+c*f]);i=a}return s.push(a),s}function A2(r){var n=[],e,t,i,a,o,f,s,c=r[0].length;for(s=0;s<c;++s)e=r[0][s],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],f=e[2][1],n.push(yc([[t+Y,i+Y],[t+Y,a-Y],[o-Y,a-Y],[o-Y,f+Y]],30));for(s=r[1].length-1;s>=0;--s)e=r[1][s],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],f=e[2][1],n.push(yc([[o-Y,f-Y],[o-Y,a+Y],[t+Y,a+Y],[t+Y,i-Y]],30));return{type:"Polygon",coordinates:[Hl(n)]}}function Ge(r,n){var e=A2(n);n=n.map(function(f){return f.map(function(s){return[[s[0][0]*Er,s[0][1]*Er],[s[1][0]*Er,s[1][1]*Er],[s[2][0]*Er,s[2][1]*Er]]})});var t=n.map(function(f){return f.map(function(s){var c=r(s[0][0],s[0][1])[0],u=r(s[2][0],s[2][1])[0],v=r(s[1][0],s[0][1])[1],l=r(s[1][0],s[1][1])[1],h;return v>l&&(h=v,v=l,l=h),[[c,v],[u,l]]})});function i(f,s){for(var c=s<0?-1:1,u=n[+(s<0)],v=0,l=u.length-1;v<l&&f>u[v][2][0];++v);var h=r(f-u[v][1][0],s);return h[0]+=r(u[v][1][0],c*s>c*u[v][0][1]?u[v][0][1]:s)[0],h}r.invert&&(i.invert=function(f,s){for(var c=t[+(s<0)],u=n[+(s<0)],v=0,l=c.length;v<l;++v){var h=c[v];if(h[0][0]<=f&&f<h[1][0]&&h[0][1]<=s&&s<h[1][1]){var g=r.invert(f-r(u[v][1][0],0)[0],s);return g[0]+=u[v][1][0],D2(i(g[0],g[1]),[f,s])?g:null}}});var a=Q(i),o=a.stream;return a.stream=function(f){var s=a.rotate(),c=o(f),u=(a.rotate([0,0]),o(f));return a.rotate(s),c.sphere=function(){vn(e,u)},c},a}var L2=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function I2(){return Ge(ho,L2).scale(160.857)}var O2=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function F2(){return Ge(Eo,O2).scale(152.63)}var q2=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function z2(){return Ge(xe,q2).scale(169.529)}var B2=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function G2(){return Ge(xe,B2).scale(169.529).rotate([20,0])}var U2=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function V2(){return Ge(wo,U2).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var H2=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function j2(){return Ge(se,H2).scale(152.63).rotate([-20,0])}function gs(r,n){return[3/Dn*r*V(B*B/3-n*n),n]}gs.invert=function(r,n){return[Dn/3*r/V(B*B/3-n*n),n]};function Y2(){return Q(gs).scale(158.837)}function Nv(r){function n(e,t){if(H(H(t)-X)<Y)return[0,t<0?-2:2];var i=z(t),a=ul((1+i)/(1-i),r/2),o=.5*(a+1/a)+q(e*=r);return[2*z(e)/o,(a-1/a)/o]}return n.invert=function(e,t){var i=H(t);if(H(i-2)<Y)return e?null:[0,mr(t)*X];if(i>2)return null;e/=2,t/=2;var a=e*e,o=t*t,f=2*t/(1+a+o);return f=ul((1+f)/(1-f),1/r),[yr(2*e,1-a-o)/r,er((f-1)/(f+1))]},n}function X2(){var r=.5,n=sn(Nv),e=n(r);return e.spacing=function(t){return arguments.length?n(r=+t):r},e.scale(124.75)}var Qo=B/xr;function ps(r,n){return[r*(1+V(q(n)))/2,n/(q(n/2)*q(r/6))]}ps.invert=function(r,n){var e=H(r),t=H(n),i=Y,a=X;t<Qo?a*=t/Qo:i+=6*Qr(Qo/t);for(var o=0;o<25;o++){var f=z(a),s=V(q(a)),c=z(a/2),u=q(a/2),v=z(i/6),l=q(i/6),h=.5*i*(1+s)-e,g=a/(u*l)-t,p=s?-.25*i*f/s:0,d=.5*(1+s),m=(1+.5*a*c/u)/(u*l),y=a/u*(v/6)/(l*l),E=p*y-m*d,S=(h*y-g*d)/E,x=(g*p-h*m)/E;if(a-=S,i-=x,H(S)<Y&&H(x)<Y)break}return[r<0?-i:i,n<0?-a:a]};function W2(){return Q(ps).scale(97.2672)}function ds(r,n){var e=r*r,t=n*n;return[r*(.975534+t*(-.119161+e*-.0143059+t*-.0547009)),n*(1.00384+e*(.0802894+t*-.02855+e*199025e-9)+t*(.0998909+t*-.0491032))]}ds.invert=function(r,n){var e=mr(r)*B,t=n/2,i=50;do{var a=e*e,o=t*t,f=e*t,s=e*(.975534+o*(-.119161+a*-.0143059+o*-.0547009))-r,c=t*(1.00384+a*(.0802894+o*-.02855+a*199025e-9)+o*(.0998909+o*-.0491032))-n,u=.975534-o*(.119161+3*a*.0143059+o*.0547009),v=-f*(2*.119161+4*.0547009*o+2*.0143059*a),l=f*(2*.0802894+4*199025e-9*a+2*-.02855*o),h=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-5*.0491032*o),g=v*l-h*u,p=(c*v-s*h)/g,d=(s*l-c*u)/g;e-=p,t-=d}while((H(p)>Y||H(d)>Y)&&--i>0);return i&&[e,t]};function J2(){return Q(ds).scale(139.98)}function ms(r,n){return[z(r)/q(n),sr(n)*q(r)]}ms.invert=function(r,n){var e=r*r,t=n*n,i=t+1,a=r?bn*V((i-V(e*e+2*e*(t-1)+i*i))/e+1):1/V(i);return[er(r*a),mr(n)*Qr(a)]};function K2(){return Q(ms).scale(144.049).clipAngle(90-.001)}function kv(r){var n=q(r),e=sr(hn+r/2);function t(i,a){var o=a-r,f=H(o)<Y?i*n:H(f=hn+a/2)<Y||H(H(f)-X)<Y?0:i*o/Yr(sr(f)/e);return[f,o]}return t.invert=function(i,a){var o,f=a+r;return[H(a)<Y?i/n:H(o=hn+f/2)<Y||H(H(o)-X)<Y?0:i*Yr(sr(o)/e)/a,f]},t}function Q2(){return Et(kv).parallel(40).scale(158.837)}function ys(r,n){return[r,1.25*Yr(sr(hn+.4*n))]}ys.invert=function(r,n){return[r,2.5*Fr(Xn(.8*n))-.625*B]};function Z2(){return Q(ys).scale(108.318)}function Cv(r){var n=r.length-1;function e(t,i){for(var a=q(i),o=2/(1+a*q(t)),f=o*a*z(t),s=o*z(i),c=n,u=r[c],v=u[0],l=u[1],h;--c>=0;)u=r[c],v=u[0]+f*(h=v)-s*l,l=u[1]+f*l+s*h;return v=f*(h=v)-s*l,l=f*l+s*h,[v,l]}return e.invert=function(t,i){var a=20,o=t,f=i;do{for(var s=n,c=r[s],u=c[0],v=c[1],l=0,h=0,g;--s>=0;)c=r[s],l=u+o*(g=l)-f*h,h=v+o*h+f*g,u=c[0]+o*(g=u)-f*v,v=c[1]+o*v+f*g;l=u+o*(g=l)-f*h,h=v+o*h+f*g,u=o*(g=u)-f*v-t,v=o*v+f*g-i;var p=l*l+h*h,d,m;o-=d=(u*l+v*h)/p,f-=m=(v*l-u*h)/p}while(H(d)+H(m)>Y*Y&&--a>0);if(a){var y=V(o*o+f*f),E=2*Fr(y*.5),S=z(E);return[yr(o*S,y*q(E)),y?er(f*S/y):0]}},e}var rm=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],nm=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],em=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],tm=[[.9245,0],[0,0],[.01943,0]],im=[[.721316,0],[0,0],[-.00881625,-.00617325]];function am(){return St(rm,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function om(){return St(nm,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function um(){return St(em,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function lm(){return St(tm,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function sm(){return St(im,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function St(r,n){var e=Q(Cv(r)).rotate(n).clipAngle(90),t=ot(n),i=e.center;return delete e.rotate,e.center=function(a){return arguments.length?i(t(a)):t.invert(i())},e}var Ba=V(6),Ga=V(7);function ws(r,n){var e=er(7*z(n)/(3*Ba));return[Ba*r*(2*q(2*e/3)-1)/Ga,9*z(e/3)/Ga]}ws.invert=function(r,n){var e=3*er(n*Ga/9);return[r*Ga/(Ba*(2*q(2*e/3)-1)),er(z(e)*3*Ba/7)]};function fm(){return Q(ws).scale(164.859)}function Es(r,n){for(var e=(1+bn)*z(n),t=n,i=0,a;i<25&&(t-=a=(z(t/2)+z(t)-e)/(.5*q(t/2)+q(t)),!(H(a)<Y));i++);return[r*(1+2*q(t)/q(t/2))/(3*xr),2*V(3)*z(t/2)/V(2+xr)]}Es.invert=function(r,n){var e=n*V(2+xr)/(2*V(3)),t=2*er(e);return[3*xr*r/(1+2*q(t)/q(t/2)),er((e+z(t))/(1+bn))]};function cm(){return Q(Es).scale(188.209)}function Ss(r,n){for(var e=V(6/(4+B)),t=(1+B/4)*z(n),i=n/2,a=0,o;a<25&&(i-=o=(i/2+z(i)-t)/(.5+q(i)),!(H(o)<Y));a++);return[e*(.5+q(i))*r/1.5,e*i]}Ss.invert=function(r,n){var e=V(6/(4+B)),t=n/e;return H(H(t)-X)<Y&&(t=t<0?-X:X),[1.5*r/(e*(.5+q(t))),er((t/2+z(t))/(1+B/4))]};function vm(){return Q(Ss).scale(166.518)}function _s(r,n){var e=n*n,t=e*e;return[r*(.8707-.131979*e+t*(-.013791+t*(.003971*e-.001529*t))),n*(1.007226+e*(.015085+t*(-.044475+.028874*e-.005916*t)))]}_s.invert=function(r,n){var e=n,t=25,i;do{var a=e*e,o=a*a;e-=i=(e*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-n)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(H(i)>Y&&--t>0);return[r/(.8707+(a=e*e)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),e]};function hm(){return Q(_s).scale(175.295)}function Ts(r,n){var e=n*n,t=e*e,i=e*t;return[r*(.84719-.13063*e+i*i*(-.04515+.05494*e-.02326*t+.00331*i)),n*(1.01183+t*t*(-.02625+.01926*e-.00396*t))]}Ts.invert=function(r,n){var e=n,t=25,i,a,o,f;do a=e*e,o=a*a,e-=i=(e*(1.01183+o*o*(-.02625+.01926*a-.00396*o))-n)/(1.01183+o*o*(9*-.02625+11*.01926*a+13*-.00396*o));while(H(i)>wt&&--t>0);return a=e*e,o=a*a,f=a*o,[r/(.84719-.13063*a+f*f*(-.04515+.05494*a-.02326*o+.00331*f)),e]};function gm(){return Q(Ts).scale(175.295)}function xs(r,n){return[r*(1+q(n))/2,2*(n-sr(n/2))]}xs.invert=function(r,n){for(var e=n/2,t=0,i=1/0;t<10&&H(i)>Y;++t){var a=q(n/2);n-=i=(n-sr(n/2)-e)/(1-.5/(a*a))}return[2*r/(1+q(n)),n]};function pm(){return Q(xs).scale(152.63)}var $s=1.0148,Ms=.23185,bs=-.14499,Ps=.02406,dm=$s,mm=5*Ms,ym=7*bs,wm=9*Ps,Ai=1.790857183;function Rs(r,n){var e=n*n;return[r,n*($s+e*e*(Ms+e*(bs+Ps*e)))]}Rs.invert=function(r,n){n>Ai?n=Ai:n<-Ai&&(n=-Ai);var e=n,t;do{var i=e*e;e-=t=(e*($s+i*i*(Ms+i*(bs+Ps*i)))-n)/(dm+i*i*(mm+i*(ym+wm*i)))}while(H(t)>Y);return[r,e]};function Em(){return Q(Rs).scale(139.319)}function Ns(r,n){if(H(n)<Y)return[r,0];var e=sr(n),t=r*z(n);return[z(t)/e,n+(1-q(t))/e]}Ns.invert=function(r,n){if(H(n)<Y)return[r,0];var e=r*r+n*n,t=n*.5,i=10,a;do{var o=sr(t),f=1/q(t),s=e-2*n*t+t*t;t-=a=(o*s+2*(t-n))/(2+s*f*f+2*(t-n)*o)}while(H(a)>Y&&--i>0);return o=sr(t),[(H(n)<H(t+1/o)?er(r*o):mr(r)*(Qr(H(r*o))+X))/z(t),t]};function Sm(){return Q(Ns).scale(103.74)}function _m(r,n){var e=wc(r[1],r[0]),t=wc(n[1],n[0]),i=xm(e,t),a=Ec(e)/Ec(t);return ia([1,0,r[0][0],0,1,r[0][1]],ia([a,0,0,0,a,0],ia([q(i),z(i),0,-z(i),q(i),0],[1,0,-n[0][0],0,1,-n[0][1]])))}function Tm(r){var n=1/(r[0]*r[4]-r[1]*r[3]);return[n*r[4],-n*r[1],n*(r[1]*r[5]-r[2]*r[4]),-n*r[3],n*r[0],n*(r[2]*r[3]-r[0]*r[5])]}function ia(r,n){return[r[0]*n[0]+r[1]*n[3],r[0]*n[1]+r[1]*n[4],r[0]*n[2]+r[1]*n[5]+r[2],r[3]*n[0]+r[4]*n[3],r[3]*n[1]+r[4]*n[4],r[3]*n[2]+r[4]*n[5]+r[5]]}function wc(r,n){return[r[0]-n[0],r[1]-n[1]]}function Ec(r){return V(r[0]*r[0]+r[1]*r[1])}function xm(r,n){return yr(r[0]*n[1]-r[1]*n[0],r[0]*n[0]+r[1]*n[1])}function So(r,n,e){e=e==null?-B/6:e,t(r,{transform:[q(e),z(e),0,-z(e),q(e),0]});function t(c,u){if(c.edges=Mm(c.face),u.face){var v=c.shared=$m(c.face,u.face),l=_m(v.map(u.project),v.map(c.project));c.transform=u.transform?ia(u.transform,l):l;for(var h=u.edges,g=0,p=h.length;g<p;++g)fe(v[0],h[g][1])&&fe(v[1],h[g][0])&&(h[g]=c),fe(v[0],h[g][0])&&fe(v[1],h[g][1])&&(h[g]=c);for(h=c.edges,g=0,p=h.length;g<p;++g)fe(v[0],h[g][0])&&fe(v[1],h[g][1])&&(h[g]=u),fe(v[0],h[g][1])&&fe(v[1],h[g][0])&&(h[g]=u)}else c.transform=u.transform;return c.children&&c.children.forEach(function(d){t(d,c)}),c}function i(c,u){var v=n(c,u),l=v.project([c*Cr,u*Cr]),h;return(h=v.transform)?[h[0]*l[0]+h[1]*l[1]+h[2],-(h[3]*l[0]+h[4]*l[1]+h[5])]:(l[1]=-l[1],l)}Av(r)&&(i.invert=function(c,u){var v=a(r,[c,-u]);return v&&(v[0]*=Er,v[1]*=Er,v)});function a(c,u){var v=c.project.invert,l=c.transform,h=u;if(l&&(l=Tm(l),h=[l[0]*h[0]+l[1]*h[1]+l[2],l[3]*h[0]+l[4]*h[1]+l[5]]),v&&c===o(g=v(h)))return g;for(var g,p=c.children,d=0,m=p&&p.length;d<m;++d)if(g=a(p[d],u))return g}function o(c){return n(c[0]*Er,c[1]*Er)}var f=Q(i),s=f.stream;return f.stream=function(c){var u=f.rotate(),v=s(c),l=(f.rotate([0,0]),s(c));return f.rotate(u),v.sphere=function(){l.polygonStart(),l.lineStart(),Dv(l,r),l.lineEnd(),l.polygonEnd()},v},f}function Dv(r,n,e){var t,i=n.edges,a=i.length,o,f={type:"MultiPoint",coordinates:n.face},s=n.face.filter(function(p){return H(p[1])!==90}),c=b1({type:"MultiPoint",coordinates:s}),u=!1,v=-1,l=c[1][0]-c[0][0],h=l===180||l===360?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:yt(f);if(e)for(;++v<a&&i[v]!==e;);++v;for(var g=0;g<a;++g)o=i[(g+v)%a],Array.isArray(o)?(u||(r.point((t=Ra(o[0],h)(Y))[0],t[1]),u=!0),r.point((t=Ra(o[1],h)(Y))[0],t[1])):(u=!1,o!==e&&Dv(r,o,n))}function fe(r,n){return r&&n&&r[0]===n[0]&&r[1]===n[1]}function $m(r,n){for(var e,t,i=r.length,a=null,o=0;o<i;++o){e=r[o];for(var f=n.length;--f>=0;)if(t=n[f],e[0]===t[0]&&e[1]===t[1]){if(a)return[a,e];a=e}}}function Mm(r){for(var n=r.length,e=[],t=r[n-1],i=0;i<n;++i)e.push([t,t=r[i]]);return e}function Av(r){return r.project.invert||r.children&&r.children.some(Av)}var bm=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ua=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(r){return r.map(function(n){return bm[n]})});function Pm(r){r=r||function(e){var t=yt({type:"MultiPoint",coordinates:e});return Wl().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var n=Ua.map(function(e){return{face:e,project:r(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=n[e];i&&(i.children||(i.children=[])).push(n[t])}),So(n[0],function(e,t){return n[e<-B/2?t<0?6:4:e<0?t<0?2:0:e<B/2?t<0?3:1:t<0?7:5]}).scale(101.858).center([0,45])}var Lv=2/V(3);function Iv(r,n){var e=Hn(r,n);return[e[0]*Lv,e[1]]}Iv.invert=function(r,n){return Hn.invert(r/Lv,n)};function Rm(r){r=r||function(e){var t=yt({type:"MultiPoint",coordinates:e});return Q(Iv).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var n=Ua.map(function(e){return{face:e,project:r(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=n[e];i&&(i.children||(i.children=[])).push(n[t])}),So(n[0],function(e,t){return n[e<-B/2?t<0?6:4:e<0?t<0?2:0:e<B/2?t<0?3:1:t<0?7:5]}).scale(121.906).center([0,48.5904])}function Nm(r){r=r||function(o){var f=o.length===6?yt({type:"MultiPoint",coordinates:o}):o[0];return Wl().scale(1).translate([0,0]).rotate([-f[0],-f[1]])};var n=Ua.map(function(o){for(var f=o.map(ru),s=f.length,c=f[s-1],u,v=[],l=0;l<s;++l)u=f[l],v.push(Sc([c[0]*.9486832980505138+u[0]*.31622776601683794,c[1]*.9486832980505138+u[1]*.31622776601683794,c[2]*.9486832980505138+u[2]*.31622776601683794]),Sc([u[0]*.9486832980505138+c[0]*.31622776601683794,u[1]*.9486832980505138+c[1]*.31622776601683794,u[2]*.9486832980505138+c[2]*.31622776601683794])),c=u;return v}),e=[],t=[-1,0,0,1,0,1,4,5];n.forEach(function(o,f){for(var s=Ua[f],c=s.length,u=e[f]=[],v=0;v<c;++v)n.push([s[v],o[(v*2+2)%(2*c)],o[(v*2+1)%(2*c)]]),t.push(f),u.push(km(ru(o[(v*2+2)%(2*c)]),ru(o[(v*2+1)%(2*c)])))});var i=n.map(function(o){return{project:r(o),face:o}});t.forEach(function(o,f){var s=i[o];s&&(s.children||(s.children=[])).push(i[f])});function a(o,f){var s=q(f),c=[s*q(o),s*z(o),z(f)],u=o<-B/2?f<0?6:4:o<0?f<0?2:0:o<B/2?f<0?3:1:f<0?7:5,v=e[u];return i[Zo(v[0],c)<0?8+3*u:Zo(v[1],c)<0?8+3*u+1:Zo(v[2],c)<0?8+3*u+2:u]}return So(i[0],a).scale(110.625).center([0,45])}function Zo(r,n){for(var e=0,t=r.length,i=0;e<t;++e)i+=r[e]*n[e];return i}function km(r,n){return[r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]]}function Sc(r){return[yr(r[1],r[0])*Cr,er(ui(-1,In(1,r[2])))*Cr]}function ru(r){var n=r[0]*Er,e=r[1]*Er,t=q(e);return[t*q(n),t*z(n),z(e)]}function aa(){}function Cm(r){if((e=r.length)<4)return!1;for(var n=0,e,t=r[e-1][1]*r[0][0]-r[e-1][0]*r[0][1];++n<e;)t+=r[n-1][1]*r[n][0]-r[n-1][0]*r[n][1];return t<=0}function Dm(r,n){for(var e=n[0],t=n[1],i=!1,a=0,o=r.length,f=o-1;a<o;f=a++){var s=r[a],c=s[0],u=s[1],v=r[f],l=v[0],h=v[1];u>t^h>t&&e<(l-c)*(t-u)/(h-u)+c&&(i=!i)}return i}function Am(r,n){var e=n.stream,t;if(!e)throw new Error("invalid projection");switch(r&&r.type){case"Feature":t=Ov;break;case"FeatureCollection":t=Lm;break;default:t=ks;break}return t(r,e)}function Lm(r,n){return{type:"FeatureCollection",features:r.features.map(function(e){return Ov(e,n)})}}function Ov(r,n){return{type:"Feature",id:r.id,properties:r.properties,geometry:ks(r.geometry,n)}}function Im(r,n){return{type:"GeometryCollection",geometries:r.geometries.map(function(e){return ks(e,n)})}}function ks(r,n){if(!r)return null;if(r.type==="GeometryCollection")return Im(r,n);var e;switch(r.type){case"Point":e=_c;break;case"MultiPoint":e=_c;break;case"LineString":e=Tc;break;case"MultiLineString":e=Tc;break;case"Polygon":e=nu;break;case"MultiPolygon":e=nu;break;case"Sphere":e=nu;break;default:return null}return vn(r,n(e)),e.result()}var nn=[],Gn=[],_c={point:function(r,n){nn.push([r,n])},result:function(){var r=nn.length?nn.length<2?{type:"Point",coordinates:nn[0]}:{type:"MultiPoint",coordinates:nn}:null;return nn=[],r}},Tc={lineStart:aa,point:function(r,n){nn.push([r,n])},lineEnd:function(){nn.length&&(Gn.push(nn),nn=[])},result:function(){var r=Gn.length?Gn.length<2?{type:"LineString",coordinates:Gn[0]}:{type:"MultiLineString",coordinates:Gn}:null;return Gn=[],r}},nu={polygonStart:aa,lineStart:aa,point:function(r,n){nn.push([r,n])},lineEnd:function(){var r=nn.length;if(r){do nn.push(nn[0].slice());while(++r<4);Gn.push(nn),nn=[]}},polygonEnd:aa,result:function(){if(!Gn.length)return null;var r=[],n=[];return Gn.forEach(function(e){Cm(e)?r.push([e]):n.push(e)}),n.forEach(function(e){var t=e[0];r.some(function(i){if(Dm(i[0],t))return i.push(e),!0})||r.push([e])}),Gn=[],r.length?r.length>1?{type:"MultiPolygon",coordinates:r}:{type:"Polygon",coordinates:r[0]}:null}};function Cs(r){var n=r(X,0)[0]-r(-X,0)[0];function e(t,i){var a=H(t)<X,o=r(a?t:t>0?t-B:t+B,i),f=(o[0]-o[1])*bn,s=(o[0]+o[1])*bn;if(a)return[f,s];var c=n*bn,u=f>0^s>0?-1:1;return[u*f-mr(s)*c,u*s-mr(f)*c]}return r.invert&&(e.invert=function(t,i){var a=(t+i)*bn,o=(i-t)*bn,f=H(a)<.5*n&&H(o)<.5*n;if(!f){var s=n*bn,c=a>0^o>0?-1:1,u=-c*t+(o>0?1:-1)*s,v=-c*i+(a>0?1:-1)*s;a=(-u-v)*bn,o=(u-v)*bn}var l=r.invert(a,o);return f||(l[0]+=a>0?B:-B),l}),Q(e).rotate([-90,-90,45]).clipAngle(180-.001)}function Om(){return Cs(po).scale(176.423)}function xc(){return Cs(mo).scale(111.48)}function Fm(r,n){if(!(0<=(n=+n)&&n<=20))throw new Error("invalid digits");function e(s){var c=s.length,u=2,v=new Array(c);for(v[0]=+s[0].toFixed(n),v[1]=+s[1].toFixed(n);u<c;)v[u]=s[u],++u;return v}function t(s){return s.map(e)}function i(s){return s.map(t)}function a(s){if(s==null)return s;var c;switch(s.type){case"GeometryCollection":c={type:"GeometryCollection",geometries:s.geometries.map(a)};break;case"Point":c={type:"Point",coordinates:e(s.coordinates)};break;case"MultiPoint":case"LineString":c={type:s.type,coordinates:t(s.coordinates)};break;case"MultiLineString":case"Polygon":c={type:s.type,coordinates:i(s.coordinates)};break;case"MultiPolygon":c={type:"MultiPolygon",coordinates:s.coordinates.map(i)};break;default:return s}return s.bbox!=null&&(c.bbox=s.bbox),c}function o(s){var c={type:"Feature",properties:s.properties,geometry:a(s.geometry)};return s.id!=null&&(c.id=s.id),s.bbox!=null&&(c.bbox=s.bbox),c}if(r!=null)switch(r.type){case"Feature":return o(r);case"FeatureCollection":{var f={type:"FeatureCollection",features:r.features.map(o)};return r.bbox!=null&&(f.bbox=r.bbox),f}default:return a(r)}return r}function Fv(r){var n=z(r);function e(t,i){var a=n?sr(t*n/2)/n:t/2;if(!i)return[2*a,-r];var o=2*Fr(a*z(i)),f=1/sr(i);return[z(o)*f,i+(1-q(o))*f-r]}return e.invert=function(t,i){if(H(i+=r)<Y)return[n?2*Fr(n*t/2)/n:t,0];var a=t*t+i*i,o=0,f=10,s;do{var c=sr(o),u=1/q(o),v=a-2*i*o+o*o;o-=s=(c*v+2*(o-i))/(2+v*u*u+2*(o-i)*c)}while(H(s)>Y&&--f>0);var l=t*(c=sr(o)),h=sr(H(i)<H(o+1/c)?er(l)*.5:Qr(l)*.5+B/4)/z(o);return[n?2*Fr(n*h)/n:2*h,o]},e}function qm(){return Et(Fv).scale(131.215)}var yn=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];yn.forEach(function(r){r[1]*=1.0144});function Ds(r,n){var e=In(18,H(n)*36/B),t=st(e),i=e-t,a=(v=yn[t])[0],o=v[1],f=(v=yn[++t])[0],s=v[1],c=(v=yn[In(19,++t)])[0],u=v[1],v;return[r*(f+i*(c-a)/2+i*i*(c-2*f+a)/2),(n>0?X:-X)*(s+i*(u-o)/2+i*i*(u-2*s+o)/2)]}Ds.invert=function(r,n){var e=n/X,t=e*90,i=In(18,H(t/5)),a=ui(0,st(i));do{var o=yn[a][1],f=yn[a+1][1],s=yn[In(19,a+2)][1],c=s-o,u=s-2*f+o,v=2*(H(e)-f)/c,l=u/c,h=v*(1-l*v*(1-2*l*v));if(h>=0||a===1){t=(n>=0?5:-5)*(h+i);var g=50,p;do i=In(18,H(t)/5),a=st(i),h=i-a,o=yn[a][1],f=yn[a+1][1],s=yn[In(19,a+2)][1],t-=(p=(n>=0?X:-X)*(f+h*(s-o)/2+h*h*(s-2*f+o)/2)-n)*Cr;while(H(p)>wt&&--g>0);break}}while(--a>=0);var d=yn[a][0],m=yn[a+1][0],y=yn[In(19,a+2)][0];return[r/(m+h*(y-d)/2+h*h*(y-2*m+d)/2),t*Er]};function zm(){return Q(Ds).scale(152.63)}function Bm(r){function n(e,t){var i=q(t),a=(r-1)/(r-i*q(e));return[a*i*z(e),a*z(t)]}return n.invert=function(e,t){var i=e*e+t*t,a=V(i),o=(r-V(1-i*(r+1)/(r-1)))/((r-1)/a+a/(r-1));return[yr(e*o,a*V(1-o*o)),a?er(t*o/a):0]},n}function qv(r,n){var e=Bm(r);if(!n)return e;var t=q(n),i=z(n);function a(o,f){var s=e(o,f),c=s[1],u=c*i/(r-1)+t;return[s[0]*t/u,c/u]}return a.invert=function(o,f){var s=(r-1)/(r-1-f*i);return e.invert(s*o,s*f*t)},a}function Gm(){var r=2,n=0,e=sn(qv),t=e(r,n);return t.distance=function(i){return arguments.length?e(r=+i,n):r},t.tilt=function(i){return arguments.length?e(r,n=i*Er):n*Cr},t.scale(432.147).clipAngle(Qr(1/r)*Cr-1e-6)}var _o=1e-4,$c=1e4,As=-180,sl=As+_o,zv=180,fl=zv-_o,Ls=-90,cl=Ls+_o,Is=90,vl=Is-_o;function Um(r){return r.length>0}function Vm(r){return Math.floor(r*$c)/$c}function Mc(r){return r===Ls||r===Is?[0,r]:[As,Vm(r)]}function Os(r){var n=r[0],e=r[1],t=!1;return n<=sl?(n=As,t=!0):n>=fl&&(n=zv,t=!0),e<=cl?(e=Ls,t=!0):e>=vl&&(e=Is,t=!0),t?[n,e]:r}function bc(r){return r.map(Os)}function Pc(r,n,e){for(var t=0,i=r.length;t<i;++t){var a=r[t].slice();e.push({index:-1,polygon:n,ring:a});for(var o=0,f=a.length;o<f;++o){var s=a[o],c=s[0],u=s[1];if(c<=sl||c>=fl||u<=cl||u>=vl){a[o]=Os(s);for(var v=o+1;v<f;++v){var l=a[v],h=l[0],g=l[1];if(h>sl&&h<fl&&g>cl&&g<vl)break}if(v===o+1)continue;if(o){var p={index:-1,polygon:n,ring:a.slice(0,o+1)};p.ring[p.ring.length-1]=Mc(u),e[e.length-1]=p}else e.pop();if(v>=f)break;e.push({index:-1,polygon:n,ring:a=a.slice(v-1)}),a[0]=Mc(a[0][1]),o=-1,f=a.length}}}}function Rc(r){var n,e=r.length,t={},i={},a,o,f,s,c;for(n=0;n<e;++n){if(a=r[n],o=a.ring[0],s=a.ring[a.ring.length-1],o[0]===s[0]&&o[1]===s[1]){a.polygon.push(a.ring),r[n]=null;continue}a.index=n,t[o]=i[s]=a}for(n=0;n<e;++n)if(a=r[n],a){if(o=a.ring[0],s=a.ring[a.ring.length-1],f=i[o],c=t[s],delete t[o],delete i[s],o[0]===s[0]&&o[1]===s[1]){a.polygon.push(a.ring);continue}f?(delete i[o],delete t[f.ring[0]],f.ring.pop(),r[f.index]=null,a={index:-1,polygon:f.polygon,ring:f.ring.concat(a.ring)},f===c?a.polygon.push(a.ring):(a.index=e++,r.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a))):c?(delete t[s],delete i[c.ring[c.ring.length-1]],a.ring.pop(),a={index:e++,polygon:c.polygon,ring:a.ring.concat(c.ring)},r[c.index]=null,r.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a)):(a.ring.push(a.ring[0]),a.polygon.push(a.ring))}}function Nc(r){var n={type:"Feature",geometry:Fs(r.geometry)};return r.id!=null&&(n.id=r.id),r.bbox!=null&&(n.bbox=r.bbox),r.properties!=null&&(n.properties=r.properties),n}function Fs(r){if(r==null)return r;var n,e,t,i;switch(r.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:r.geometries.map(Fs)};break;case"Point":n={type:"Point",coordinates:Os(r.coordinates)};break;case"MultiPoint":case"LineString":n={type:r.type,coordinates:bc(r.coordinates)};break;case"MultiLineString":n={type:"MultiLineString",coordinates:r.coordinates.map(bc)};break;case"Polygon":{var a=[];Pc(r.coordinates,a,e=[]),Rc(e),n={type:"Polygon",coordinates:a};break}case"MultiPolygon":{e=[],t=-1,i=r.coordinates.length;for(var o=new Array(i);++t<i;)Pc(r.coordinates[t],o[t]=[],e);Rc(e),n={type:"MultiPolygon",coordinates:o.filter(Um)};break}default:return r}return r.bbox!=null&&(n.bbox=r.bbox),n}function Hm(r){if(r==null)return r;switch(r.type){case"Feature":return Nc(r);case"FeatureCollection":{var n={type:"FeatureCollection",features:r.features.map(Nc)};return r.bbox!=null&&(n.bbox=r.bbox),n}default:return Fs(r)}}function qs(r,n){var e=sr(n/2),t=z(hn*e);return[r*(.74482-.34588*t*t),1.70711*e]}qs.invert=function(r,n){var e=n/1.70711,t=z(hn*e);return[r/(.74482-.34588*t*t),2*Fr(e)]};function jm(){return Q(qs).scale(146.153)}function Bv(r,n,e){var t=Ra(n,e),i=t(.5),a=ot([-i[0],-i[1]])(n),o=t.distance/2,f=-er(z(a[1]*Er)/z(o)),s=[-i[0],-i[1],-(a[0]>0?B-f:f)*Cr],c=Q(r(o)).rotate(s),u=ot(s),v=c.center;return delete c.rotate,c.center=function(l){return arguments.length?v(u(l)):u.invert(v())},c.clipAngle(90)}function Gv(r){var n=q(r);function e(t,i){var a=oi(t,i);return a[0]*=n,a}return e.invert=function(t,i){return oi.invert(t/n,i)},e}function Ym(){return Uv([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Uv(r,n){return Bv(Gv,r,n)}function Vv(r){if(!(r*=2))return Ee;var n=-r/2,e=-n,t=r*r,i=sr(e),a=.5/z(e);function o(f,s){var c=Qr(q(s)*q(f-n)),u=Qr(q(s)*q(f-e)),v=s<0?-1:1;return c*=c,u*=u,[(c-u)/(2*r),v*V(4*t*u-(t-c+u)*(t-c+u))/(2*r)]}return o.invert=function(f,s){var c=s*s,u=q(V(c+(l=f+n)*l)),v=q(V(c+(l=f+e)*l)),l,h;return[yr(h=u-v,l=(u+v)*i),(s<0?-1:1)*Qr(V(l*l+h*h)*a)]},o}function Xm(){return Hv([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Hv(r,n){return Bv(Vv,r,n)}function zs(r,n){if(H(n)<Y)return[r,0];var e=H(n/X),t=er(e);if(H(r)<Y||H(H(n)-X)<Y)return[0,mr(n)*B*sr(t/2)];var i=q(t),a=H(B/r-r/B)/2,o=a*a,f=i/(e+i-1),s=f*(2/e-1),c=s*s,u=c+o,v=f-c,l=o+f;return[mr(r)*B*(a*v+V(o*v*v-u*(f*f-c)))/u,mr(n)*B*(s*l-a*V((o+1)*u-l*l))/u]}zs.invert=function(r,n){if(H(n)<Y)return[r,0];if(H(r)<Y)return[0,X*z(2*Fr(n/B))];var e=(r/=B)*r,t=(n/=B)*n,i=e+t,a=i*i,o=-H(n)*(1+i),f=o-2*t+e,s=-2*o+1+2*t+a,c=t/s+(2*f*f*f/(s*s*s)-9*o*f/(s*s))/27,u=(o-f*f/(3*s))/s,v=2*V(-u/3),l=Qr(3*c/(u*v))/3;return[B*(i-1+V(1+2*(e-t)+a))/(2*r),mr(n)*B*(-v*q(l+B/3)-f/(3*s))]};function Wm(){return Q(zs).scale(79.4183)}function Bs(r,n){if(H(n)<Y)return[r,0];var e=H(n/X),t=er(e);if(H(r)<Y||H(H(n)-X)<Y)return[0,mr(n)*B*sr(t/2)];var i=q(t),a=H(B/r-r/B)/2,o=a*a,f=i*(V(1+o)-a*i)/(1+o*e*e);return[mr(r)*B*f,mr(n)*B*V(1-f*(2*a+f))]}Bs.invert=function(r,n){if(!r)return[0,X*z(2*Fr(n/B))];var e=H(r/B),t=(1-e*e-(n/=B)*n)/(2*e),i=t*t,a=V(i+1);return[mr(r)*B*(a-t),mr(n)*X*z(2*yr(V((1-2*t*e)*(t+a)-e),V(a+t+e)))]};function Jm(){return Q(Bs).scale(79.4183)}function Gs(r,n){if(H(n)<Y)return[r,0];var e=n/X,t=er(e);if(H(r)<Y||H(H(n)-X)<Y)return[0,B*sr(t/2)];var i=(B/r-r/B)/2,a=e/(1+q(t));return[B*(mr(r)*V(i*i+1-a*a)-i),B*a]}Gs.invert=function(r,n){if(!n)return[r,0];var e=n/B,t=(B*B*(1-e*e)-r*r)/(2*B*r);return[r?B*(mr(r)*V(t*t+1)-t):0,X*z(2*Fr(e))]};function Km(){return Q(Gs).scale(79.4183)}function Us(r,n){if(!n)return[r,0];var e=H(n);if(!r||e===X)return[0,n];var t=e/X,i=t*t,a=(8*t-i*(i+2)-5)/(2*i*(t-1)),o=a*a,f=t*a,s=i+o+2*f,c=t+3*a,u=r/X,v=u+1/u,l=mr(H(r)-X)*V(v*v-4),h=l*l,g=s*(i+o*h-1)+(1-i)*(i*(c*c+4*o)+12*f*o+4*o*o),p=(l*(s+o-1)+2*V(g))/(4*s+h);return[mr(r)*X*p,mr(n)*X*V(1+l*H(p)-p*p)]}Us.invert=function(r,n){var e;if(!r||!n)return[r,n];n/=B;var t=mr(r)*r/X,i=(t*t-1+4*n*n)/H(t),a=i*i,o=2*n,f=50;do{var s=o*o,c=(8*o-s*(s+2)-5)/(2*s*(o-1)),u=(3*o-s*o-10)/(2*s*o),v=c*c,l=o*c,h=o+c,g=h*h,p=o+3*c,d=g*(s+v*a-1)+(1-s)*(s*(p*p+4*v)+v*(12*l+4*v)),m=-2*h*(4*l*v+(1-4*s+3*s*s)*(1+u)+v*(-6+14*s-a+(-8+8*s-2*a)*u)+l*(-8+12*s+(-10+10*s-a)*u)),y=V(d),E=i*(g+v-1)+2*y-t*(4*g+a),S=i*(2*c*u+2*h*(1+u))+m/y-8*h*(i*(-1+v+g)+2*y)*(1+u)/(a+4*g);o-=e=E/S}while(e>Y&&--f>0);return[mr(r)*(V(i*i+4)+i)*B/4,X*o]};function Qm(){return Q(Us).scale(127.16)}var jv=4*B+3*V(3),kc=2*V(2*B*V(3)/jv),Yv=ns(kc*V(3)/B,kc,jv/6);function Zm(){return Q(Yv).scale(176.84)}function Vs(r,n){return[r*V(1-3*n*n/(B*B)),n]}Vs.invert=function(r,n){return[r/V(1-3*n*n/(B*B)),n]};function r5(){return Q(Vs).scale(152.63)}function Hs(r,n){var e=.90631*z(n),t=V(1-e*e),i=V(2/(1+t*q(r/=3)));return[2.66723*t*i*z(r),1.24104*e*i]}Hs.invert=function(r,n){var e=r/2.66723,t=n/1.24104,i=V(e*e+t*t),a=2*er(i/2);return[3*yr(r*sr(a),2.66723*i),i&&er(n*z(a)/(1.24104*.90631*i))]};function n5(){return Q(Hs).scale(172.632)}function js(r,n){var e=q(n),t=q(r)*e,i=1-t,a=q(r=yr(z(r)*e,-z(n))),o=z(r);return e=V(1-t*t),[o*e-a*i,-a*e-o*i]}js.invert=function(r,n){var e=(r*r+n*n)/-2,t=V(-e*(2+e)),i=n*e+r*t,a=r*e-n*t,o=V(a*a+i*i);return[yr(t*i,o*(1+e)),o?-er(t*a/o):0]};function e5(){return Q(js).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function Ys(r,n){var e=co(r,n);return[(e[0]+r/X)/2,(e[1]+n)/2]}Ys.invert=function(r,n){var e=r,t=n,i=25;do{var a=q(t),o=z(t),f=z(2*t),s=o*o,c=a*a,u=z(e),v=q(e/2),l=z(e/2),h=l*l,g=1-c*v*v,p=g?Qr(a*v)*V(d=1/g):d=0,d,m=.5*(2*p*a*l+e/X)-r,y=.5*(p*o+t)-n,E=.5*d*(c*h+p*a*v*s)+.5/X,S=d*(u*f/4-p*o*l),x=.125*d*(f*l-p*o*c*u),M=.5*d*(s*v+p*h*a)+.5,D=S*x-M*E,k=(y*S-m*M)/D,C=(m*x-y*E)/D;e-=k,t-=C}while((H(k)>Y||H(C)>Y)&&--i>0);return[e,t]};function t5(){return Q(Ys).scale(158.837)}var i5=Object.freeze(Object.defineProperty({__proto__:null,geoAiry:Id,geoAiryRaw:uv,geoAitoff:Od,geoAitoffRaw:co,geoArmadillo:Fd,geoArmadilloRaw:lv,geoAugust:qd,geoAugustRaw:vo,geoBaker:Bd,geoBakerRaw:rs,geoBerghaus:Gd,geoBerghausRaw:sv,geoBoggs:Vd,geoBoggsRaw:ho,geoBonne:jd,geoBonneRaw:vv,geoBottomley:Yd,geoBottomleyRaw:hv,geoBromley:Xd,geoBromleyRaw:gv,geoChamberlin:dv,geoChamberlinRaw:pv,geoChamberlinAfrica:Jd,geoCollignon:Kd,geoCollignonRaw:Hn,geoCraig:Qd,geoCraigRaw:mv,geoCraster:Zd,geoCrasterRaw:es,geoCylindricalEqualArea:r2,geoCylindricalEqualAreaRaw:ts,geoCylindricalStereographic:n2,geoCylindricalStereographicRaw:yv,geoEckert1:e2,geoEckert1Raw:is,geoEckert2:t2,geoEckert2Raw:as,geoEckert3:i2,geoEckert3Raw:os,geoEckert4:a2,geoEckert4Raw:us,geoEckert5:o2,geoEckert5Raw:ls,geoEckert6:u2,geoEckert6Raw:ss,geoEisenlohr:l2,geoEisenlohrRaw:fs,geoFahey:s2,geoFaheyRaw:cs,geoFoucaut:f2,geoFoucautRaw:vs,geoGilbert:c2,geoGingery:v2,geoGingeryRaw:wv,geoGinzburg4:h2,geoGinzburg4Raw:Ev,geoGinzburg5:g2,geoGinzburg5Raw:Sv,geoGinzburg6:p2,geoGinzburg6Raw:_v,geoGinzburg8:d2,geoGinzburg8Raw:hs,geoGinzburg9:m2,geoGinzburg9Raw:Tv,geoGringorten:E2,geoGringortenRaw:po,geoGuyou:$2,geoGuyouRaw:mo,geoHammer:M2,geoHammerRaw:$v,geoHammerRetroazimuthal:b2,geoHammerRetroazimuthalRaw:bv,geoHealpix:R2,geoHealpixRaw:Pv,geoHill:N2,geoHillRaw:Rv,geoHomolosine:C2,geoHomolosineRaw:Eo,geoInterrupt:Ge,geoInterruptedBoggs:I2,geoInterruptedHomolosine:F2,geoInterruptedMollweide:z2,geoInterruptedMollweideHemispheres:G2,geoInterruptedSinuMollweide:V2,geoInterruptedSinusoidal:j2,geoKavrayskiy7:Y2,geoKavrayskiy7Raw:gs,geoLagrange:X2,geoLagrangeRaw:Nv,geoLarrivee:W2,geoLarriveeRaw:ps,geoLaskowski:J2,geoLaskowskiRaw:ds,geoLittrow:K2,geoLittrowRaw:ms,geoLoximuthal:Q2,geoLoximuthalRaw:kv,geoMiller:Z2,geoMillerRaw:ys,geoModifiedStereographic:St,geoModifiedStereographicRaw:Cv,geoModifiedStereographicAlaska:am,geoModifiedStereographicGs48:om,geoModifiedStereographicGs50:um,geoModifiedStereographicMiller:lm,geoModifiedStereographicLee:sm,geoMollweide:Ud,geoMollweideRaw:xe,geoMtFlatPolarParabolic:fm,geoMtFlatPolarParabolicRaw:ws,geoMtFlatPolarQuartic:cm,geoMtFlatPolarQuarticRaw:Es,geoMtFlatPolarSinusoidal:vm,geoMtFlatPolarSinusoidalRaw:Ss,geoNaturalEarth:hm,geoNaturalEarthRaw:_s,geoNaturalEarth2:gm,geoNaturalEarth2Raw:Ts,geoNellHammer:pm,geoNellHammerRaw:xs,geoPatterson:Em,geoPattersonRaw:Rs,geoPolyconic:Sm,geoPolyconicRaw:Ns,geoPolyhedral:So,geoPolyhedralButterfly:Pm,geoPolyhedralCollignon:Rm,geoPolyhedralWaterman:Nm,geoProject:Am,geoGringortenQuincuncial:Om,geoPeirceQuincuncial:xc,geoPierceQuincuncial:xc,geoQuantize:Fm,geoQuincuncial:Cs,geoRectangularPolyconic:qm,geoRectangularPolyconicRaw:Fv,geoRobinson:zm,geoRobinsonRaw:Ds,geoSatellite:Gm,geoSatelliteRaw:qv,geoSinuMollweide:k2,geoSinuMollweideRaw:wo,geoSinusoidal:Hd,geoSinusoidalRaw:se,geoStitch:Hm,geoTimes:jm,geoTimesRaw:qs,geoTwoPointAzimuthal:Uv,geoTwoPointAzimuthalRaw:Gv,geoTwoPointAzimuthalUsa:Ym,geoTwoPointEquidistant:Hv,geoTwoPointEquidistantRaw:Vv,geoTwoPointEquidistantUsa:Xm,geoVanDerGrinten:Wm,geoVanDerGrintenRaw:zs,geoVanDerGrinten2:Jm,geoVanDerGrinten2Raw:Bs,geoVanDerGrinten3:Km,geoVanDerGrinten3Raw:Gs,geoVanDerGrinten4:Qm,geoVanDerGrinten4Raw:Us,geoWagner4:Zm,geoWagner4Raw:Yv,geoWagner6:r5,geoWagner6Raw:Vs,geoWagner7:n5,geoWagner7Raw:Hs,geoWiechel:e5,geoWiechelRaw:js,geoWinkel3:t5,geoWinkel3Raw:Ys},Symbol.toStringTag,{value:"Module"})),Xv=Wn(i5),$e={},Xs={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(r){(function(n){function e(){}var t=e.prototype,i=n.EventEmitter;function a(s,c){for(var u=s.length;u--;)if(s[u].listener===c)return u;return-1}function o(s){return function(){return this[s].apply(this,arguments)}}t.getListeners=function(c){var u=this._getEvents(),v,l;if(c instanceof RegExp){v={};for(l in u)u.hasOwnProperty(l)&&c.test(l)&&(v[l]=u[l])}else v=u[c]||(u[c]=[]);return v},t.flattenListeners=function(c){var u=[],v;for(v=0;v<c.length;v+=1)u.push(c[v].listener);return u},t.getListenersAsObject=function(c){var u=this.getListeners(c),v;return u instanceof Array&&(v={},v[c]=u),v||u};function f(s){return typeof s=="function"||s instanceof RegExp?!0:s&&typeof s=="object"?f(s.listener):!1}t.addListener=function(c,u){if(!f(u))throw new TypeError("listener must be a function");var v=this.getListenersAsObject(c),l=typeof u=="object",h;for(h in v)v.hasOwnProperty(h)&&a(v[h],u)===-1&&v[h].push(l?u:{listener:u,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(c,u){return this.addListener(c,{listener:u,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(c){return this.getListeners(c),this},t.defineEvents=function(c){for(var u=0;u<c.length;u+=1)this.defineEvent(c[u]);return this},t.removeListener=function(c,u){var v=this.getListenersAsObject(c),l,h;for(h in v)v.hasOwnProperty(h)&&(l=a(v[h],u),l!==-1&&v[h].splice(l,1));return this},t.off=o("removeListener"),t.addListeners=function(c,u){return this.manipulateListeners(!1,c,u)},t.removeListeners=function(c,u){return this.manipulateListeners(!0,c,u)},t.manipulateListeners=function(c,u,v){var l,h,g=c?this.removeListener:this.addListener,p=c?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(l in u)u.hasOwnProperty(l)&&(h=u[l])&&(typeof h=="function"?g.call(this,l,h):p.call(this,l,h));else for(l=v.length;l--;)g.call(this,u,v[l]);return this},t.removeEvent=function(c){var u=typeof c,v=this._getEvents(),l;if(u==="string")delete v[c];else if(c instanceof RegExp)for(l in v)v.hasOwnProperty(l)&&c.test(l)&&delete v[l];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(c,u){var v=this.getListenersAsObject(c),l,h,g,p,d;for(p in v)if(v.hasOwnProperty(p))for(l=v[p].slice(0),g=0;g<l.length;g++)h=l[g],h.once===!0&&this.removeListener(c,h.listener),d=h.listener.apply(this,u||[]),d===this._getOnceReturnValue()&&this.removeListener(c,h.listener);return this},t.trigger=o("emitEvent"),t.emit=function(c){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,u)},t.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},r.exports?r.exports=e:n.EventEmitter=e})(typeof window!="undefined"?window:lo||{})})(Xs);Object.defineProperty($e,"__esModule",{value:!0});$e.View=void 0;var Wv=dr,a5=Wv.__importDefault(Xs.exports),Kr=or;function o5(r){var n={};return Kr.forIn(r,function(e,t){Kr.isObject(e)&&e.isView?n[t]=e:Kr.isArray(e)?n[t]=e.concat([]):Kr.isPlainObject(e)?n[t]=Kr.clone(e):n[t]=e}),n}var u5=function(r){Wv.__extends(n,r);function n(e,t){var i=r.call(this)||this;if(i.isView=!0,i.isDataView=!0,i.watchingStates=null,i.dataType="table",i.transforms=[],i.origin=[],i.rows=[],e&&e.isDataSet?i.dataSet=e:(i.dataSet=null,t=e),i.loose=!i.dataSet,t&&(i.watchingStates=t.watchingStates),!i.loose){var a=i.watchingStates;e.on("statechange",function(o){Kr.isArray(a)?a.indexOf(o)>-1&&i._reExecute():i._reExecute()})}return i}return n.prototype._parseStateExpression=function(e){var t=this.dataSet;if(t!==null){var i=/^\$state\.(\w+)/.exec(e);return i?t.state[i[1]]:e}},n.prototype._preparseOptions=function(e){var t=this,i=o5(e);return this.loose||Kr.forIn(i,function(a,o){Kr.isString(a)&&/^\$state\./.test(a)&&(i[o]=t._parseStateExpression(a))}),i},n.prototype._prepareSource=function(e,t){if(this._source={source:e,options:t},t){var i=this._preparseOptions(t);this.origin=n.DataSet.getConnector(i.type)(e,i,this)}else if(e instanceof n||Kr.isString(e))this.origin=n.DataSet.getConnector("default")(e,this.dataSet);else if(Kr.isArray(e))this.origin=e;else if(Kr.isObject(e)&&e.type){var i=this._preparseOptions(e);this.origin=n.DataSet.getConnector(i.type)(i,this)}else throw new TypeError("Invalid source");return this.rows=Kr.deepMix([],this.origin),this},n.prototype.source=function(e,t){return this._prepareSource(e,t)._reExecuteTransforms(),this.trigger("change",[]),this},n.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},n.prototype._executeTransform=function(e){e=this._preparseOptions(e);var t=n.DataSet.getTransform(e.type);t(this,e)},n.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach(function(t){e._executeTransform(t)})},n.prototype.addRow=function(e){this.rows.push(e)},n.prototype.removeRow=function(e){this.rows.splice(e,1)},n.prototype.updateRow=function(e,t){Kr.assign(this.rows[e],t)},n.prototype.findRows=function(e){return this.rows.filter(function(t){return Kr.isMatch(t,e)})},n.prototype.findRow=function(e){return Kr.find(this.rows,e)},n.prototype.getColumnNames=function(){var e=this.rows[0];return e?Kr.keys(e):[]},n.prototype.getColumnName=function(e){return this.getColumnNames()[e]},n.prototype.getColumnIndex=function(e){var t=this.getColumnNames();return t.indexOf(e)},n.prototype.getColumn=function(e){return this.rows.map(function(t){return t[e]})},n.prototype.getColumnData=function(e){return this.getColumn(e)},n.prototype.getSubset=function(e,t,i){for(var a=[],o=e;o<=t;o++)a.push(Kr.pick(this.rows[o],i));return a},n.prototype.toString=function(e){return e===void 0&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},n.prototype._reExecute=function(){var e=this._source,t=e.source,i=e.options;this._prepareSource(t,i),this._reExecuteTransforms(),this.trigger("change",[])},n}(a5.default);$e.View=u5;var To={},F=1e-6;class l5{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let t=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[t++]=f),n=o}return e[t]=n,this._n=t+1,this}valueOf(){const n=this._partials;let e=this._n,t,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(t=o,i=n[--e],o=t+i,a=i-(o-t),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,t=o+i,i==t-o&&(o=t))}return o}}function*s5(r){for(const n of r)yield*n}function Jv(r){return Array.from(s5(r))}var Tr=1e-6,f5=1e-12,vr=Math.PI,Br=vr/2,Cc=vr/4,Cn=vr*2,tn=180/vr,zr=vr/180,Dr=Math.abs,mi=Math.atan,ae=Math.atan2,_r=Math.cos,Kv=Math.exp,Va=Math.log,eu=Math.pow,Sr=Math.sin,Nn=Math.sign||function(r){return r>0?1:r<0?-1:0},oe=Math.sqrt,Ws=Math.tan;function c5(r){return r>1?0:r<-1?vr:Math.acos(r)}function Se(r){return r>1?Br:r<-1?-Br:Math.asin(r)}function Ut(){}function Ha(r,n){r&&Ac.hasOwnProperty(r.type)&&Ac[r.type](r,n)}var Dc={Feature:function(r,n){Ha(r.geometry,n)},FeatureCollection:function(r,n){for(var e=r.features,t=-1,i=e.length;++t<i;)Ha(e[t].geometry,n)}},Ac={Sphere:function(r,n){n.sphere()},Point:function(r,n){r=r.coordinates,n.point(r[0],r[1],r[2])},MultiPoint:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)r=e[t],n.point(r[0],r[1],r[2])},LineString:function(r,n){hl(r.coordinates,n,0)},MultiLineString:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)hl(e[t],n,0)},Polygon:function(r,n){Lc(r.coordinates,n)},MultiPolygon:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)Lc(e[t],n)},GeometryCollection:function(r,n){for(var e=r.geometries,t=-1,i=e.length;++t<i;)Ha(e[t],n)}};function hl(r,n,e){var t=-1,i=r.length-e,a;for(n.lineStart();++t<i;)a=r[t],n.point(a[0],a[1],a[2]);n.lineEnd()}function Lc(r,n){var e=-1,t=r.length;for(n.polygonStart();++e<t;)hl(r[e],n,1);n.polygonEnd()}function Qv(r,n){r&&Dc.hasOwnProperty(r.type)?Dc[r.type](r,n):Ha(r,n)}function gl(r){return[ae(r[1],r[0]),Se(r[2])]}function ct(r){var n=r[0],e=r[1],t=_r(e);return[t*_r(n),t*Sr(n),Sr(e)]}function Li(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function ja(r,n){return[r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]]}function tu(r,n){r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}function Ii(r,n){return[r[0]*n,r[1]*n,r[2]*n]}function pl(r){var n=oe(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=n,r[1]/=n,r[2]/=n}function dl(r,n){function e(t,i){return t=r(t,i),n(t[0],t[1])}return r.invert&&n.invert&&(e.invert=function(t,i){return t=n.invert(t,i),t&&r.invert(t[0],t[1])}),e}function ml(r,n){return[Dr(r)>vr?r+Math.round(-r/Cn)*Cn:r,n]}ml.invert=ml;function Zv(r,n,e){return(r%=Cn)?n||e?dl(Oc(r),Fc(n,e)):Oc(r):n||e?Fc(n,e):ml}function Ic(r){return function(n,e){return n+=r,[n>vr?n-Cn:n<-vr?n+Cn:n,e]}}function Oc(r){var n=Ic(r);return n.invert=Ic(-r),n}function Fc(r,n){var e=_r(r),t=Sr(r),i=_r(n),a=Sr(n);function o(f,s){var c=_r(s),u=_r(f)*c,v=Sr(f)*c,l=Sr(s),h=l*e+u*t;return[ae(v*i-h*a,u*e-l*t),Se(h*i+v*a)]}return o.invert=function(f,s){var c=_r(s),u=_r(f)*c,v=Sr(f)*c,l=Sr(s),h=l*i-v*a;return[ae(v*i+l*a,u*e+h*t),Se(h*e-u*t)]},o}function v5(r){r=Zv(r[0]*zr,r[1]*zr,r.length>2?r[2]*zr:0);function n(e){return e=r(e[0]*zr,e[1]*zr),e[0]*=tn,e[1]*=tn,e}return n.invert=function(e){return e=r.invert(e[0]*zr,e[1]*zr),e[0]*=tn,e[1]*=tn,e},n}function h5(r,n,e,t,i,a){if(!!e){var o=_r(n),f=Sr(n),s=t*e;i==null?(i=n+t*Cn,a=n-s/2):(i=qc(o,i),a=qc(o,a),(t>0?i<a:i>a)&&(i+=t*Cn));for(var c,u=i;t>0?u>a:u<a;u-=s)c=gl([o,-f*_r(u),-f*Sr(u)]),r.point(c[0],c[1])}}function qc(r,n){n=ct(n),n[0]-=r,pl(n);var e=c5(-n[1]);return((-n[2]<0?-e:e)+Cn-Tr)%Cn}function rh(){var r=[],n;return{point:function(e,t,i){n.push([e,t,i])},lineStart:function(){r.push(n=[])},lineEnd:Ut,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var e=r;return r=[],n=null,e}}}function oa(r,n){return Dr(r[0]-n[0])<Tr&&Dr(r[1]-n[1])<Tr}function Oi(r,n,e,t){this.x=r,this.z=n,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function nh(r,n,e,t,i){var a=[],o=[],f,s;if(r.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],m=g[p],y;if(oa(d,m)){if(!d[2]&&!m[2]){for(i.lineStart(),f=0;f<p;++f)i.point((d=g[f])[0],d[1]);i.lineEnd();return}m[0]+=2*Tr}a.push(y=new Oi(d,g,null,!0)),o.push(y.o=new Oi(d,null,y,!1)),a.push(y=new Oi(m,g,null,!1)),o.push(y.o=new Oi(m,null,y,!0))}}),!!a.length){for(o.sort(n),zc(a),zc(o),f=0,s=o.length;f<s;++f)o[f].e=e=!e;for(var c=a[0],u,v;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,s=u.length;f<s;++f)i.point((v=u[f])[0],v[1]);else t(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((v=u[f])[0],v[1]);else t(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function zc(r){if(!!(n=r.length)){for(var n,e=0,t=r[0],i;++e<n;)t.n=i=r[e],i.p=t,t=i;t.n=i=r[0],i.p=t}}function iu(r){return Dr(r[0])<=vr?r[0]:Nn(r[0])*((Dr(r[0])+vr)%Cn-vr)}function g5(r,n){var e=iu(n),t=n[1],i=Sr(t),a=[Sr(e),-_r(e),0],o=0,f=0,s=new l5;i===1?t=Br+Tr:i===-1&&(t=-Br-Tr);for(var c=0,u=r.length;c<u;++c)if(!!(l=(v=r[c]).length))for(var v,l,h=v[l-1],g=iu(h),p=h[1]/2+Cc,d=Sr(p),m=_r(p),y=0;y<l;++y,g=S,d=M,m=D,h=E){var E=v[y],S=iu(E),x=E[1]/2+Cc,M=Sr(x),D=_r(x),k=S-g,C=k>=0?1:-1,O=C*k,L=O>vr,N=d*M;if(s.add(ae(N*C*Sr(O),m*D+N*_r(O))),o+=L?k+C*Cn:k,L^g>=e^S>=e){var U=ja(ct(h),ct(E));pl(U);var _=ja(a,U);pl(_);var w=(L^k>=0?-1:1)*Se(_[2]);(t>w||t===w&&(U[0]||U[1]))&&(f+=L^k>=0?1:-1)}}return(o<-Tr||o<Tr&&s<-f5)^f&1}function eh(r,n,e,t){return function(i){var a=n(i),o=rh(),f=n(o),s=!1,c,u,v,l={point:h,lineStart:p,lineEnd:d,polygonStart:function(){l.point=m,l.lineStart=y,l.lineEnd=E,u=[],c=[]},polygonEnd:function(){l.point=h,l.lineStart=p,l.lineEnd=d,u=Jv(u);var S=g5(c,t);u.length?(s||(i.polygonStart(),s=!0),nh(u,d5,S,e,i)):S&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(S,x){r(S,x)&&i.point(S,x)}function g(S,x){a.point(S,x)}function p(){l.point=g,a.lineStart()}function d(){l.point=h,a.lineEnd()}function m(S,x){v.push([S,x]),f.point(S,x)}function y(){f.lineStart(),v=[]}function E(){m(v[0][0],v[0][1]),f.lineEnd();var S=f.clean(),x=o.result(),M,D=x.length,k,C,O;if(v.pop(),c.push(v),v=null,!!D){if(S&1){if(C=x[0],(k=C.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),M=0;M<k;++M)i.point((O=C[M])[0],O[1]);i.lineEnd()}return}D>1&&S&2&&x.push(x.pop().concat(x.shift())),u.push(x.filter(p5))}}return l}}function p5(r){return r.length>1}function d5(r,n){return((r=r.x)[0]<0?r[1]-Br-Tr:Br-r[1])-((n=n.x)[0]<0?n[1]-Br-Tr:Br-n[1])}var Bc=eh(function(){return!0},m5,w5,[-vr,-Br]);function m5(r){var n=NaN,e=NaN,t=NaN,i;return{lineStart:function(){r.lineStart(),i=1},point:function(a,o){var f=a>0?vr:-vr,s=Dr(a-n);Dr(s-vr)<Tr?(r.point(n,e=(e+o)/2>0?Br:-Br),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),r.point(a,e),i=0):t!==f&&s>=vr&&(Dr(n-t)<Tr&&(n-=t*Tr),Dr(a-f)<Tr&&(a-=f*Tr),e=y5(n,e,a,o),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),i=0),r.point(n=a,e=o),t=f},lineEnd:function(){r.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function y5(r,n,e,t){var i,a,o=Sr(r-e);return Dr(o)>Tr?mi((Sr(n)*(a=_r(t))*Sr(e)-Sr(t)*(i=_r(n))*Sr(r))/(i*a*o)):(n+t)/2}function w5(r,n,e,t){var i;if(r==null)i=e*Br,t.point(-vr,i),t.point(0,i),t.point(vr,i),t.point(vr,0),t.point(vr,-i),t.point(0,-i),t.point(-vr,-i),t.point(-vr,0),t.point(-vr,i);else if(Dr(r[0]-n[0])>Tr){var a=r[0]<n[0]?vr:-vr;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(n[0],n[1])}function E5(r){var n=_r(r),e=6*zr,t=n>0,i=Dr(n)>Tr;function a(u,v,l,h){h5(h,r,e,l,u,v)}function o(u,v){return _r(u)*_r(v)>n}function f(u){var v,l,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,m){var y=[d,m],E,S=o(d,m),x=t?S?0:c(d,m):S?c(d+(d<0?vr:-vr),m):0;if(!v&&(g=h=S)&&u.lineStart(),S!==h&&(E=s(v,y),(!E||oa(v,E)||oa(y,E))&&(y[2]=1)),S!==h)p=0,S?(u.lineStart(),E=s(y,v),u.point(E[0],E[1])):(E=s(v,y),u.point(E[0],E[1],2),u.lineEnd()),v=E;else if(i&&v&&t^S){var M;!(x&l)&&(M=s(y,v,!0))&&(p=0,t?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}S&&(!v||!oa(v,y))&&u.point(y[0],y[1]),v=y,h=S,l=x},lineEnd:function(){h&&u.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function s(u,v,l){var h=ct(u),g=ct(v),p=[1,0,0],d=ja(h,g),m=Li(d,d),y=d[0],E=m-y*y;if(!E)return!l&&u;var S=n*m/E,x=-n*y/E,M=ja(p,d),D=Ii(p,S),k=Ii(d,x);tu(D,k);var C=M,O=Li(D,C),L=Li(C,C),N=O*O-L*(Li(D,D)-1);if(!(N<0)){var U=oe(N),_=Ii(C,(-O-U)/L);if(tu(_,D),_=gl(_),!l)return _;var w=u[0],b=v[0],P=u[1],I=v[1],rr;b<w&&(rr=w,w=b,b=rr);var gr=b-w,ur=Dr(gr-vr)<Tr,pr=ur||gr<Tr;if(!ur&&I<P&&(rr=P,P=I,I=rr),pr?ur?P+I>0^_[1]<(Dr(_[0]-w)<Tr?P:I):P<=_[1]&&_[1]<=I:gr>vr^(w<=_[0]&&_[0]<=b)){var br=Ii(C,(-O+U)/L);return tu(br,D),[_,gl(br)]}}}function c(u,v){var l=t?r:vr-r,h=0;return u<-l?h|=1:u>l&&(h|=2),v<-l?h|=4:v>l&&(h|=8),h}return eh(o,f,a,t?[0,-r]:[-vr,r-vr])}function S5(r,n,e,t,i,a){var o=r[0],f=r[1],s=n[0],c=n[1],u=0,v=1,l=s-o,h=c-f,g;if(g=e-o,!(!l&&g>0)){if(g/=l,l<0){if(g<u)return;g<v&&(v=g)}else if(l>0){if(g>v)return;g>u&&(u=g)}if(g=i-o,!(!l&&g<0)){if(g/=l,l<0){if(g>v)return;g>u&&(u=g)}else if(l>0){if(g<u)return;g<v&&(v=g)}if(g=t-f,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>u&&(u=g)}if(g=a-f,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<v&&(v=g)}return u>0&&(r[0]=o+u*l,r[1]=f+u*h),v<1&&(n[0]=o+v*l,n[1]=f+v*h),!0}}}}}var Vt=1e9,Fi=-Vt;function _5(r,n,e,t){function i(c,u){return r<=c&&c<=e&&n<=u&&u<=t}function a(c,u,v,l){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(u,v))||s(c,u)<0^v>0)do l.point(h===0||h===3?r:e,h>1?t:n);while((h=(h+v+4)%4)!==g);else l.point(u[0],u[1])}function o(c,u){return Dr(c[0]-r)<Tr?u>0?0:3:Dr(c[0]-e)<Tr?u>0?2:1:Dr(c[1]-n)<Tr?u>0?1:0:u>0?3:2}function f(c,u){return s(c.x,u.x)}function s(c,u){var v=o(c,1),l=o(u,1);return v!==l?v-l:v===0?u[1]-c[1]:v===1?c[0]-u[0]:v===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,v=rh(),l,h,g,p,d,m,y,E,S,x,M,D={point:k,lineStart:N,lineEnd:U,polygonStart:O,polygonEnd:L};function k(w,b){i(w,b)&&u.point(w,b)}function C(){for(var w=0,b=0,P=h.length;b<P;++b)for(var I=h[b],rr=1,gr=I.length,ur=I[0],pr,br,Vr=ur[0],Wr=ur[1];rr<gr;++rr)pr=Vr,br=Wr,ur=I[rr],Vr=ur[0],Wr=ur[1],br<=t?Wr>t&&(Vr-pr)*(t-br)>(Wr-br)*(r-pr)&&++w:Wr<=t&&(Vr-pr)*(t-br)<(Wr-br)*(r-pr)&&--w;return w}function O(){u=v,l=[],h=[],M=!0}function L(){var w=C(),b=M&&w,P=(l=Jv(l)).length;(b||P)&&(c.polygonStart(),b&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),P&&nh(l,f,w,a,c),c.polygonEnd()),u=c,l=h=g=null}function N(){D.point=_,h&&h.push(g=[]),x=!0,S=!1,y=E=NaN}function U(){l&&(_(p,d),m&&S&&v.rejoin(),l.push(v.result())),D.point=k,S&&u.lineEnd()}function _(w,b){var P=i(w,b);if(h&&g.push([w,b]),x)p=w,d=b,m=P,x=!1,P&&(u.lineStart(),u.point(w,b));else if(P&&S)u.point(w,b);else{var I=[y=Math.max(Fi,Math.min(Vt,y)),E=Math.max(Fi,Math.min(Vt,E))],rr=[w=Math.max(Fi,Math.min(Vt,w)),b=Math.max(Fi,Math.min(Vt,b))];S5(I,rr,r,n,e,t)?(S||(u.lineStart(),u.point(I[0],I[1])),u.point(rr[0],rr[1]),P||u.lineEnd(),M=!1):P&&(u.lineStart(),u.point(w,b),M=!1)}y=w,E=b,S=P}return D}}var Gc=r=>r,vt=1/0,Ya=vt,li=-vt,Xa=li,T5={point:x5,lineStart:Ut,lineEnd:Ut,polygonStart:Ut,polygonEnd:Ut,result:function(){var r=[[vt,Ya],[li,Xa]];return li=Xa=-(Ya=vt=1/0),r}};function x5(r,n){r<vt&&(vt=r),r>li&&(li=r),n<Ya&&(Ya=n),n>Xa&&(Xa=n)}var Uc=T5;function Js(r){return function(n){var e=new yl;for(var t in r)e[t]=r[t];return e.stream=n,e}}function yl(){}yl.prototype={constructor:yl,point:function(r,n){this.stream.point(r,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ks(r,n,e){var t=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),t!=null&&r.clipExtent(null),Qv(e,r.stream(Uc)),n(Uc.result()),t!=null&&r.clipExtent(t),r}function th(r,n,e){return Ks(r,function(t){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),f=+n[0][0]+(i-o*(t[1][0]+t[0][0]))/2,s=+n[0][1]+(a-o*(t[1][1]+t[0][1]))/2;r.scale(150*o).translate([f,s])},e)}function $5(r,n,e){return th(r,[[0,0],n],e)}function M5(r,n,e){return Ks(r,function(t){var i=+n,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,f=-a*t[0][1];r.scale(150*a).translate([o,f])},e)}function b5(r,n,e){return Ks(r,function(t){var i=+n,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],f=(i-a*(t[1][1]+t[0][1]))/2;r.scale(150*a).translate([o,f])},e)}var Vc=16,P5=_r(30*zr);function Hc(r,n){return+n?N5(r,n):R5(r)}function R5(r){return Js({point:function(n,e){n=r(n,e),this.stream.point(n[0],n[1])}})}function N5(r,n){function e(t,i,a,o,f,s,c,u,v,l,h,g,p,d){var m=c-t,y=u-i,E=m*m+y*y;if(E>4*n&&p--){var S=o+l,x=f+h,M=s+g,D=oe(S*S+x*x+M*M),k=Se(M/=D),C=Dr(Dr(M)-1)<Tr||Dr(a-v)<Tr?(a+v)/2:ae(x,S),O=r(C,k),L=O[0],N=O[1],U=L-t,_=N-i,w=y*U-m*_;(w*w/E>n||Dr((m*U+y*_)/E-.5)>.3||o*l+f*h+s*g<P5)&&(e(t,i,a,o,f,s,L,N,C,S/=D,x/=D,M,p,d),d.point(L,N),e(L,N,C,S,x,M,c,u,v,l,h,g,p,d))}}return function(t){var i,a,o,f,s,c,u,v,l,h,g,p,d={point:m,lineStart:y,lineEnd:S,polygonStart:function(){t.polygonStart(),d.lineStart=x},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function m(k,C){k=r(k,C),t.point(k[0],k[1])}function y(){v=NaN,d.point=E,t.lineStart()}function E(k,C){var O=ct([k,C]),L=r(k,C);e(v,l,u,h,g,p,v=L[0],l=L[1],u=k,h=O[0],g=O[1],p=O[2],Vc,t),t.point(v,l)}function S(){d.point=m,t.lineEnd()}function x(){y(),d.point=M,d.lineEnd=D}function M(k,C){E(i=k,C),a=v,o=l,f=h,s=g,c=p,d.point=E}function D(){e(v,l,u,h,g,p,a,o,i,f,s,c,Vc,t),d.lineEnd=S,S()}return d}}var k5=Js({point:function(r,n){this.stream.point(r*zr,n*zr)}});function C5(r){return Js({point:function(n,e){var t=r(n,e);return this.stream.point(t[0],t[1])}})}function D5(r,n,e,t,i){function a(o,f){return o*=t,f*=i,[n+r*o,e-r*f]}return a.invert=function(o,f){return[(o-n)/r*t,(e-f)/r*i]},a}function jc(r,n,e,t,i,a){if(!a)return D5(r,n,e,t,i);var o=_r(a),f=Sr(a),s=o*r,c=f*r,u=o/r,v=f/r,l=(f*e-o*n)/r,h=(f*n+o*e)/r;function g(p,d){return p*=t,d*=i,[s*p-c*d+n,e-c*p-s*d]}return g.invert=function(p,d){return[t*(u*p-v*d+l),i*(h-v*p-u*d)]},g}function Qs(r){return ih(function(){return r})()}function ih(r){var n,e=150,t=480,i=250,a=0,o=0,f=0,s=0,c=0,u,v=0,l=1,h=1,g=null,p=Bc,d=null,m,y,E,S=Gc,x=.5,M,D,k,C,O;function L(w){return k(w[0]*zr,w[1]*zr)}function N(w){return w=k.invert(w[0],w[1]),w&&[w[0]*tn,w[1]*tn]}L.stream=function(w){return C&&O===w?C:C=k5(C5(u)(p(M(S(O=w)))))},L.preclip=function(w){return arguments.length?(p=w,g=void 0,_()):p},L.postclip=function(w){return arguments.length?(S=w,d=m=y=E=null,_()):S},L.clipAngle=function(w){return arguments.length?(p=+w?E5(g=w*zr):(g=null,Bc),_()):g*tn},L.clipExtent=function(w){return arguments.length?(S=w==null?(d=m=y=E=null,Gc):_5(d=+w[0][0],m=+w[0][1],y=+w[1][0],E=+w[1][1]),_()):d==null?null:[[d,m],[y,E]]},L.scale=function(w){return arguments.length?(e=+w,U()):e},L.translate=function(w){return arguments.length?(t=+w[0],i=+w[1],U()):[t,i]},L.center=function(w){return arguments.length?(a=w[0]%360*zr,o=w[1]%360*zr,U()):[a*tn,o*tn]},L.rotate=function(w){return arguments.length?(f=w[0]%360*zr,s=w[1]%360*zr,c=w.length>2?w[2]%360*zr:0,U()):[f*tn,s*tn,c*tn]},L.angle=function(w){return arguments.length?(v=w%360*zr,U()):v*tn},L.reflectX=function(w){return arguments.length?(l=w?-1:1,U()):l<0},L.reflectY=function(w){return arguments.length?(h=w?-1:1,U()):h<0},L.precision=function(w){return arguments.length?(M=Hc(D,x=w*w),_()):oe(x)},L.fitExtent=function(w,b){return th(L,w,b)},L.fitSize=function(w,b){return $5(L,w,b)},L.fitWidth=function(w,b){return M5(L,w,b)},L.fitHeight=function(w,b){return b5(L,w,b)};function U(){var w=jc(e,0,0,l,h,v).apply(null,n(a,o)),b=jc(e,t-w[0],i-w[1],l,h,v);return u=Zv(f,s,c),D=dl(n,b),k=dl(u,D),M=Hc(D,x),_()}function _(){return C=O=null,L}return function(){return n=r.apply(this,arguments),L.invert=n.invert&&N,U()}}function Zs(r){var n=0,e=vr/3,t=ih(r),i=t(n,e);return i.parallels=function(a){return arguments.length?t(n=a[0]*zr,e=a[1]*zr):[n*tn,e*tn]},i}function A5(r){var n=_r(r);function e(t,i){return[t*n,Sr(i)/n]}return e.invert=function(t,i){return[t/n,Se(i*n)]},e}function L5(r,n){var e=Sr(r),t=(e+Sr(n))/2;if(Dr(t)<Tr)return A5(r);var i=1+e*(2*t-e),a=oe(i)/t;function o(f,s){var c=oe(i-2*t*Sr(s))/t;return[c*Sr(f*=t),a-c*_r(f)]}return o.invert=function(f,s){var c=a-s,u=ae(f,Dr(c))*Nn(c);return c*t<0&&(u-=vr*Nn(f)*Nn(c)),[u/t,Se((i-(f*f+c*c)*t*t)/(2*t))]},o}function et(){return Zs(L5).scale(155.424).center([0,33.6442])}function Wa(){return et().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function I5(r){return function(n,e){var t=oe(n*n+e*e),i=r(t),a=Sr(i),o=_r(i);return[ae(n*a,t*o),Se(t&&e*a/t)]}}function xo(r,n){return[r,Va(Ws((Br+n)/2))]}xo.invert=function(r,n){return[r,2*mi(Kv(n))-Br]};function kr(){return ah(xo).scale(961/Cn)}function ah(r){var n=Qs(r),e=n.center,t=n.scale,i=n.translate,a=n.clipExtent,o=null,f,s,c;n.scale=function(v){return arguments.length?(t(v),u()):t()},n.translate=function(v){return arguments.length?(i(v),u()):i()},n.center=function(v){return arguments.length?(e(v),u()):e()},n.clipExtent=function(v){return arguments.length?(v==null?o=f=s=c=null:(o=+v[0][0],f=+v[0][1],s=+v[1][0],c=+v[1][1]),u()):o==null?null:[[o,f],[s,c]]};function u(){var v=vr*t(),l=n(v5(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-v,l[1]-v],[l[0]+v,l[1]+v]]:r===xo?[[Math.max(l[0]-v,o),f],[Math.min(l[0]+v,s),c]]:[[o,Math.max(l[1]-v,f)],[s,Math.min(l[1]+v,c)]])}return u()}function qi(r){return Ws((Br+r)/2)}function O5(r,n){var e=_r(r),t=r===n?Sr(r):Va(e/_r(n))/Va(qi(n)/qi(r)),i=e*eu(qi(r),t)/t;if(!t)return xo;function a(o,f){i>0?f<-Br+Tr&&(f=-Br+Tr):f>Br-Tr&&(f=Br-Tr);var s=i/eu(qi(f),t);return[s*Sr(t*o),i-s*_r(t*o)]}return a.invert=function(o,f){var s=i-f,c=Nn(t)*oe(o*o+s*s),u=ae(o,Dr(s))*Nn(s);return s*t<0&&(u-=vr*Nn(o)*Nn(s)),[u/t,2*mi(eu(i/c,1/t))-Br]},a}function cn(){return Zs(O5).scale(109.5).parallels([30,30])}function Ja(r,n){return[r,n]}Ja.invert=Ja;function Yc(){return Qs(Ja).scale(152.63)}function F5(r,n){var e=_r(r),t=r===n?Sr(r):(e-_r(n))/(n-r),i=e/t+r;if(Dr(t)<Tr)return Ja;function a(o,f){var s=i-f,c=t*o;return[s*Sr(c),i-s*_r(c)]}return a.invert=function(o,f){var s=i-f,c=ae(o,Dr(s))*Nn(s);return s*t<0&&(c-=vr*Nn(o)*Nn(s)),[c/t,i-Nn(t)*oe(o*o+s*s)]},a}function au(){return Zs(F5).scale(131.154).center([0,13.9389])}function oh(r,n){var e=_r(n),t=1+_r(r)*e;return[e*Sr(r)/t,Sr(n)/t]}oh.invert=I5(function(r){return 2*mi(r)});function q5(){return Qs(oh).scale(250).clipAngle(142)}function uh(r,n){return[Va(Ws((Br+n)/2)),-r]}uh.invert=function(r,n){return[-n,2*mi(Kv(r))-Br]};function z5(){var r=ah(uh),n=r.center,e=r.rotate;return r.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},r.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}function zi(){}var ht=1/0,Ka=ht,si=-ht,Qa=si,Xc={point:B5,lineStart:zi,lineEnd:zi,polygonStart:zi,polygonEnd:zi,result:function(){var r=[[ht,Ka],[si,Qa]];return si=Qa=-(Ka=ht=1/0),r}};function B5(r,n){r<ht&&(ht=r),r>si&&(si=r),n<Ka&&(Ka=n),n>Qa&&(Qa=n)}function dn(r,n,e){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=r.clipExtent&&r.clipExtent();r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),Qv(e,r.stream(Xc));var o=Xc.result(),f=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),s=+n[0][0]+(t-f*(o[1][0]+o[0][0]))/2,c=+n[0][1]+(i-f*(o[1][1]+o[0][1]))/2;return a!=null&&r.clipExtent(a),r.scale(f*150).translate([s,c])}function xn(r,n,e){return dn(r,[[0,0],n],e)}const wl=Math.PI,El=2*wl,De=1e-6,G5=El-De;function Sl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function mn(){return new Sl}Sl.prototype=mn.prototype={constructor:Sl,moveTo:function(r,n){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,n){this._+="L"+(this._x1=+r)+","+(this._y1=+n)},quadraticCurveTo:function(r,n,e,t){this._+="Q"+ +r+","+ +n+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(r,n,e,t,i,a){this._+="C"+ +r+","+ +n+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(r,n,e,t,i){r=+r,n=+n,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,f=e-r,s=t-n,c=a-r,u=o-n,v=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=r)+","+(this._y1=n);else if(v>De)if(!(Math.abs(u*f-s*c)>De)||!i)this._+="L"+(this._x1=r)+","+(this._y1=n);else{var l=e-a,h=t-o,g=f*f+s*s,p=l*l+h*h,d=Math.sqrt(g),m=Math.sqrt(v),y=i*Math.tan((wl-Math.acos((g+v-p)/(2*d*m)))/2),E=y/m,S=y/d;Math.abs(E-1)>De&&(this._+="L"+(r+E*c)+","+(n+E*u)),this._+="A"+i+","+i+",0,0,"+ +(u*l>c*h)+","+(this._x1=r+S*f)+","+(this._y1=n+S*s)}},arc:function(r,n,e,t,i,a){r=+r,n=+n,e=+e,a=!!a;var o=e*Math.cos(t),f=e*Math.sin(t),s=r+o,c=n+f,u=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+s+","+c:(Math.abs(this._x1-s)>De||Math.abs(this._y1-c)>De)&&(this._+="L"+s+","+c),e&&(v<0&&(v=v%El+El),v>G5?this._+="A"+e+","+e+",0,1,"+u+","+(r-o)+","+(n-f)+"A"+e+","+e+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):v>De&&(this._+="A"+e+","+e+",0,"+ +(v>=wl)+","+u+","+(this._x1=r+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(r,n,e,t){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function U5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function V5(){var r,n,e=Wa(),t,i=et().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=et().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=U5([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+F,p+.12*h+F],[g-.214*h-F,p+.234*h-F]]).stream(c),f=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+F,p+.166*h+F],[g-.115*h-F,p+.234*h-F]]).stream(c),v()},u.fitExtent=function(l,h){return dn(u,l,h)},u.fitSize=function(l,h){return xn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([-102.91,26.3]),g=e([-104,27.5]),p=e([-108,29.1]),d=e([-110,29.1]),m=e([-110,26.7]),y=e([-112.8,27.6]),E=e([-114.3,30.6]),S=e([-119.3,30.1]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(E[0],E[1]),l.lineTo(S[0],S[1])},u.getCompositionBorders=function(){var l=mn();return this.drawCompositionBorders(l),l.toString()},u.scale(1070)}function H5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function j5(){var r,n,e=Wa(),t,i=et().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=et().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s=et().rotate([66,0]).center([0,18]).parallels([8,18]),c,u=Yc().rotate([173,14]),v,l=Yc().rotate([-145,-16.8]),h,g,p={point:function(y,E){g=[y,E]}};function d(y){var E=y[0],S=y[1];return g=null,t.point(E,S),g||(a.point(E,S),g)||(f.point(E,S),g)||(c.point(E,S),g)||(v.point(E,S),g)||(h.point(E,S),g)}d.invert=function(y){var E=e.scale(),S=e.translate(),x=(y[0]-S[0])/E,M=(y[1]-S[1])/E;return(M>=.12&&M<.234&&x>=-.425&&x<-.214?i:M>=.166&&M<.234&&x>=-.214&&x<-.115?o:M>=.2064&&M<.2413&&x>=.312&&x<.385?s:M>=.09&&M<.1197&&x>=-.4243&&x<-.3232?u:M>=-.0518&&M<.0895&&x>=-.4243&&x<-.3824?l:e).invert(y)},d.stream=function(y){return r&&n===y?r:r=H5([e.stream(n=y),i.stream(y),o.stream(y),s.stream(y),u.stream(y),l.stream(y)])},d.precision=function(y){return arguments.length?(e.precision(y),i.precision(y),o.precision(y),s.precision(y),u.precision(y),l.precision(y),m()):e.precision()},d.scale=function(y){return arguments.length?(e.scale(y),i.scale(y*.35),o.scale(y),s.scale(y),u.scale(y*2),l.scale(y),d.translate(e.translate())):e.scale()},d.translate=function(y){if(!arguments.length)return e.translate();var E=e.scale(),S=+y[0],x=+y[1];return t=e.translate(y).clipExtent([[S-.455*E,x-.238*E],[S+.455*E,x+.238*E]]).stream(p),a=i.translate([S-.307*E,x+.201*E]).clipExtent([[S-.425*E+F,x+.12*E+F],[S-.214*E-F,x+.233*E-F]]).stream(p),f=o.translate([S-.205*E,x+.212*E]).clipExtent([[S-.214*E+F,x+.166*E+F],[S-.115*E-F,x+.233*E-F]]).stream(p),c=s.translate([S+.35*E,x+.224*E]).clipExtent([[S+.312*E+F,x+.2064*E+F],[S+.385*E-F,x+.233*E-F]]).stream(p),v=u.translate([S-.492*E,x+.09*E]).clipExtent([[S-.4243*E+F,x+.0903*E+F],[S-.3233*E-F,x+.1197*E-F]]).stream(p),h=l.translate([S-.408*E,x+.018*E]).clipExtent([[S-.4244*E+F,x-.0519*E+F],[S-.3824*E-F,x+.0895*E-F]]).stream(p),m()},d.fitExtent=function(y,E){return dn(d,y,E)},d.fitSize=function(y,E){return xn(d,y,E)};function m(){return r=n=null,d}return d.drawCompositionBorders=function(y){var E=e([-110.4641,28.2805]),S=e([-104.0597,28.9528]),x=e([-103.7049,25.1031]),M=e([-109.8337,24.4531]),D=e([-124.4745,28.1407]),k=e([-110.931,30.8844]),C=e([-109.8337,24.4531]),O=e([-122.4628,21.8562]),L=e([-76.8579,25.1544]),N=e([-72.429,24.2097]),U=e([-72.8265,22.7056]),_=e([-77.1852,23.6392]),w=e([-125.0093,29.7791]),b=e([-118.5193,31.3262]),P=e([-118.064,29.6912]),I=e([-124.4369,28.169]),rr=e([-128.1314,37.4582]),gr=e([-125.2132,38.214]),ur=e([-122.3616,30.5115]),pr=e([-125.0315,29.8211]);y.moveTo(E[0],E[1]),y.lineTo(S[0],S[1]),y.lineTo(x[0],x[1]),y.lineTo(x[0],x[1]),y.lineTo(M[0],M[1]),y.closePath(),y.moveTo(D[0],D[1]),y.lineTo(k[0],k[1]),y.lineTo(C[0],C[1]),y.lineTo(C[0],C[1]),y.lineTo(O[0],O[1]),y.closePath(),y.moveTo(L[0],L[1]),y.lineTo(N[0],N[1]),y.lineTo(U[0],U[1]),y.lineTo(U[0],U[1]),y.lineTo(_[0],_[1]),y.closePath(),y.moveTo(w[0],w[1]),y.lineTo(b[0],b[1]),y.lineTo(P[0],P[1]),y.lineTo(P[0],P[1]),y.lineTo(I[0],I[1]),y.closePath(),y.moveTo(rr[0],rr[1]),y.lineTo(gr[0],gr[1]),y.lineTo(ur[0],ur[1]),y.lineTo(ur[0],ur[1]),y.lineTo(pr[0],pr[1]),y.closePath()},d.getCompositionBorders=function(){var y=mn();return this.drawCompositionBorders(y),y.toString()},d.scale(1070)}function Y5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function X5(){var r,n,e=cn().rotate([5,-38.6]).parallels([0,60]),t,i=cn().rotate([5,-38.6]).parallels([0,60]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=.05346&&g<.0897&&h>=-.13388&&h<-.0322?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=Y5([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.06857*v,h-.1288*v],[l+.13249*v,h+.06*v]]).stream(f),a=i.translate([l+.1*v,h-.094*v]).clipExtent([[l-.1331*v+F,h+.053457*v+F],[l-.0354*v-F,h+.08969*v-F]]).stream(f),c()},s.fitExtent=function(u,v){return dn(s,u,v)},s.fitSize=function(u,v){return xn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v=e([-14.034675,34.965007]),l=e([-7.4208899,35.536988]),h=e([-7.3148275,33.54359]);u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1])},s.getCompositionBorders=function(){var u=mn();return this.drawCompositionBorders(u),u.toString()},s.scale(2700)}function W5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function J5(){var r,n,e=cn().rotate([10,-39.3]).parallels([0,60]),t,i=cn().rotate([17,-32.7]).parallels([0,60]),a,o=cn().rotate([27.8,-38.6]).parallels([0,60]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=.0093&&d<.03678&&p>=-.03875&&p<-.0116?i:d>=-.0412&&d<.0091&&p>=-.07782&&p<-.01166?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=W5([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),o.scale(l*.6),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.0115*h,p-.1138*h],[g+.2105*h,p+.0673*h]]).stream(c),a=i.translate([g-.0265*h,p+.025*h]).clipExtent([[g-.0388*h+F,p+.0093*h+F],[g-.0116*h-F,p+.0368*h-F]]).stream(c),f=o.translate([g-.045*h,p+-.02*h]).clipExtent([[g-.0778*h+F,p-.0413*h+F],[g-.0117*h-F,p+.0091*h-F]]).stream(c),v()},u.fitExtent=function(l,h){return dn(u,l,h)},u.fitSize=function(l,h){return xn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([-12.8351,38.7113]),g=e([-10.8482,38.7633]),p=e([-10.8181,37.2072]),d=e([-12.7345,37.1573]),m=e([-16.0753,41.4436]),y=e([-10.9168,41.6861]),E=e([-10.8557,38.7747]),S=e([-15.6728,38.5505]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(E[0],E[1]),l.lineTo(E[0],E[1]),l.lineTo(S[0],S[1]),l.closePath()},u.getCompositionBorders=function(){var l=mn();return this.drawCompositionBorders(l),l.toString()},u.scale(4200)}function K5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function Q5(){var r,n,e=kr().rotate([80,1.5]),t,i=kr().rotate([90.73,1]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=-.0676&&g<-.026&&h>=-.0857&&h<-.0263?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=K5([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.0262*v,h-.0734*v],[l+.1741*v,h+.079*v]]).stream(f),a=i.translate([l-.06*v,h-.04*v]).clipExtent([[l-.0857*v+F,h-.0676*v+F],[l-.0263*v-F,h-.026*v-F]]).stream(f),c()},s.fitExtent=function(u,v){return dn(s,u,v)},s.fitSize=function(u,v){return xn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v=e([-84.9032,2.3757]),l=e([-81.5047,2.3708]),h=e([-81.5063,-.01]),g=e([-84.9086,-.005]);u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1]),u.closePath()},s.getCompositionBorders=function(){var u=mn();return this.drawCompositionBorders(u),u.toString()},s.scale(3500)}function Z5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function ry(){var r,n,e=z5().rotate([72,37]),t,i=q5().rotate([72,0]),a,o=kr().rotate([80,33.5]),f,s=kr().rotate([110,25]),c,u,v={point:function(g,p){u=[g,p]}};function l(g){var p=g[0],d=g[1];return u=null,t.point(p,d),u||(a.point(p,d),u)||(f.point(p,d),u)||(c.point(p,d),u)}l.invert=function(g){var p=e.scale(),d=e.translate(),m=(g[0]-d[0])/p,y=(g[1]-d[1])/p;return(y>=.2582&&y<.32&&m>=-.1036&&m<-.087?i:y>=-.01298&&y<.0133&&m>=-.11396&&m<-.05944?o:y>=.01539&&y<.03911&&m>=-.089&&m<-.0588?s:e).invert(g)},l.stream=function(g){return r&&n===g?r:r=Z5([e.stream(n=g),i.stream(g),o.stream(g),s.stream(g)])},l.precision=function(g){return arguments.length?(e.precision(g),i.precision(g),o.precision(g),s.precision(g),h()):e.precision()},l.scale=function(g){return arguments.length?(e.scale(g),i.scale(g*.15),o.scale(g*1.5),s.scale(g*1.5),l.translate(e.translate())):e.scale()},l.translate=function(g){if(!arguments.length)return e.translate();var p=e.scale(),d=+g[0],m=+g[1];return t=e.translate(g).clipExtent([[d-.059*p,m-.3835*p],[d+.4498*p,m+.3375*p]]).stream(v),a=i.translate([d-.087*p,m+.17*p]).clipExtent([[d-.1166*p+F,m+.2582*p+F],[d-.06*p-F,m+.32*p-F]]).stream(v),f=o.translate([d-.092*p,m-0*p]).clipExtent([[d-.114*p+F,m-.013*p+F],[d-.0594*p-F,m+.0133*p-F]]).stream(v),c=s.translate([d-.089*p,m-.0265*p]).clipExtent([[d-.089*p+F,m+.0154*p+F],[d-.0588*p-F,m+.0391*p-F]]).stream(v),h()},l.fitExtent=function(g,p){return dn(l,g,p)},l.fitSize=function(g,p){return xn(l,g,p)};function h(){return r=n=null,l}return l.drawCompositionBorders=function(g){var p=e([-82.6999,-51.3043]),d=e([-77.5442,-51.6631]),m=e([-78.0254,-55.186]),y=e([-83.6106,-54.7785]),E=e([-80.0638,-35.984]),S=e([-76.2153,-36.1811]),x=e([-76.2994,-37.6839]),M=e([-80.2231,-37.4757]),D=e([-78.442,-37.706]),k=e([-76.263,-37.8054]),C=e([-76.344,-39.1595]),O=e([-78.5638,-39.0559]);g.moveTo(p[0],p[1]),g.lineTo(d[0],d[1]),g.lineTo(m[0],m[1]),g.lineTo(m[0],m[1]),g.lineTo(y[0],y[1]),g.closePath(),g.moveTo(E[0],E[1]),g.lineTo(S[0],S[1]),g.lineTo(x[0],x[1]),g.lineTo(x[0],x[1]),g.lineTo(M[0],M[1]),g.closePath(),g.moveTo(D[0],D[1]),g.lineTo(k[0],k[1]),g.lineTo(C[0],C[1]),g.lineTo(C[0],C[1]),g.lineTo(O[0],O[1]),g.closePath()},l.getCompositionBorders=function(){var g=mn();return this.drawCompositionBorders(g),g.toString()},l.scale(700)}function ny(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function ey(){var r,n,e=au().rotate([-136,-22]).parallels([40,34]),t,i=au().rotate([-146,-26]).parallels([40,34]),a,o=au().rotate([-126,-19]).parallels([40,34]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=-.10925&&d<-.02701&&p>=-.135&&p<-.0397?i:d>=.04713&&d<.11138&&p>=-.03986&&p<.051?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=ny([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),o.scale(l*.7),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.1352*h,p-.1091*h],[g+.117*h,p+.098*h]]).stream(c),a=i.translate([g-.0425*h,p-.005*h]).clipExtent([[g-.135*h+F,p-.1093*h+F],[g-.0397*h-F,p-.027*h-F]]).stream(c),f=o.translate(l).clipExtent([[g-.0399*h+F,p+.0471*h+F],[g+.051*h-F,p+.1114*h-F]]).stream(c),v()},u.fitExtent=function(l,h){return dn(u,l,h)},u.fitSize=function(l,h){return xn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([126.01320483689143,41.621090310215585]),g=e([133.04304387025903,42.15087523707186]),p=e([133.3021766080688,37.43975444725098]),d=e([126.87889168628224,36.95488945159779]),m=e([132.9,29.8]),y=e([134,33]),E=e([139.3,33.2]),S=e([139.16,30.5]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(E[0],E[1]),l.lineTo(S[0],S[1])},u.getCompositionBorders=function(){var l=mn();return this.drawCompositionBorders(l),l.toString()},u.scale(2200)}function ty(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function iy(){var r,n,e=cn().rotate([-3,-46.2]).parallels([0,60]),t,i=kr().center([-53.2,3.9]),a,o=kr().center([-61.03,14.67]),f,s=kr().center([-61.46,16.14]),c,u=kr().center([-62.85,17.92]),v,l=kr().center([-56.23,46.93]),h,g=kr().center([45.16,-12.8]),p,d=kr().center([55.52,-21.13]),m,y=kr().center([165.8,-21.07]),E,S=kr().center([-178.1,-14.3]),x,M=kr().center([-150.55,-17.11]),D,k=kr().center([-150.55,-17.11]),C,O,L={point:function(_,w){O=[_,w]}};function N(_){var w=_[0],b=_[1];return O=null,t.point(w,b),O||(a.point(w,b),O)||(f.point(w,b),O)||(c.point(w,b),O)||(v.point(w,b),O)||(h.point(w,b),O)||(p.point(w,b),O)||(m.point(w,b),O)||(E.point(w,b),O)||(x.point(w,b),O)||(D.point(w,b),O)||(C.point(w,b),O)}N.invert=function(_){var w=e.scale(),b=e.translate(),P=(_[0]-b[0])/w,I=(_[1]-b[1])/w;return(I>=.029&&I<.0864&&P>=-.14&&P<-.0996?i:I>=0&&I<.029&&P>=-.14&&P<-.0996?o:I>=-.032&&I<0&&P>=-.14&&P<-.0996?s:I>=-.052&&I<-.032&&P>=-.14&&P<-.0996?u:I>=-.076&&I<.052&&P>=-.14&&P<-.0996?l:I>=-.076&&I<-.052&&P>=.0967&&P<.1371?g:I>=-.052&&I<-.02&&P>=.0967&&P<.1371?d:I>=-.02&&I<.012&&P>=.0967&&P<.1371?y:I>=.012&&I<.033&&P>=.0967&&P<.1371?S:I>=.033&&I<.0864&&P>=.0967&&P<.1371?M:e).invert(_)},N.stream=function(_){return r&&n===_?r:r=ty([e.stream(n=_),i.stream(_),o.stream(_),s.stream(_),u.stream(_),l.stream(_),g.stream(_),d.stream(_),y.stream(_),S.stream(_),M.stream(_),k.stream(_)])},N.precision=function(_){return arguments.length?(e.precision(_),i.precision(_),o.precision(_),s.precision(_),u.precision(_),l.precision(_),g.precision(_),d.precision(_),y.precision(_),S.precision(_),M.precision(_),k.precision(_),U()):e.precision()},N.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*.6),o.scale(_*1.6),s.scale(_*1.4),u.scale(_*5),l.scale(_*1.3),g.scale(_*1.6),d.scale(_*1.2),y.scale(_*.3),S.scale(_*2.7),M.scale(_*.5),k.scale(_*.06),N.translate(e.translate())):e.scale()},N.translate=function(_){if(!arguments.length)return e.translate();var w=e.scale(),b=+_[0],P=+_[1];return t=e.translate(_).clipExtent([[b-.0996*w,P-.0908*w],[b+.0967*w,P+.0864*w]]).stream(L),a=i.translate([b-.12*w,P+.0575*w]).clipExtent([[b-.14*w+F,P+.029*w+F],[b-.0996*w-F,P+.0864*w-F]]).stream(L),f=o.translate([b-.12*w,P+.013*w]).clipExtent([[b-.14*w+F,P+0*w+F],[b-.0996*w-F,P+.029*w-F]]).stream(L),c=s.translate([b-.12*w,P-.014*w]).clipExtent([[b-.14*w+F,P-.032*w+F],[b-.0996*w-F,P+0*w-F]]).stream(L),v=u.translate([b-.12*w,P-.044*w]).clipExtent([[b-.14*w+F,P-.052*w+F],[b-.0996*w-F,P-.032*w-F]]).stream(L),h=l.translate([b-.12*w,P-.065*w]).clipExtent([[b-.14*w+F,P-.076*w+F],[b-.0996*w-F,P-.052*w-F]]).stream(L),p=g.translate([b+.117*w,P-.064*w]).clipExtent([[b+.0967*w+F,P-.076*w+F],[b+.1371*w-F,P-.052*w-F]]).stream(L),m=d.translate([b+.116*w,P-.0355*w]).clipExtent([[b+.0967*w+F,P-.052*w+F],[b+.1371*w-F,P-.02*w-F]]).stream(L),E=y.translate([b+.116*w,P-.0048*w]).clipExtent([[b+.0967*w+F,P-.02*w+F],[b+.1371*w-F,P+.012*w-F]]).stream(L),x=S.translate([b+.116*w,P+.022*w]).clipExtent([[b+.0967*w+F,P+.012*w+F],[b+.1371*w-F,P+.033*w-F]]).stream(L),C=k.translate([b+.11*w,P+.045*w]).clipExtent([[b+.0967*w+F,P+.033*w+F],[b+.1371*w-F,P+.06*w-F]]).stream(L),D=M.translate([b+.115*w,P+.075*w]).clipExtent([[b+.0967*w+F,P+.06*w+F],[b+.1371*w-F,P+.0864*w-F]]).stream(L),U()},N.fitExtent=function(_,w){return dn(N,_,w)},N.fitSize=function(_,w){return xn(N,_,w)};function U(){return r=n=null,N}return N.drawCompositionBorders=function(_){var w,b,P,I;w=e([-7.938886725111036,43.7219460918835]),b=e([-4.832080896458295,44.12930268549372]),P=e([-4.205299743793263,40.98096346967365]),I=e([-7.071796453126152,40.610037319181444]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([-8.42751373617692,45.32889452553031]),b=e([-5.18599305777107,45.7566442062976]),P=e([-4.832080905154431,44.129302726751426]),I=e([-7.938886737126192,43.72194613263854]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([-9.012656899657046,47.127733821030176]),b=e([-5.6105244772793155,47.579777861410626]),P=e([-5.185993067168585,45.756644248170346]),I=e([-8.427513749141811,45.32889456686326]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([-9.405747558985553,48.26506375557457]),b=e([-5.896175018439575,48.733352850851624]),P=e([-5.610524487556043,47.57977790393761]),I=e([-9.012656913808351,47.127733862971255]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([-9.908436061346974,49.642448789505856]),b=e([-6.262026716233124,50.131426841787174]),P=e([-5.896175029331232,48.73335289377258]),I=e([-9.40574757396393,48.26506379787767]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([11.996907706504462,50.16039028163579]),b=e([15.649907879773343,49.68279246765253]),P=e([15.156712840526632,48.30371557625831]),I=e([11.64122661754411,48.761078240546816]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([11.641226606955788,48.7610781975889]),b=e([15.156712825832164,48.30371553390465]),P=e([14.549932166241172,46.4866532486199]),I=e([11.204443787952183,46.91899233914248]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([11.204443778297161,46.918992296823646]),b=e([14.549932152815039,46.486653206856396]),P=e([13.994409796764009,44.695833444323256]),I=e([10.805306599253848,45.105133870684924]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([10.805306590412085,45.10513382903308]),b=e([13.99440978444733,44.695833403183606]),P=e([13.654633799024392,43.53552468558152]),I=e([10.561516803980956,43.930671459798624]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([10.561516795617383,43.93067141859757]),b=e([13.654633787361952,43.5355246448671]),P=e([12.867691604239901,40.640701985019405]),I=e([9.997809515987688,41.00288343254471]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([10.8,42.4]),b=e([12.8,42.13]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1])},N.getCompositionBorders=function(){var _=mn();return this.drawCompositionBorders(_),_.toString()},N.scale(2700)}function ay(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function oy(){var r,n,e=cn().rotate([-10,-53]).parallels([0,60]),t,i=kr().center([-61.46,16.14]),a,o=kr().center([-53.2,3.9]),f,s=cn().rotate([27.8,-38.9]).parallels([0,60]),c,u=cn().rotate([25.43,-37.398]).parallels([0,60]),v,l=cn().rotate([31.17,-39.539]).parallels([0,60]),h,g=cn().rotate([17,-32.7]).parallels([0,60]),p,d=cn().rotate([16,-28.5]).parallels([0,60]),m,y=kr().center([-61.03,14.67]),E,S=kr().center([45.16,-12.8]),x,M=kr().center([55.52,-21.13]),D,k=cn().rotate([-14.4,-35.95]).parallels([0,60]),C,O,L={point:function(_,w){O=[_,w]}};function N(_){var w=_[0],b=_[1];return O=null,t.point(w,b),O||(f.point(w,b),O)||(E.point(w,b),O)||(a.point(w,b),O)||(m.point(w,b),O)||(p.point(w,b),O)||(x.point(w,b),O)||(D.point(w,b),O)||(C.point(w,b),O)||(c.point(w,b),O)||(v.point(w,b),O)||(h.point(w,b),O)}N.invert=function(_){var w=e.scale(),b=e.translate(),P=(_[0]-(b[0]+.08*w))/w,I=(_[1]-b[1])/w;return(I>=-.31&&I<-.24&&P>=.14&&P<.24?i:I>=-.24&&I<-.17&&P>=.14&&P<.24?o:I>=-.17&&I<-.12&&P>=.21&&P<.24?u:I>=-.17&&I<-.14&&P>=.14&&P<.165?l:I>=-.17&&I<-.1&&P>=.14&&P<.24?s:I>=-.1&&I<-.03&&P>=.14&&P<.24?g:I>=-.03&&I<.04&&P>=.14&&P<.24?d:I>=-.31&&I<-.24&&P>=.24&&P<.34?y:I>=-.24&&I<-.17&&P>=.24&&P<.34?S:I>=-.17&&I<-.1&&P>=.24&&P<.34?M:I>=-.1&&I<-.03&&P>=.24&&P<.34?k:e).invert(_)},N.stream=function(_){return r&&n===_?r:r=ay([e.stream(n=_),o.stream(_),y.stream(_),i.stream(_),d.stream(_),g.stream(_),S.stream(_),M.stream(_),k.stream(_),s.stream(_),u.stream(_),l.stream(_)])},N.precision=function(_){return arguments.length?(e.precision(_),o.precision(_),y.precision(_),i.precision(_),d.precision(_),g.precision(_),S.precision(_),M.precision(_),k.precision(_),s.precision(_),u.precision(_),l.precision(_),U()):e.precision()},N.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*3),o.scale(_*.8),y.scale(_*3.5),M.scale(_*2.7),s.scale(_*2),u.scale(_*2),l.scale(_*2),g.scale(_*3),d.scale(_),S.scale(_*5.5),k.scale(_*6),N.translate(e.translate())):e.scale()},N.translate=function(_){if(!arguments.length)return e.translate();var w=e.scale(),b=+_[0],P=+_[1];return t=e.translate([b-.08*w,P]).clipExtent([[b-.51*w,P-.33*w],[b+.5*w,P+.33*w]]).stream(L),a=i.translate([b+.19*w,P-.275*w]).clipExtent([[b+.14*w+F,P-.31*w+F],[b+.24*w-F,P-.24*w-F]]).stream(L),f=o.translate([b+.19*w,P-.205*w]).clipExtent([[b+.14*w+F,P-.24*w+F],[b+.24*w-F,P-.17*w-F]]).stream(L),c=s.translate([b+.19*w,P-.135*w]).clipExtent([[b+.14*w+F,P-.17*w+F],[b+.24*w-F,P-.1*w-F]]).stream(L),v=u.translate([b+.225*w,P-.147*w]).clipExtent([[b+.21*w+F,P-.17*w+F],[b+.24*w-F,P-.12*w-F]]).stream(L),h=l.translate([b+.153*w,P-.15*w]).clipExtent([[b+.14*w+F,P-.17*w+F],[b+.165*w-F,P-.14*w-F]]).stream(L),p=g.translate([b+.19*w,P-.065*w]).clipExtent([[b+.14*w+F,P-.1*w+F],[b+.24*w-F,P-.03*w-F]]).stream(L),m=d.translate([b+.19*w,P+.005*w]).clipExtent([[b+.14*w+F,P-.03*w+F],[b+.24*w-F,P+.04*w-F]]).stream(L),E=y.translate([b+.29*w,P-.275*w]).clipExtent([[b+.24*w+F,P-.31*w+F],[b+.34*w-F,P-.24*w-F]]).stream(L),x=S.translate([b+.29*w,P-.205*w]).clipExtent([[b+.24*w+F,P-.24*w+F],[b+.34*w-F,P-.17*w-F]]).stream(L),D=M.translate([b+.29*w,P-.135*w]).clipExtent([[b+.24*w+F,P-.17*w+F],[b+.34*w-F,P-.1*w-F]]).stream(L),C=k.translate([b+.29*w,P-.065*w]).clipExtent([[b+.24*w+F,P-.1*w+F],[b+.34*w-F,P-.03*w-F]]).stream(L),U()},N.fitExtent=function(_,w){return dn(N,_,w)},N.fitSize=function(_,w){return xn(N,_,w)};function U(){return r=n=null,N}return N.drawCompositionBorders=function(_){var w,b,P,I;w=e([42.45755610828648,63.343658547914934]),b=e([52.65837266667029,59.35045080290929]),P=e([47.19754502247785,56.12653496548117]),I=e([37.673034273363044,59.61638268506111]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([59.41110754003403,62.35069727399336]),b=e([66.75050228640794,57.11797303636038]),P=e([60.236065725110436,54.63331433818992]),I=e([52.65837313153311,59.350450804599355]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([48.81091130080243,66.93353402634641]),b=e([59.41110730654679,62.35069740653086]),P=e([52.6583728974441,59.3504509222445]),I=e([42.45755631675751,63.34365868805821]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([31.054198418446475,52.1080673766184]),b=e([39.09869284884117,49.400700047190554]),P=e([36.0580811499175,46.02944174908498]),I=e([28.690508588835726,48.433126979386415]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([33.977877745912025,55.849945501331]),b=e([42.75328432167726,52.78455122462353]),P=e([39.09869297540224,49.400700176148625]),I=e([31.05419851807008,52.10806751810923]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([52.658372900759296,59.35045068526415]),b=e([60.23606549583304,54.63331423800264]),P=e([54.6756370953122,51.892298789399455]),I=e([47.19754524788189,56.126534861222794]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([47.19754506082455,56.126534735591456]),b=e([54.675636900123514,51.892298681337095]),P=e([49.94448648951486,48.98775484983285]),I=e([42.75328468716108,52.78455126060818]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([42.75328453416769,52.78455113209101]),b=e([49.94448632339758,48.98775473706457]),P=e([45.912339990394315,45.99361784987003]),I=e([39.09869317356607,49.40070009378711]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([37.673034114296634,59.61638254183119]),b=e([47.197544835420544,56.126534839849846]),P=e([42.75328447467064,52.78455135314068]),I=e([33.977877870363905,55.849945644671145]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([44.56748486446032,57.26489367845818]),P=e([43.9335791193588,53.746540942601726]),I=e([43,56]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),w=e([37.673034114296634,59.61638254183119]),b=e([40.25902691953466,58.83002044222639]),P=e([38.458270492742024,57.26232178028002]),I=e([35.97754948030156,58.00266637992386]),_.moveTo(w[0],w[1]),_.lineTo(b[0],b[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath()},N.getCompositionBorders=function(){var _=mn();return this.drawCompositionBorders(_),_.toString()},N.scale(750)}function uy(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function ly(){var r,n,e=cn().rotate([-5.5,-52.2]).parallels([0,60]),t,i=kr().center([-68.25,12.2]),a,o=kr().center([-63.1,17.5]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){const[h,g]=l;return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=-.0067&&d<.0015&&p>=-.0232&&p<-.0154?i:d>=-.022&&d<-.014&&p>=-.023&&p<-.014?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=uy([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();const h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.0245*h,p-.026*h],[g+.023*h,p+.026*h]]).stream(c),a=i.translate([g-.0186*h,p-.00325*h]).clipExtent([[g-.0232*h+F,p-.0067*h+F],[g-.0154*h-F,p+.0015*h-F]]).stream(c),f=o.translate([g-.0185*h,p-.017*h]).clipExtent([[g-.023*h+F,p-.022*h+F],[g-.014*h-F,p-.014*h-F]]).stream(c),v()},u.fitExtent=function(l,h){return dn(u,l,h)},u.fitSize=function(l,h){return xn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([3.30573,52.5562]),g=e([4.043,52.572]),p=e([4.0646,52.1017]),d=e([3.3382,52.0861]),m=e([3.262,53.439]),y=e([4.1373,53.4571]),E=e([4.1574,52.9946]),S=e([3.2951,52.9768]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(E[0],E[1]),l.lineTo(E[0],E[1]),l.lineTo(S[0],S[1]),l.closePath()},u.getCompositionBorders=function(){var l=mn();return this.drawCompositionBorders(l),l.toString()},u.scale(4200)}function sy(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function fy(){var r,n,e=kr().center([105.25,4]),t,i=kr().center([118.65,2.86]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=-.0521&&g<.0229&&h>=-.0111&&h<.1?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=sy([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u*.615),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.11*v,h-.0521*v],[l-.0111*v,h+.0521*v]]).stream(f),a=i.translate([l+.09*v,h-0*v]).clipExtent([[l-.0111*v+F,h-.0521*v+F],[l+.1*v-F,h+.024*v-F]]).stream(f),c()},s.fitExtent=function(u,v){return dn(s,u,v)},s.fitSize=function(u,v){return xn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v=e([106.3214,2.0228]),l=e([105.1843,2.3761]),h=e([104.2151,3.3618]),g=e([104.215,4.5651]);u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1])},s.getCompositionBorders=function(){var u=mn();return this.drawCompositionBorders(u),u.toString()},s.scale(4800)}function cy(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function vy(){var r,n,e=kr().rotate([-9.5,-1.5]),t,i=kr().rotate([-8.6,-3.5]),a,o=kr().rotate([-5.6,1.45]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=-.02&&d<0&&p>=-.038&&p<-.005?i:d>=0&&d<.02&&p>=-.038&&p<-.005?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=cy([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*1.5),o.scale(l*4),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.005*h,p-.02*h],[g+.038*h,p+.02*h]]).stream(c),a=i.translate([g-.025*h,p-.01*h]).clipExtent([[g-.038*h+F,p-.02*h+F],[g-.005*h-F,p+0*h-F]]).stream(c),f=o.translate([g-.025*h,p+.01*h]).clipExtent([[g-.038*h+F,p-0*h+F],[g-.005*h-F,p+.02*h-F]]).stream(c),v()},u.fitExtent=function(l,h){return dn(u,l,h)},u.fitSize=function(l,h){return xn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h,g,p,d;h=e([9.21327272751682,2.645820439454123]),g=e([11.679126293239872,2.644755519268689]),p=e([11.676845389029227,.35307824637606433]),d=e([9.213572917774014,.35414205204417754]),l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),h=e([7.320873711543669,2.64475551449975]),g=e([9.213272722738658,2.645820434679803]),p=e([9.213422896480349,1.4999812505283054]),d=e([7.322014760520787,1.4989168878985566]),l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),h=e([7.3220147605302905,1.4989168783492766]),g=e([9.213422896481598,1.499981240979021]),p=e([9.213572912999604,.354142056817247]),d=e([7.323154615739809,.353078251154504]),l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath()},u.getCompositionBorders=function(){var l=mn();return this.drawCompositionBorders(l),l.toString()},u.scale(12e3)}function hy(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function gy(){var r,n,e=Wa().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),t,i=Wa().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=-.089&&g<.06&&h>=.029&&h<.046?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=hy([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.065*v,h-.089*v],[l+.075*v,h+.089*v]]).stream(f),a=i.translate([l+.01*v,h+.025*v]).clipExtent([[l+.029*v+F,h-.089*v+F],[l+.046*v-F,h-.06*v-F]]).stream(f),c()},s.fitExtent=function(u,v){return dn(s,u,v)},s.fitSize=function(u,v){return xn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v,l,h,g;v=e([-1.113205870242365,59.64920050773357]),l=e([.807899092399606,59.59085836472269]),h=e([.5778611961420386,57.93467822832577]),g=e([-1.25867782078448,57.99029450085142]),u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1]),u.closePath()},s.getCompositionBorders=function(){var u=mn();return this.drawCompositionBorders(u),u.toString()},s.scale(2800)}var py=Object.freeze(Object.defineProperty({__proto__:null,geoAlbersUsa:V5,geoAlbersUsaTerritories:j5,geoConicConformalSpain:X5,geoConicConformalPortugal:J5,geoMercatorEcuador:Q5,geoTransverseMercatorChile:ry,geoConicEquidistantJapan:ey,geoConicConformalFrance:iy,geoConicConformalEurope:oy,geoConicConformalNetherlands:ly,geoMercatorMalaysia:fy,geoMercatorEquatorialGuinea:vy,geoAlbersUk:gy},Symbol.toStringTag,{value:"Module"})),dy=Wn(py);Object.defineProperty(To,"__esModule",{value:!0});var rf=dr,Wc=or,ou=rf.__importStar(di),uu=rf.__importStar(Xv),lu=rf.__importStar(dy);To.default=function(r,n){if(n===void 0&&(n=!1),Wc.isFunction(r))return n?r:r();if(Wc.isString(r)){if(ou[r])return n?ou[r]:ou[r]();if(uu[r])return n?uu[r]:uu[r]();if(lu[r])return n?lu[r]:lu[r]()}return null};var my=dr,yy=or,Kn=di,Jc=Xv,wy=$e,Pt=my.__importDefault(To),Ey={geoArea:function(r){return Kn.geoArea(r)},geoAreaByName:function(r){return Kn.geoArea(this.geoFeatureByName(r))},geoCentroid:function(r){return Kn.geoCentroid(r)},geoCentroidByName:function(r){return Kn.geoCentroid(this.geoFeatureByName(r))},geoDistance:function(r,n){return Kn.geoDistance(r,n)},geoLength:function(r){return Kn.geoLength(r)},geoLengthByName:function(r){return Kn.geoLength(this.geoFeatureByName(r))},geoContains:function(r,n){return Kn.geoContains(r,n)},geoFeatureByName:function(r){var n=this.rows,e;return n.some(function(t){return t.name===r?(e=t,!0):!1}),e},geoFeatureByPosition:function(r){var n=this.rows,e;return n.some(function(t){return Kn.geoContains(t,r)?(e=t,!0):!1}),e},geoNameByPosition:function(r){var n=this.geoFeatureByPosition(r);if(n)return n.name},getGeoProjection:Pt.default,geoProject:function(r,n,e){return n=Pt.default(n,e),Jc.geoProject(r,n)},geoProjectByName:function(r,n,e){return n=Pt.default(n,e),Jc.geoProject(this.geoFeatureByName(r),n)},geoProjectPosition:function(r,n,e){var t=Pt.default(n,e);return t(r)},geoProjectInvert:function(r,n,e){var t=Pt.default(n,e);return t.invert(r)}};yy.assign(wy.View.prototype,Ey);var lh=or,_l=$e;lh.assign(_l.View.prototype,{getAllNodes:function(){var r=[],n=this.root;return n&&n.each?n.each(function(e){r.push(e)}):n&&n.eachNode&&n.eachNode(function(e){r.push(e)}),r},getAllLinks:function(){for(var r=[],n=[this.root],e;e=n.pop();){var t=e.children;t&&t.forEach(function(i){r.push({source:e,target:i}),n.push(i)})}return r}});lh.assign(_l.View.prototype,{getAllEdges:_l.View.prototype.getAllLinks});var $n={},nf={};Object.defineProperty(nf,"__esModule",{value:!0});var su=or;function Sy(r,n){n===void 0&&(n=[]);var e=void 0;return su.isFunction(n)?e=n:su.isArray(n)?e=function(t,i){for(var a=0;a<n.length;a++){var o=n[a];if(t[o]<i[o])return-1;if(t[o]>i[o])return 1}return 0}:su.isString(n)&&(e=function(t,i){return t[n]<i[n]?-1:t[n]>i[n]?1:0}),r.sort(e)}nf.default=Sy;Object.defineProperty($n,"__esModule",{value:!0});var _y=dr,Bi=or,Ty=_y.__importDefault(nf);$n.default=function(r,n,e){e===void 0&&(e=[]);var t=r;e&&e.length&&(t=Ty.default(r,e));var i;Bi.isFunction(n)?i=n:Bi.isArray(n)?i=function(o){return"_"+n.map(function(f){return o[f]}).join("-")}:Bi.isString(n)&&(i=function(o){return"_"+o[n]});var a=Bi.groupBy(t,i);return a};var xy=dr,Kc=or,$y=xy.__importDefault($n),My=$e;Kc.assign(My.View.prototype,{partition:function(r,n){return n===void 0&&(n=[]),$y.default(this.rows,r,n)},group:function(r,n){n===void 0&&(n=[]);var e=this.partition(r,n);return Kc.values(e)},groups:function(r,n){return n===void 0&&(n=[]),this.group(r,n)}});var Fn={exports:{}};(function(r,n){(function(e,t){t(n)})(lo,function(e){function t(T){if(T.length===0)return 0;for(var $,R=T[0],A=0,G=1;G<T.length;G++)$=R+T[G],Math.abs(R)>=Math.abs(T[G])?A+=R-$+T[G]:A+=T[G]-$+R,R=$;return R+A}function i(T){if(T.length===0)throw new Error("mean requires at least one data point");return t(T)/T.length}function a(T,$){var R,A,G=i(T),j=0;if($===2)for(A=0;A<T.length;A++)j+=(R=T[A]-G)*R;else for(A=0;A<T.length;A++)j+=Math.pow(T[A]-G,$);return j}function o(T){if(T.length===0)throw new Error("variance requires at least one data point");return a(T,2)/T.length}function f(T){if(T.length===1)return 0;var $=o(T);return Math.sqrt($)}function s(T){if(T.length===0)throw new Error("mode requires at least one data point");if(T.length===1)return T[0];for(var $=T[0],R=NaN,A=0,G=1,j=1;j<T.length+1;j++)T[j]!==$?(A<G&&(A=G,R=$),G=1,$=T[j]):G++;return R}function c(T){return T.slice().sort(function($,R){return $-R})}function u(T){if(T.length===0)throw new Error("min requires at least one data point");for(var $=T[0],R=1;R<T.length;R++)T[R]<$&&($=T[R]);return $}function v(T){if(T.length===0)throw new Error("max requires at least one data point");for(var $=T[0],R=1;R<T.length;R++)T[R]>$&&($=T[R]);return $}function l(T,$){var R=T.length*$;if(T.length===0)throw new Error("quantile requires at least one data point.");if($<0||1<$)throw new Error("quantiles must be between 0 and 1");return $===1?T[T.length-1]:$===0?T[0]:R%1!=0?T[Math.ceil(R)-1]:T.length%2==0?(T[R-1]+T[R])/2:T[R]}function h(T,$,R,A){for(R=R||0,A=A||T.length-1;R<A;){if(600<A-R){var G=A-R+1,j=$-R+1,J=Math.log(G),W=.5*Math.exp(2*J/3),K=.5*Math.sqrt(J*W*(G-W)/G);j-G/2<0&&(K*=-1),h(T,$,Math.max(R,Math.floor($-j*W/G+K)),Math.min(A,Math.floor($+(G-j)*W/G+K)))}var fr=T[$],Lr=R,Rr=A;for(g(T,R,$),T[A]>fr&&g(T,R,A);Lr<Rr;){for(g(T,Lr,Rr),Lr++,Rr--;T[Lr]<fr;)Lr++;for(;T[Rr]>fr;)Rr--}T[R]===fr?g(T,R,Rr):g(T,++Rr,A),Rr<=$&&(R=Rr+1),$<=Rr&&(A=Rr-1)}}function g(T,$,R){var A=T[$];T[$]=T[R],T[R]=A}function p(T,$){var R=T.slice();if(Array.isArray($)){(function(j,J){for(var W=[0],K=0;K<J.length;K++)W.push(y(j.length,J[K]));W.push(j.length-1),W.sort(m);for(var fr=[0,W.length-1];fr.length;){var Lr=Math.ceil(fr.pop()),Rr=Math.floor(fr.pop());if(!(Lr-Rr<=1)){var Hr=Math.floor((Rr+Lr)/2);d(j,W[Hr],W[Rr],W[Lr]),fr.push(Rr,Hr,Hr,Lr)}}})(R,$);for(var A=[],G=0;G<$.length;G++)A[G]=l(R,$[G]);return A}return d(R,y(R.length,$),0,R.length-1),l(R,$)}function d(T,$,R,A){$%1==0?h(T,$,R,A):(h(T,$=Math.floor($),R,A),h(T,$+1,$+1,A))}function m(T,$){return T-$}function y(T,$){var R=T*$;return $===1?T-1:$===0?0:R%1!=0?Math.ceil(R)-1:T%2==0?R-.5:R}function E(T,$){if($<T[0])return 0;if($>T[T.length-1])return 1;var R=function(j,J){for(var W=0,K=0,fr=j.length;K<fr;)J<=j[W=K+fr>>>1]?fr=W:K=-~W;return K}(T,$);if(T[R]!==$)return R/T.length;R++;var A=function(j,J){for(var W=0,K=0,fr=j.length;K<fr;)J>=j[W=K+fr>>>1]?K=-~W:fr=W;return K}(T,$);if(A===R)return R/T.length;var G=A-R+1;return G*(A+R)/2/G/T.length}function S(T){var $=p(T,.75),R=p(T,.25);if(typeof $=="number"&&typeof R=="number")return $-R}function x(T){return+p(T,.5)}function M(T){for(var $=x(T),R=[],A=0;A<T.length;A++)R.push(Math.abs(T[A]-$));return x(R)}function D(T,$){$=$||Math.random;for(var R,A,G=T.length;0<G;)A=Math.floor($()*G--),R=T[G],T[G]=T[A],T[A]=R;return T}function k(T,$){return D(T.slice().slice(),$)}function C(T){for(var $,R=0,A=0;A<T.length;A++)A!==0&&T[A]===$||($=T[A],R++);return R}function O(T,$){for(var R=[],A=0;A<T;A++){for(var G=[],j=0;j<$;j++)G.push(0);R.push(G)}return R}function L(T,$,R,A){var G;if(0<T){var j=(R[$]-R[T-1])/($-T+1);G=A[$]-A[T-1]-($-T+1)*j*j}else G=A[$]-R[$]*R[$]/($+1);return G<0?0:G}function N(T,$,R,A,G,j,J){if(!($<T)){var W=Math.floor((T+$)/2);A[R][W]=A[R-1][W-1],G[R][W]=W;var K=R;R<T&&(K=Math.max(K,G[R][T-1]||0)),K=Math.max(K,G[R-1][W]||0);var fr,Lr,Rr,Hr=W-1;$<A.length-1&&(Hr=Math.min(Hr,G[R][$+1]||0));for(var zn=Hr;K<=zn&&!((fr=L(zn,W,j,J))+A[R-1][K-1]>=A[R][W]);--zn)(Lr=L(K,W,j,J)+A[R-1][K-1])<A[R][W]&&(A[R][W]=Lr,G[R][W]=K),K++,(Rr=fr+A[R-1][zn-1])<A[R][W]&&(A[R][W]=Rr,G[R][W]=zn);N(T,W-1,R,A,G,j,J),N(W+1,$,R,A,G,j,J)}}function U(T,$){if(T.length!==$.length)throw new Error("sampleCovariance requires samples with equal lengths");if(T.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var R=i(T),A=i($),G=0,j=0;j<T.length;j++)G+=(T[j]-R)*($[j]-A);return G/(T.length-1)}function _(T){if(T.length<2)throw new Error("sampleVariance requires at least two data points");return a(T,2)/(T.length-1)}function w(T){var $=_(T);return Math.sqrt($)}function b(T,$,R,A){return(T*$+R*A)/($+A)}function P(T){if(T.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var $=0,R=0;R<T.length;R++)$+=Math.pow(T[R],2);return Math.sqrt($/T.length)}function I(){this.totalCount=0,this.data={}}function rr(){this.weights=[],this.bias=0}I.prototype.train=function(T,$){for(var R in this.data[$]||(this.data[$]={}),T){var A=T[R];this.data[$][R]===void 0&&(this.data[$][R]={}),this.data[$][R][A]===void 0&&(this.data[$][R][A]=0),this.data[$][R][A]++}this.totalCount++},I.prototype.score=function(T){var $,R={};for(var A in T){var G=T[A];for($ in this.data)R[$]={},this.data[$][A]?R[$][A+"_"+G]=(this.data[$][A][G]||0)/this.totalCount:R[$][A+"_"+G]=0}var j={};for($ in R)for(var J in j[$]=0,R[$])j[$]+=R[$][J];return j},rr.prototype.predict=function(T){if(T.length!==this.weights.length)return null;for(var $=0,R=0;R<this.weights.length;R++)$+=this.weights[R]*T[R];return 0<($+=this.bias)?1:0},rr.prototype.train=function(T,$){if($!==0&&$!==1)return null;T.length!==this.weights.length&&(this.weights=T,this.bias=1);var R=this.predict(T);if(R!==$){for(var A=$-R,G=0;G<this.weights.length;G++)this.weights[G]+=A*T[G];this.bias+=A}return this};var gr=1e-4;function ur(T){if(T<0)throw new Error("factorial requires a non-negative value");if(Math.floor(T)!==T)throw new Error("factorial requires an integer input");for(var $=1,R=2;R<=T;R++)$*=R;return $}var pr=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],br=Math.log(Math.sqrt(2*Math.PI)),Vr={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},Wr=Math.sqrt(2*Math.PI),Me={gaussian:function(T){return Math.exp(-.5*T*T)/Wr}},Oo={nrd:function(T){var $=w(T),R=S(T);return typeof R=="number"&&($=Math.min($,R/1.34)),1.06*$*Math.pow(T.length,-.2)}};function Lf(T,$,R){var A,G;if($===void 0)A=Me.gaussian;else if(typeof $=="string"){if(!Me[$])throw new Error('Unknown kernel "'+$+'"');A=Me[$]}else A=$;if(R===void 0)G=Oo.nrd(T);else if(typeof R=="string"){if(!Oo[R])throw new Error('Unknown bandwidth method "'+R+'"');G=Oo[R](T)}else G=R;return function(j){var J=0,W=0;for(J=0;J<T.length;J++)W+=A((j-T[J])/G);return W/G/T.length}}var up=Math.sqrt(2*Math.PI);function lp(T){for(var $=T,R=T,A=1;A<15;A++)$+=R*=T*T/(2*A+1);return Math.round(1e4*(.5+$/up*Math.exp(-T*T/2)))/1e4}for(var xt=[],Fo=0;Fo<=3.09;Fo+=.01)xt.push(lp(Fo));function If(T){var $=1/(1+.5*Math.abs(T)),R=$*Math.exp(-Math.pow(T,2)-1.26551223+1.00002368*$+.37409196*Math.pow($,2)+.09678418*Math.pow($,3)-.18628806*Math.pow($,4)+.27886807*Math.pow($,5)-1.13520398*Math.pow($,6)+1.48851587*Math.pow($,7)-.82215223*Math.pow($,8)+.17087277*Math.pow($,9));return 0<=T?1-R:R-1}function Of(T){var $=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),R=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*$)+Math.log(1-T*T)/2,2)-Math.log(1-T*T)/$)-(2/(Math.PI*$)+Math.log(1-T*T)/2));return 0<=T?R:-R}function qo(T){if(typeof T=="number")return T<0?-1:T===0?0:1;throw new TypeError("not a number")}e.linearRegression=function(T){var $,R,A=T.length;if(A===1)R=T[$=0][1];else{for(var G,j,J,W=0,K=0,fr=0,Lr=0,Rr=0;Rr<A;Rr++)W+=j=(G=T[Rr])[0],K+=J=G[1],fr+=j*j,Lr+=j*J;R=K/A-($=(A*Lr-W*K)/(A*fr-W*W))*W/A}return{m:$,b:R}},e.linearRegressionLine=function(T){return function($){return T.b+T.m*$}},e.standardDeviation=f,e.rSquared=function(T,$){if(T.length<2)return 1;for(var R,A=0,G=0;G<T.length;G++)A+=T[G][1];R=A/T.length;for(var j=0,J=0;J<T.length;J++)j+=Math.pow(R-T[J][1],2);for(var W=0,K=0;K<T.length;K++)W+=Math.pow(T[K][1]-$(T[K][0]),2);return 1-W/j},e.mode=function(T){return s(c(T))},e.modeFast=function(T){for(var $,R=new Map,A=0,G=0;G<T.length;G++){var j=R.get(T[G]);j===void 0?j=1:j++,A<j&&($=T[G],A=j),R.set(T[G],j)}if(A===0)throw new Error("mode requires at last one data point");return $},e.modeSorted=s,e.min=u,e.max=v,e.extent=function(T){if(T.length===0)throw new Error("extent requires at least one data point");for(var $=T[0],R=T[0],A=1;A<T.length;A++)T[A]>R&&(R=T[A]),T[A]<$&&($=T[A]);return[$,R]},e.minSorted=function(T){return T[0]},e.maxSorted=function(T){return T[T.length-1]},e.extentSorted=function(T){return[T[0],T[T.length-1]]},e.sum=t,e.sumSimple=function(T){for(var $=0,R=0;R<T.length;R++)$+=T[R];return $},e.product=function(T){for(var $=1,R=0;R<T.length;R++)$*=T[R];return $},e.quantile=p,e.quantileSorted=l,e.quantileRank=function(T,$){return E(c(T),$)},e.quantileRankSorted=E,e.interquartileRange=S,e.iqr=S,e.medianAbsoluteDeviation=M,e.mad=M,e.chunk=function(T,$){var R=[];if($<1)throw new Error("chunk size must be a positive number");if(Math.floor($)!==$)throw new Error("chunk size must be an integer");for(var A=0;A<T.length;A+=$)R.push(T.slice(A,A+$));return R},e.sampleWithReplacement=function(T,$,R){if(T.length===0)return[];R=R||Math.random;for(var A=T.length,G=[],j=0;j<$;j++){var J=Math.floor(R()*A);G.push(T[J])}return G},e.shuffle=k,e.shuffleInPlace=D,e.sample=function(T,$,R){return k(T,R).slice(0,$)},e.ckmeans=function(T,$){if($>T.length)throw new Error("cannot generate more classes than there are data values");var R=c(T);if(C(R)===1)return[R];var A=O($,R.length),G=O($,R.length);(function(fr,Lr,Rr){for(var Hr,zn=Lr[0].length,sp=fr[Math.floor(zn/2)],$t=[],Mt=[],Jn=0;Jn<zn;++Jn)Hr=fr[Jn]-sp,Jn===0?($t.push(Hr),Mt.push(Hr*Hr)):($t.push($t[Jn-1]+Hr),Mt.push(Mt[Jn-1]+Hr*Hr)),Lr[0][Jn]=L(0,Jn,$t,Mt),Rr[0][Jn]=0;for(var bt=1;bt<Lr.length;++bt)N(bt<Lr.length-1?bt:zn-1,zn-1,bt,Lr,Rr,$t,Mt)})(R,A,G);for(var j=[],J=G[0].length-1,W=G.length-1;0<=W;W--){var K=G[W][J];j[W]=R.slice(K,J+1),0<W&&(J=K-1)}return j},e.uniqueCountSorted=C,e.sumNthPowerDeviations=a,e.equalIntervalBreaks=function(T,$){if(T.length<2)return T;for(var R=u(T),A=v(T),G=[R],j=(A-R)/$,J=1;J<$;J++)G.push(G[0]+j*J);return G.push(A),G},e.sampleCovariance=U,e.sampleCorrelation=function(T,$){return U(T,$)/w(T)/w($)},e.sampleVariance=_,e.sampleStandardDeviation=w,e.sampleSkewness=function(T){if(T.length<3)throw new Error("sampleSkewness requires at least three data points");for(var $,R=i(T),A=0,G=0,j=0;j<T.length;j++)A+=($=T[j]-R)*$,G+=$*$*$;var J=T.length-1,W=Math.sqrt(A/J),K=T.length;return K*G/((K-1)*(K-2)*Math.pow(W,3))},e.sampleKurtosis=function(T){var $=T.length;if($<4)throw new Error("sampleKurtosis requires at least four data points");for(var R,A=i(T),G=0,j=0,J=0;J<$;J++)G+=(R=T[J]-A)*R,j+=R*R*R*R;return($-1)/(($-2)*($-3))*($*($+1)*j/(G*G)-3*($-1))},e.permutationsHeap=function(T){for(var $=new Array(T.length),R=[T.slice()],A=0;A<T.length;A++)$[A]=0;for(A=0;A<T.length;)if($[A]<A){var G=0;A%2!=0&&(G=$[A]);var j=T[G];T[G]=T[A],T[A]=j,R.push(T.slice()),$[A]++,A=0}else $[A]=0,A++;return R},e.combinations=function T($,R){var A,G,j,J,W=[];for(A=0;A<$.length;A++)if(R===1)W.push([$[A]]);else for(j=T($.slice(A+1,$.length),R-1),G=0;G<j.length;G++)(J=j[G]).unshift($[A]),W.push(J);return W},e.combinationsReplacement=function T($,R){for(var A=[],G=0;G<$.length;G++)if(R===1)A.push([$[G]]);else for(var j=T($.slice(G,$.length),R-1),J=0;J<j.length;J++)A.push([$[G]].concat(j[J]));return A},e.addToMean=function(T,$,R){return T+(R-T)/($+1)},e.combineMeans=b,e.combineVariances=function(T,$,R,A,G,j){var J=b($,R,G,j);return(R*(T+Math.pow($-J,2))+j*(A+Math.pow(G-J,2)))/(R+j)},e.geometricMean=function(T){if(T.length===0)throw new Error("geometricMean requires at least one data point");for(var $=1,R=0;R<T.length;R++){if(T[R]<=0)throw new Error("geometricMean requires only positive numbers as input");$*=T[R]}return Math.pow($,1/T.length)},e.harmonicMean=function(T){if(T.length===0)throw new Error("harmonicMean requires at least one data point");for(var $=0,R=0;R<T.length;R++){if(T[R]<=0)throw new Error("harmonicMean requires only positive numbers as input");$+=1/T[R]}return T.length/$},e.average=i,e.mean=i,e.median=x,e.medianSorted=function(T){return l(T,.5)},e.subtractFromMean=function(T,$,R){return(T*$-R)/($-1)},e.rootMeanSquare=P,e.rms=P,e.variance=o,e.tTest=function(T,$){return(i(T)-$)/(f(T)/Math.sqrt(T.length))},e.tTestTwoSample=function(T,$,R){var A=T.length,G=$.length;if(!A||!G)return null;R||(R=0);var j=i(T),J=i($),W=_(T),K=_($);if(typeof j=="number"&&typeof J=="number"&&typeof W=="number"&&typeof K=="number"){var fr=((A-1)*W+(G-1)*K)/(A+G-2);return(j-J-R)/Math.sqrt(fr*(1/A+1/G))}},e.BayesianClassifier=I,e.bayesian=I,e.PerceptronModel=rr,e.perceptron=rr,e.epsilon=gr,e.factorial=ur,e.gamma=function T($){if(typeof(R=$)=="number"&&isFinite(R)&&Math.floor(R)===R)return $<=0?NaN:ur($-1);var R;if(--$<0)return Math.PI/(Math.sin(Math.PI*-$)*T(-$));var A=$+.25;return Math.pow($/Math.E,$)*Math.sqrt(2*Math.PI*($+1/6))*(1+1/144/Math.pow(A,2)-1/12960/Math.pow(A,3)-257/207360/Math.pow(A,4)-52/2612736/Math.pow(A,5)+5741173/9405849600/Math.pow(A,6)+37529/18811699200/Math.pow(A,7))},e.gammaln=function(T){if(T<=0)return 1/0;T--;for(var $=pr[0],R=1;R<15;R++)$+=pr[R]/(T+R);var A=5.2421875+T;return br+Math.log($)-A+(T+.5)*Math.log(A)},e.bernoulliDistribution=function(T){if(T<0||1<T)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-T,T]},e.binomialDistribution=function(T,$){if(!($<0||1<$||T<=0||T%1!=0)){for(var R=0,A=0,G=[],j=1;G[R]=j*Math.pow($,R)*Math.pow(1-$,T-R),A+=G[R],j=j*(T-++R+1)/R,A<1-gr;);return G}},e.poissonDistribution=function(T){if(!(T<=0)){for(var $=0,R=0,A=[],G=1;A[$]=Math.exp(-T)*Math.pow(T,$)/G,R+=A[$],G*=++$,R<1-gr;);return A}},e.chiSquaredDistributionTable=Vr,e.chiSquaredGoodnessOfFit=function(T,$,R){for(var A,G,j=0,J=$(i(T)),W=[],K=[],fr=0;fr<T.length;fr++)W[T[fr]]===void 0&&(W[T[fr]]=0),W[T[fr]]++;for(fr=0;fr<W.length;fr++)W[fr]===void 0&&(W[fr]=0);for(G in J)G in W&&(K[+G]=J[G]*T.length);for(G=K.length-1;0<=G;G--)K[G]<3&&(K[G-1]+=K[G],K.pop(),W[G-1]+=W[G],W.pop());for(G=0;G<W.length;G++)j+=Math.pow(W[G]-K[G],2)/K[G];return A=W.length-1-1,Vr[A][R]<j},e.kernelDensityEstimation=Lf,e.kde=Lf,e.zScore=function(T,$,R){return(T-$)/R},e.cumulativeStdNormalProbability=function(T){var $=Math.abs(T),R=Math.min(Math.round(100*$),xt.length-1);return 0<=T?xt[R]:+(1-xt[R]).toFixed(4)},e.standardNormalTable=xt,e.errorFunction=If,e.erf=If,e.inverseErrorFunction=Of,e.probit=function(T){return T===0?T=gr:1<=T&&(T=1-gr),Math.sqrt(2)*Of(2*T-1)},e.permutationTest=function(T,$,R,A){if(A===void 0&&(A=1e4),R===void 0&&(R="two_side"),R!=="two_side"&&R!=="greater"&&R!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var G=i(T)-i($),j=new Array(A),J=T.concat($),W=Math.floor(J.length/2),K=0;K<A;K++){D(J);var fr=J.slice(0,W),Lr=J.slice(W,J.length),Rr=i(fr)-i(Lr);j[K]=Rr}var Hr=0;if(R==="two_side")for(K=0;K<=A;K++)Math.abs(j[K])>=Math.abs(G)&&(Hr+=1);else if(R==="greater")for(K=0;K<=A;K++)j[K]>=G&&(Hr+=1);else for(K=0;K<=A;K++)j[K]<=G&&(Hr+=1);return Hr/A},e.bisect=function(T,$,R,A,G){if(typeof T!="function")throw new TypeError("func must be a function");for(var j=0;j<A;j++){var J=($+R)/2;if(T(J)===0||Math.abs((R-$)/2)<G)return J;qo(T(J))===qo(T($))?$=J:R=J}throw new Error("maximum number of iterations exceeded")},e.quickselect=h,e.sign=qo,e.numericSort=c,Object.defineProperty(e,"__esModule",{value:!0})})})(Fn,Fn.exports);var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.default=function(r){for(var n=1/r,e=[],t=0;t<=1;t=t+n)e.push(t);return e};var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]};var ef=dr,sh=ef.__importStar(Fn.exports),ua=or,Tl=$e,by=ef.__importDefault($o),Py=ef.__importDefault(Mo),Ry=Py.default.STATISTICS_METHODS;function xl(r,n){var e=r.getColumn(n);return ua.isArray(e)&&ua.isArray(e[0])&&(e=ua.flattenDeep(e)),e}Ry.forEach(function(r){Tl.View.prototype[r]=function(n){return sh[r](xl(this,n))}});var Qc=sh.quantile;ua.assign(Tl.View.prototype,{average:Tl.View.prototype.mean,quantile:function(r,n){return Qc(xl(this,r),n)},quantiles:function(r,n){var e=xl(this,r);return n.map(function(t){return Qc(e,t)})},quantilesByFraction:function(r,n){return this.quantiles(r,by.default(n))},range:function(r){return[this.min(r),this.max(r)]},extent:function(r){return this.range(r)}});var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.DataSet=void 0;var tf=dr,Ke=or,Ny=tf.__importDefault(Xs.exports),la=$e,fh=tf.__importDefault(Mo),fi=function(r){tf.__extends(n,r);function n(e){e===void 0&&(e={state:{}});var t=r.call(this)||this;return t.isDataSet=!0,t._onChangeTimer=null,t.views={},t.state={},t.state=e.state,t}return n.registerConnector=function(e,t){n.connectors[e]=t},n.getConnector=function(e){return n.connectors[e]||n.connectors.default},n.registerTransform=function(e,t){n.transforms[e]=t},n.getTransform=function(e){return n.transforms[e]||n.transforms.default},n.prototype._getUniqueViewName=function(){for(var e=Ke.uniqueId("view_");this.views[e];)e=Ke.uniqueId("view_");return e},n.prototype.createView=function(e,t){if(Ke.isNil(e)&&(e=this._getUniqueViewName()),Ke.isObject(e)&&(t=e,e=this._getUniqueViewName()),this.views[e])throw new Error("data view exists: "+e);var i=new la.View(this,t);return this.views[e]=i,i},n.prototype.getView=function(e){return this.views[e]},n.prototype.setView=function(e,t){this.views[e]=t},n.prototype.setState=function(e,t){var i=this;this.state[e]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){i.emit("statechange",e,t)},16)},n.CONSTANTS=fh.default,n.connectors={},n.transforms={},n.DataSet=n,n.DataView=la.View,n.View=la.View,n.version="____DATASET_VERSION____",n}(Ny.default);ir.DataSet=fi;Ke.assign(fi,fh.default);Ke.assign(fi.prototype,{view:fi.prototype.createView});la.View.DataSet=fi;var Zc=or,ky=ir;ky.DataSet.registerConnector("default",function(r,n){var e;if(Zc.isString(r)?e=n.getView(r):e=r,!e)throw new TypeError("Invalid dataView");return Zc.deepMix([],e.rows)});var r0={},fu={},cu=34,Rt=10,vu=13;function ch(r){return new Function("d","return {"+r.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Cy(r,n){var e=ch(r);return function(t,i){return n(e(t),i,r)}}function n0(r){var n=Object.create(null),e=[];return r.forEach(function(t){for(var i in t)i in n||e.push(n[i]=i)}),e}function fn(r,n){var e=r+"",t=e.length;return t<n?new Array(n-t+1).join(0)+e:e}function Dy(r){return r<0?"-"+fn(-r,6):r>9999?"+"+fn(r,6):fn(r,4)}function Ay(r){var n=r.getUTCHours(),e=r.getUTCMinutes(),t=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":Dy(r.getUTCFullYear())+"-"+fn(r.getUTCMonth()+1,2)+"-"+fn(r.getUTCDate(),2)+(i?"T"+fn(n,2)+":"+fn(e,2)+":"+fn(t,2)+"."+fn(i,3)+"Z":t?"T"+fn(n,2)+":"+fn(e,2)+":"+fn(t,2)+"Z":e||n?"T"+fn(n,2)+":"+fn(e,2)+"Z":"")}function af(r){var n=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function t(v,l){var h,g,p=i(v,function(d,m){if(h)return h(d,m-1);g=d,h=l?Cy(d,l):ch(d)});return p.columns=g||[],p}function i(v,l){var h=[],g=v.length,p=0,d=0,m,y=g<=0,E=!1;v.charCodeAt(g-1)===Rt&&--g,v.charCodeAt(g-1)===vu&&--g;function S(){if(y)return fu;if(E)return E=!1,r0;var M,D=p,k;if(v.charCodeAt(D)===cu){for(;p++<g&&v.charCodeAt(p)!==cu||v.charCodeAt(++p)===cu;);return(M=p)>=g?y=!0:(k=v.charCodeAt(p++))===Rt?E=!0:k===vu&&(E=!0,v.charCodeAt(p)===Rt&&++p),v.slice(D+1,M-1).replace(/""/g,'"')}for(;p<g;){if((k=v.charCodeAt(M=p++))===Rt)E=!0;else if(k===vu)E=!0,v.charCodeAt(p)===Rt&&++p;else if(k!==e)continue;return v.slice(D,M)}return y=!0,v.slice(D,g)}for(;(m=S())!==fu;){for(var x=[];m!==r0&&m!==fu;)x.push(m),m=S();l&&(x=l(x,d++))==null||h.push(x)}return h}function a(v,l){return v.map(function(h){return l.map(function(g){return u(h[g])}).join(r)})}function o(v,l){return l==null&&(l=n0(v)),[l.map(u).join(r)].concat(a(v,l)).join(`
`)}function f(v,l){return l==null&&(l=n0(v)),a(v,l).join(`
`)}function s(v){return v.map(c).join(`
`)}function c(v){return v.map(u).join(r)}function u(v){return v==null?"":v instanceof Date?Ay(v):n.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:t,parseRows:i,format:o,formatBody:f,formatRows:s,formatRow:c,formatValue:u}}var Ue=af(","),Ly=Ue.parse,Iy=Ue.parseRows,Oy=Ue.format,Fy=Ue.formatBody,qy=Ue.formatRows,zy=Ue.formatRow,By=Ue.formatValue,Ve=af("	"),Gy=Ve.parse,Uy=Ve.parseRows,Vy=Ve.format,Hy=Ve.formatBody,jy=Ve.formatRows,Yy=Ve.formatRow,Xy=Ve.formatValue;function Wy(r){for(var n in r){var e=r[n].trim(),t,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(t=+e))e=t;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Jy&&!!i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;r[n]=e}return r}var Jy=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Ky=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:af,csvParse:Ly,csvParseRows:Iy,csvFormat:Oy,csvFormatBody:Fy,csvFormatRows:qy,csvFormatRow:zy,csvFormatValue:By,tsvParse:Gy,tsvParseRows:Uy,tsvFormat:Vy,tsvFormatBody:Hy,tsvFormatRows:jy,tsvFormatRow:Yy,tsvFormatValue:Xy,autoType:Wy},Symbol.toStringTag,{value:"Module"})),Qy=Wn(Ky),Zy=or,of=Qy,uf=ir;uf.DataSet.registerConnector("dsv",function(r,n){n===void 0&&(n={});var e=n.delimiter||",";if(!Zy.isString(e))throw new TypeError("Invalid delimiter: must be a string!");return of.dsvFormat(e).parse(r)});uf.DataSet.registerConnector("csv",function(r){return of.csvParse(r)});uf.DataSet.registerConnector("tsv",function(r){return of.tsvParse(r)});var vh={};Object.defineProperty(vh,"__esModule",{value:!0});var rw=di,nw=ir;function hh(r,n){n.dataType="geo-graticule";var e=rw.geoGraticule().lines();return e.map(function(t,i){return t.index=""+i,t}),n.rows=e,e}vh.default=hh;nw.DataSet.registerConnector("geo-graticule",hh);var lf={},ew=iw,hu={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},tw=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function iw(r){var n=[];return r.replace(tw,function(e,t,i){var a=t.toLowerCase();for(i=ow(i),a=="m"&&i.length>2&&(n.push([t].concat(i.splice(0,2))),a="l",t=t=="m"?"l":"L");;){if(i.length==hu[a])return i.unshift(t),n.push(i);if(i.length<hu[a])throw new Error("malformed path data");n.push([t].concat(i.splice(0,hu[a])))}}),n}var aw=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function ow(r){var n=r.match(aw);return n?n.map(Number):[]}var uw=Array.isArray||function(r){return Object.prototype.toString.call(r)=="[object Array]"},lw=sw;function sw(r){var n=0,e=0,t=0,i=0;return r.map(function(a){a=a.slice();var o=a[0],f=o.toUpperCase();if(o!=f)switch(a[0]=f,o){case"a":a[6]+=t,a[7]+=i;break;case"v":a[1]+=i;break;case"h":a[1]+=t;break;default:for(var s=1;s<a.length;)a[s++]+=t,a[s++]+=i}switch(f){case"Z":t=n,i=e;break;case"H":t=a[1];break;case"V":i=a[1];break;case"M":t=n=a[1],i=e=a[2];break;default:t=a[a.length-2],i=a[a.length-1]}return a})}var fw=ew,cw=uw,vw=lw,gh=gt;function gt(r){if(!(this instanceof gt))return new gt(r);this._path=cw(r)?r:fw(r),this._path=vw(this._path),this._path=gw(this._path),this._path=hw(this._path)}gt.prototype.at=function(r,n){return this._walk(r,n).pos};gt.prototype.length=function(){return this._walk(null).length};gt.prototype._walk=function(r,n){for(var e=[0,0],t=[0,0,0],i=[0,0],a=0,o=0;o<this._path.length;o++){var f=this._path[o];if(f[0]==="M"){if(e[0]=f[1],e[1]=f[2],r===0)return{length:a,pos:e}}else if(f[0]==="C"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var s=100,c=0;c<=s;c++){var u=c/s,v=p(f,u),l=d(f,u);if(a+=gu(e[0],e[1],v,l),e[0]=v,e[1]=l,typeof r=="number"&&a>=r){var h=(a-r)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(f[0]==="Q"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var s=100,c=0;c<=s;c++){var u=c/s,v=m(f,u),l=y(f,u);if(a+=gu(e[0],e[1],v,l),e[0]=v,e[1]=l,typeof r=="number"&&a>=r){var h=(a-r)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(f[0]==="L"){if(t[0]=e[0],t[1]=e[1],t[2]=a,a+=gu(e[0],e[1],f[1],f[2]),e[0]=f[1],e[1]=f[2],typeof r=="number"&&a>=r){var h=(a-r)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}return{length:a,pos:e};function p(E,S){return Math.pow(1-S,3)*i[0]+3*Math.pow(1-S,2)*S*E[1]+3*(1-S)*Math.pow(S,2)*E[3]+Math.pow(S,3)*E[5]}function d(E,S){return Math.pow(1-S,3)*i[1]+3*Math.pow(1-S,2)*S*E[2]+3*(1-S)*Math.pow(S,2)*E[4]+Math.pow(S,3)*E[6]}function m(E,S){return Math.pow(1-S,2)*i[0]+2*(1-S)*S*E[1]+Math.pow(S,2)*E[3]}function y(E,S){return Math.pow(1-S,2)*i[1]+2*(1-S)*S*E[2]+Math.pow(S,2)*E[4]}};function gu(r,n,e,t){var i=r-e,a=n-t;return Math.sqrt(i*i+a*a)}function hw(r){for(var n,e=0,t=0,i={S:{to:"C",x:3},T:{to:"Q",x:1}},a=0,o=r.length;a<o;a++){var f=r[a],s=i[f[0]];s&&(f[0]=s.to,n&&(n[0]===s.to?(e=2*n[s.x+2]-n[s.x],t=2*n[s.x+3]-n[s.x+1]):(e=n[n.length-2],t=n[n.length-1])),f.splice(1,0,e,t)),n=f}return r}function gw(r){for(var n=[],e=["L",0,0],t,i=0,a=r.length;i<a;i++){var o=r[i];switch(o[0]){case"M":e=["L",o[1],o[2]],n.push(o);break;case"Z":n.push(e);break;case"H":t=n[n.length-1]||["L",0,0],n.push(["L",o[1],t[t.length-1]]);break;case"V":t=n[n.length-1]||["L",0,0],n.push(["L",t[t.length-2],o[1]]);break;default:n.push(o)}}return n}Object.defineProperty(lf,"__esModule",{value:!0});var pw=dr,dw=pw.__importDefault(gh),mw=or,yw=di,bo=ir,e0=yw.geoPath();function Po(r,n,e){e.dataType=bo.DataSet.CONSTANTS.GEO;var t=mw.deepMix([],r.features);return t.forEach(function(i){i.name=i.properties.name,i.longitude=[],i.latitude=[];var a=i.pathData=e0(i),o=dw.default(a);o._path.forEach(function(s){i.longitude.push(s[1]),i.latitude.push(s[2])});var f=e0.centroid(i);i.centroidX=f[0],i.centroidY=f[1]}),t}bo.DataSet.registerConnector("geo",Po);bo.DataSet.registerConnector("geojson",Po);bo.DataSet.registerConnector("GeoJSON",Po);lf.default=Po;var Gi=or,sf=ir,ww={nodes:function(r){return r.nodes},edges:function(r){return r.edges}};function ph(r,n,e){n=Gi.assign({},ww,n),e.dataType=sf.DataSet.CONSTANTS.GRAPH;var t=n.nodes,i=n.edges;if(t&&!Gi.isFunction(t))throw new TypeError("Invalid nodes: must be a function!");if(i&&!Gi.isFunction(i))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:t(r),edges:i(r)},Gi.assign(e,e.graph),e.rows}sf.DataSet.registerConnector("graph",ph);sf.DataSet.registerConnector("diagram",ph);var dh={};function Ew(r,n,e){var t=r.layout,i=[],a=0;Object.keys(r.hexes).forEach(function(p){r.hexes[p].key=p,i.push(r.hexes[p])});var o=we(i,function(p){return+p.q}),f=en(i,function(p){return+p.q}),s=we(i,function(p){return+p.r}),c=en(i,function(p){return+p.r}),u=o-f+1,v=s-c+1;t==="odd-r"||t==="even-r"?a=en([n/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):a=en([e/((v+.5)*Math.sqrt(3)),n/((u+1/3)*1.5)]);var l=a*Math.sqrt(3),h=Sw(t,l,a),g=_w(h);return i.forEach(function(p){p.qc=p.q-f,p.rc=s-p.r,p.x=ff(p,t,l,a),p.y=cf(p,t,l,a),p.vertices=h,p.points=g}),i}function ff(r,n,e,t){var i=0,a=0;switch(n){case"odd-r":a=r.rc%2===1?e:e/2,i=r.qc*e+a;break;case"even-r":a=r.rc%2===0?e:e/2,i=r.qc*e+a;break;case"odd-q":case"even-q":i=r.qc*t*1.5+t;break}return i}function cf(r,n,e,t){var i=0,a=0;switch(n){case"odd-r":case"even-r":i=r.rc*t*1.5+t;break;case"odd-q":a=r.qc%2===1?e:e/2,i=r.rc*e+a;break;case"even-q":a=r.qc%2===0?e:e/2,i=r.rc*e+a;break}return i}function Sw(r,n,e){var t=[];switch(r){case"odd-r":case"even-r":t.push({x:0,y:0-e}),t.push({x:0+n*.5,y:0-.5*e}),t.push({x:0+n*.5,y:0+.5*e}),t.push({x:0,y:0+e}),t.push({x:0-n*.5,y:0+.5*e}),t.push({x:0-n*.5,y:0-.5*e});break;case"odd-q":case"even-q":t.push({x:0-e,y:0}),t.push({x:0-.5*e,y:0-n*.5}),t.push({x:0+.5*e,y:0-n*.5}),t.push({x:0+e,y:0}),t.push({x:0+.5*e,y:0+n*.5}),t.push({x:0-.5*e,y:0+n*.5});break}return t}function _w(r){var n="";return r.forEach(function(e){n+=e.x+","+e.y+" "}),n.substring(0,n.length-1)}function Tw(r){var n={};n.layout=r.layout,n.hexes={};var e=[];Object.keys(r.hexes).forEach(function(u){e.push(r.hexes[u])});var t=we(e,function(u){return+u.q}),i=en(e,function(u){return+u.q}),a=we(e,function(u){return+u.r}),o=en(e,function(u){return+u.r}),f,s,c;for(f=i;f<=t;f++)for(s=o;s<=a;s++)c="Q"+f+"R"+s,n.hexes[c]={q:f,r:s};return n}function xw(r,n,e,t){var i=[],a=r.layout;Object.keys(r.hexes).forEach(function(k){i.push(r.hexes[k])});var o=we(i,function(k){return+k.q}),f=en(i,function(k){return+k.q}),s=we(i,function(k){return+k.r}),c=en(i,function(k){return+k.r}),u=o-f+1,v=s-c+1,l;a==="odd-r"||a==="even-r"?l=en([n/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):l=en([e/((v+.5)*Math.sqrt(3)),n/((u+1/3)*1.5)]);var h=l*Math.sqrt(3),g=[],p=l*l*4,d=i.length;if(d>1){i.forEach(function(k){k.qc=k.q-f,k.rc=s-k.r,k.x=ff(k,a,h,l),k.y=cf(k,a,h,l)});for(var m=0;m<d-1;m++)for(var y=m+1;y<d;y++){var E=i[m],S=i[y];if(E[t]!==S[t]&&Math.abs(E.q-S.q)<=1&&Math.abs(E.r-S.r)<=1&&(E.x-S.x)*(E.x-S.x)+(E.y-S.y)*(E.y-S.y)<p){var x={};x.x=S.x+(E.x-S.x)/2,x.y=S.y+(E.y-S.y)/2;var M={},D=Math.sqrt(3)*4;M.dx=(E.y-S.y)/D,M.dy=-(E.x-S.x)/D,g.push({x:x.x-2*M.dx,y:x.y-2*M.dy}),g.push({x:x.x-M.dx,y:x.y-M.dy}),g.push({x:x.x,y:x.y}),g.push({x:x.x+M.dx,y:x.y+M.dy}),g.push({x:x.x+2*M.dx,y:x.y+2*M.dy})}}}return g}function $w(r,n,e,t){var i=[],a=r.layout;Object.keys(r.hexes).forEach(function(C){i.push(r.hexes[C])});var o=we(i,function(C){return+C.q}),f=en(i,function(C){return+C.q}),s=we(i,function(C){return+C.r}),c=en(i,function(C){return+C.r}),u=o-f+1,v=s-c+1,l;a==="odd-r"||a==="even-r"?l=en([n/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):l=en([e/((v+.5)*Math.sqrt(3)),n/((u+1/3)*1.5)]);var h=l*Math.sqrt(3),g=[],p=l*l*4,d=i.length;if(d>1){i.forEach(function(C){C.qc=C.q-f,C.rc=s-C.r,C.x=ff(C,a,h,l),C.y=cf(C,a,h,l)});for(var m=0;m<d-1;m++)for(var y=m+1;y<d;y++){var E=i[m],S=i[y];if(E[t]!==S[t]&&Math.abs(E.q-S.q)<=1&&Math.abs(E.r-S.r)<=1&&(E.x-S.x)*(E.x-S.x)+(E.y-S.y)*(E.y-S.y)<p){var x={};x.x=S.x+(E.x-S.x)/2,x.y=S.y+(E.y-S.y)/2;var M={},D=1;E[t]<S[t]&&(D=-1);var k=Math.sqrt(3)*2*D;M.dx=(E.y-S.y)/k,M.dy=-(E.x-S.x)/k,g.push({x1:x.x-M.dx,y1:x.y-M.dy,x2:x.x+M.dx,y2:x.y+M.dy})}}}return g}var Mw=Object.freeze(Object.defineProperty({__proto__:null,renderHexJSON:Ew,getGridForHexJSON:Tw,getBoundaryDotsForHexJSON:xw,getBoundarySegmentsForHexJSON:$w},Symbol.toStringTag,{value:"Module"})),bw=Wn(Mw);Object.defineProperty(dh,"__esModule",{value:!0});var t0=or,pu=bw,yi=ir,Pw={width:1,height:1};function i0(r){return r.cx=r.x,r.cy=r.y,r.x=[],r.y=[],r.vertices.forEach(function(n){r.x.push(n.x+r.cx),r.y.push(n.y+r.cy)}),r}function wi(r,n,e){e.dataType=yi.DataSet.CONSTANTS.HEX,n=t0.assign({},Pw,n);var t=n.width,i=n.height,a=t0.deepMix([],r);e._HexJSON=a;var o=e._GridHexJSON=pu.getGridForHexJSON(a),f=e.rows=pu.renderHexJSON(a,t,i).map(i0);return e._gridRows=pu.renderHexJSON(o,t,i).map(i0),f}yi.DataSet.registerConnector("hex",wi);yi.DataSet.registerConnector("hexjson",wi);yi.DataSet.registerConnector("hex-json",wi);yi.DataSet.registerConnector("HexJSON",wi);dh.default=wi;function Rw(r,n){return r.parent===n.parent?1:2}function Nw(r){return r.reduce(kw,0)/r.length}function kw(r,n){return r+n.x}function Cw(r){return 1+r.reduce(Dw,0)}function Dw(r,n){return Math.max(r,n.y)}function Aw(r){for(var n;n=r.children;)r=n[0];return r}function Lw(r){for(var n;n=r.children;)r=n[n.length-1];return r}function Iw(){var r=Rw,n=1,e=1,t=!1;function i(a){var o,f=0;a.eachAfter(function(l){var h=l.children;h?(l.x=Nw(h),l.y=Cw(h)):(l.x=o?f+=r(l,o):0,l.y=0,o=l)});var s=Aw(a),c=Lw(a),u=s.x-r(s,c)/2,v=c.x+r(c,s)/2;return a.eachAfter(t?function(l){l.x=(l.x-a.x)*n,l.y=(a.y-l.y)*e}:function(l){l.x=(l.x-u)/(v-u)*n,l.y=(1-(a.y?l.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(r=a,i):r},i.size=function(a){return arguments.length?(t=!1,n=+a[0],e=+a[1],i):t?null:[n,e]},i.nodeSize=function(a){return arguments.length?(t=!0,n=+a[0],e=+a[1],i):t?[n,e]:null},i}function Ow(r){var n=0,e=r.children,t=e&&e.length;if(!t)n=1;else for(;--t>=0;)n+=e[t].value;r.value=n}function Fw(){return this.eachAfter(Ow)}function qw(r){var n=this,e,t=[n],i,a,o;do for(e=t.reverse(),t=[];n=e.pop();)if(r(n),i=n.children,i)for(a=0,o=i.length;a<o;++a)t.push(i[a]);while(t.length);return this}function zw(r){for(var n=this,e=[n],t,i;n=e.pop();)if(r(n),t=n.children,t)for(i=t.length-1;i>=0;--i)e.push(t[i]);return this}function Bw(r){for(var n=this,e=[n],t=[],i,a,o;n=e.pop();)if(t.push(n),i=n.children,i)for(a=0,o=i.length;a<o;++a)e.push(i[a]);for(;n=t.pop();)r(n);return this}function Gw(r){return this.eachAfter(function(n){for(var e=+r(n.data)||0,t=n.children,i=t&&t.length;--i>=0;)e+=t[i].value;n.value=e})}function Uw(r){return this.eachBefore(function(n){n.children&&n.children.sort(r)})}function Vw(r){for(var n=this,e=Hw(n,r),t=[n];n!==e;)n=n.parent,t.push(n);for(var i=t.length;r!==e;)t.splice(i,0,r),r=r.parent;return t}function Hw(r,n){if(r===n)return r;var e=r.ancestors(),t=n.ancestors(),i=null;for(r=e.pop(),n=t.pop();r===n;)i=r,r=e.pop(),n=t.pop();return i}function jw(){for(var r=this,n=[r];r=r.parent;)n.push(r);return n}function Yw(){var r=[];return this.each(function(n){r.push(n)}),r}function Xw(){var r=[];return this.eachBefore(function(n){n.children||r.push(n)}),r}function Ww(){var r=this,n=[];return r.each(function(e){e!==r&&n.push({source:e.parent,target:e})}),n}function vf(r,n){var e=new pt(r),t=+r.value&&(e.value=r.value),i,a=[e],o,f,s,c;for(n==null&&(n=Kw);i=a.pop();)if(t&&(i.value=+i.data.value),(f=n(i.data))&&(c=f.length))for(i.children=new Array(c),s=c-1;s>=0;--s)a.push(o=i.children[s]=new pt(f[s])),o.parent=i,o.depth=i.depth+1;return e.eachBefore(mh)}function Jw(){return vf(this).eachBefore(Qw)}function Kw(r){return r.children}function Qw(r){r.data=r.data.data}function mh(r){var n=0;do r.height=n;while((r=r.parent)&&r.height<++n)}function pt(r){this.data=r,this.depth=this.height=0,this.parent=null}pt.prototype=vf.prototype={constructor:pt,count:Fw,each:qw,eachAfter:Bw,eachBefore:zw,sum:Gw,sort:Uw,path:Vw,ancestors:jw,descendants:Yw,leaves:Xw,links:Ww,copy:Jw};var Zw=Array.prototype.slice;function r3(r){for(var n=r.length,e,t;n;)t=Math.random()*n--|0,e=r[n],r[n]=r[t],r[t]=e;return r}function yh(r){for(var n=0,e=(r=r3(Zw.call(r))).length,t=[],i,a;n<e;)i=r[n],a&&wh(a,i)?++n:(a=e3(t=n3(t,i)),n=0);return a}function n3(r,n){var e,t;if(du(n,r))return[n];for(e=0;e<r.length;++e)if(Ui(n,r[e])&&du(Ht(r[e],n),r))return[r[e],n];for(e=0;e<r.length-1;++e)for(t=e+1;t<r.length;++t)if(Ui(Ht(r[e],r[t]),n)&&Ui(Ht(r[e],n),r[t])&&Ui(Ht(r[t],n),r[e])&&du(Eh(r[e],r[t],n),r))return[r[e],r[t],n];throw new Error}function Ui(r,n){var e=r.r-n.r,t=n.x-r.x,i=n.y-r.y;return e<0||e*e<t*t+i*i}function wh(r,n){var e=r.r-n.r+1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function du(r,n){for(var e=0;e<n.length;++e)if(!wh(r,n[e]))return!1;return!0}function e3(r){switch(r.length){case 1:return t3(r[0]);case 2:return Ht(r[0],r[1]);case 3:return Eh(r[0],r[1],r[2])}}function t3(r){return{x:r.x,y:r.y,r:r.r}}function Ht(r,n){var e=r.x,t=r.y,i=r.r,a=n.x,o=n.y,f=n.r,s=a-e,c=o-t,u=f-i,v=Math.sqrt(s*s+c*c);return{x:(e+a+s/v*u)/2,y:(t+o+c/v*u)/2,r:(v+i+f)/2}}function Eh(r,n,e){var t=r.x,i=r.y,a=r.r,o=n.x,f=n.y,s=n.r,c=e.x,u=e.y,v=e.r,l=t-o,h=t-c,g=i-f,p=i-u,d=s-a,m=v-a,y=t*t+i*i-a*a,E=y-o*o-f*f+s*s,S=y-c*c-u*u+v*v,x=h*g-l*p,M=(g*S-p*E)/(x*2)-t,D=(p*d-g*m)/x,k=(h*E-l*S)/(x*2)-i,C=(l*m-h*d)/x,O=D*D+C*C-1,L=2*(a+M*D+k*C),N=M*M+k*k-a*a,U=-(O?(L+Math.sqrt(L*L-4*O*N))/(2*O):N/L);return{x:t+M+D*U,y:i+k+C*U,r:U}}function a0(r,n,e){var t=r.x-n.x,i,a,o=r.y-n.y,f,s,c=t*t+o*o;c?(a=n.r+e.r,a*=a,s=r.r+e.r,s*=s,a>s?(i=(c+s-a)/(2*c),f=Math.sqrt(Math.max(0,s/c-i*i)),e.x=r.x-i*t-f*o,e.y=r.y-i*o+f*t):(i=(c+a-s)/(2*c),f=Math.sqrt(Math.max(0,a/c-i*i)),e.x=n.x+i*t-f*o,e.y=n.y+i*o+f*t)):(e.x=n.x+e.r,e.y=n.y)}function o0(r,n){var e=r.r+n.r-1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function u0(r){var n=r._,e=r.next._,t=n.r+e.r,i=(n.x*e.r+e.x*n.r)/t,a=(n.y*e.r+e.y*n.r)/t;return i*i+a*a}function Vi(r){this._=r,this.next=null,this.previous=null}function Sh(r){if(!(i=r.length))return 0;var n,e,t,i,a,o,f,s,c,u,v;if(n=r[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=r[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;a0(e,n,t=r[2]),n=new Vi(n),e=new Vi(e),t=new Vi(t),n.next=t.previous=e,e.next=n.previous=t,t.next=e.previous=n;r:for(f=3;f<i;++f){a0(n._,e._,t=r[f]),t=new Vi(t),s=e.next,c=n.previous,u=e._.r,v=n._.r;do if(u<=v){if(o0(s._,t._)){e=s,n.next=e,e.previous=n,--f;continue r}u+=s._.r,s=s.next}else{if(o0(c._,t._)){n=c,n.next=e,e.previous=n,--f;continue r}v+=c._.r,c=c.previous}while(s!==c.next);for(t.previous=n,t.next=e,n.next=e.previous=e=t,a=u0(n);(t=t.next)!==e;)(o=u0(t))<a&&(n=t,a=o);e=n.next}for(n=[e._],t=e;(t=t.next)!==e;)n.push(t._);for(t=yh(n),f=0;f<i;++f)n=r[f],n.x-=t.x,n.y-=t.y;return t.r}function i3(r){return Sh(r),r}function a3(r){return r==null?null:Za(r)}function Za(r){if(typeof r!="function")throw new Error;return r}function Ie(){return 0}function We(r){return function(){return r}}function o3(r){return Math.sqrt(r.value)}function u3(){var r=null,n=1,e=1,t=Ie;function i(a){return a.x=n/2,a.y=e/2,r?a.eachBefore(l0(r)).eachAfter(mu(t,.5)).eachBefore(s0(1)):a.eachBefore(l0(o3)).eachAfter(mu(Ie,1)).eachAfter(mu(t,a.r/Math.min(n,e))).eachBefore(s0(Math.min(n,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(r=a3(a),i):r},i.size=function(a){return arguments.length?(n=+a[0],e=+a[1],i):[n,e]},i.padding=function(a){return arguments.length?(t=typeof a=="function"?a:We(+a),i):t},i}function l0(r){return function(n){n.children||(n.r=Math.max(0,+r(n)||0))}}function mu(r,n){return function(e){if(t=e.children){var t,i,a=t.length,o=r(e)*n||0,f;if(o)for(i=0;i<a;++i)t[i].r+=o;if(f=Sh(t),o)for(i=0;i<a;++i)t[i].r-=o;e.r=f+o}}}function s0(r){return function(n){var e=n.parent;n.r*=r,e&&(n.x=e.x+r*n.x,n.y=e.y+r*n.y)}}function _h(r){r.x0=Math.round(r.x0),r.y0=Math.round(r.y0),r.x1=Math.round(r.x1),r.y1=Math.round(r.y1)}function Ei(r,n,e,t,i){for(var a=r.children,o,f=-1,s=a.length,c=r.value&&(t-n)/r.value;++f<s;)o=a[f],o.y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c}function l3(){var r=1,n=1,e=0,t=!1;function i(o){var f=o.height+1;return o.x0=o.y0=e,o.x1=r,o.y1=n/f,o.eachBefore(a(n,f)),t&&o.eachBefore(_h),o}function a(o,f){return function(s){s.children&&Ei(s,s.x0,o*(s.depth+1)/f,s.x1,o*(s.depth+2)/f);var c=s.x0,u=s.y0,v=s.x1-e,l=s.y1-e;v<c&&(c=v=(c+v)/2),l<u&&(u=l=(u+l)/2),s.x0=c,s.y0=u,s.x1=v,s.y1=l}}return i.round=function(o){return arguments.length?(t=!!o,i):t},i.size=function(o){return arguments.length?(r=+o[0],n=+o[1],i):[r,n]},i.padding=function(o){return arguments.length?(e=+o,i):e},i}var f0="$",s3={depth:-1},c0={};function f3(r){return r.id}function c3(r){return r.parentId}function v3(){var r=f3,n=c3;function e(t){var i,a,o=t.length,f,s,c,u=new Array(o),v,l,h={};for(a=0;a<o;++a)i=t[a],c=u[a]=new pt(i),(v=r(i,a,t))!=null&&(v+="")&&(l=f0+(c.id=v),h[l]=l in h?c0:c);for(a=0;a<o;++a)if(c=u[a],v=n(t[a],a,t),v==null||!(v+="")){if(f)throw new Error("multiple roots");f=c}else{if(s=h[f0+v],!s)throw new Error("missing: "+v);if(s===c0)throw new Error("ambiguous: "+v);s.children?s.children.push(c):s.children=[c],c.parent=s}if(!f)throw new Error("no root");if(f.parent=s3,f.eachBefore(function(g){g.depth=g.parent.depth+1,--o}).eachBefore(mh),f.parent=null,o>0)throw new Error("cycle");return f}return e.id=function(t){return arguments.length?(r=Za(t),e):r},e.parentId=function(t){return arguments.length?(n=Za(t),e):n},e}function h3(r,n){return r.parent===n.parent?1:2}function yu(r){var n=r.children;return n?n[0]:r.t}function wu(r){var n=r.children;return n?n[n.length-1]:r.t}function g3(r,n,e){var t=e/(n.i-r.i);n.c-=t,n.s+=e,r.c+=t,n.z+=e,n.m+=e}function p3(r){for(var n=0,e=0,t=r.children,i=t.length,a;--i>=0;)a=t[i],a.z+=n,a.m+=n,n+=a.s+(e+=a.c)}function d3(r,n,e){return r.a.parent===n.parent?r.a:e}function sa(r,n){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}sa.prototype=Object.create(pt.prototype);function m3(r){for(var n=new sa(r,0),e,t=[n],i,a,o,f;e=t.pop();)if(a=e._.children)for(e.children=new Array(f=a.length),o=f-1;o>=0;--o)t.push(i=e.children[o]=new sa(a[o],o)),i.parent=e;return(n.parent=new sa(null,0)).children=[n],n}function y3(){var r=h3,n=1,e=1,t=null;function i(c){var u=m3(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),t)c.eachBefore(s);else{var v=c,l=c,h=c;c.eachBefore(function(y){y.x<v.x&&(v=y),y.x>l.x&&(l=y),y.depth>h.depth&&(h=y)});var g=v===l?1:r(v,l)/2,p=g-v.x,d=n/(l.x+g+p),m=e/(h.depth||1);c.eachBefore(function(y){y.x=(y.x+p)*d,y.y=y.depth*m})}return c}function a(c){var u=c.children,v=c.parent.children,l=c.i?v[c.i-1]:null;if(u){p3(c);var h=(u[0].z+u[u.length-1].z)/2;l?(c.z=l.z+r(c._,l._),c.m=c.z-h):c.z=h}else l&&(c.z=l.z+r(c._,l._));c.parent.A=f(c,l,c.parent.A||v[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function f(c,u,v){if(u){for(var l=c,h=c,g=u,p=l.parent.children[0],d=l.m,m=h.m,y=g.m,E=p.m,S;g=wu(g),l=yu(l),g&&l;)p=yu(p),h=wu(h),h.a=c,S=g.z+y-l.z-d+r(g._,l._),S>0&&(g3(d3(g,c,v),c,S),d+=S,m+=S),y+=g.m,d+=l.m,E+=p.m,m+=h.m;g&&!wu(h)&&(h.t=g,h.m+=y-m),l&&!yu(p)&&(p.t=l,p.m+=d-E,v=c)}return v}function s(c){c.x*=n,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(r=c,i):r},i.size=function(c){return arguments.length?(t=!1,n=+c[0],e=+c[1],i):t?null:[n,e]},i.nodeSize=function(c){return arguments.length?(t=!0,n=+c[0],e=+c[1],i):t?[n,e]:null},i}function Ro(r,n,e,t,i){for(var a=r.children,o,f=-1,s=a.length,c=r.value&&(i-e)/r.value;++f<s;)o=a[f],o.x0=n,o.x1=t,o.y0=e,o.y1=e+=o.value*c}var Th=(1+Math.sqrt(5))/2;function xh(r,n,e,t,i,a){for(var o=[],f=n.children,s,c,u=0,v=0,l=f.length,h,g,p=n.value,d,m,y,E,S,x,M;u<l;){h=i-e,g=a-t;do d=f[v++].value;while(!d&&v<l);for(m=y=d,x=Math.max(g/h,h/g)/(p*r),M=d*d*x,S=Math.max(y/M,M/m);v<l;++v){if(d+=c=f[v].value,c<m&&(m=c),c>y&&(y=c),M=d*d*x,E=Math.max(y/M,M/m),E>S){d-=c;break}S=E}o.push(s={value:d,dice:h<g,children:f.slice(u,v)}),s.dice?Ei(s,e,t,i,p?t+=g*d/p:a):Ro(s,e,t,p?e+=h*d/p:i,a),p-=d,u=v}return o}var $h=function r(n){function e(t,i,a,o,f){xh(n,t,i,a,o,f)}return e.ratio=function(t){return r((t=+t)>1?t:1)},e}(Th);function w3(){var r=$h,n=!1,e=1,t=1,i=[0],a=Ie,o=Ie,f=Ie,s=Ie,c=Ie;function u(l){return l.x0=l.y0=0,l.x1=e,l.y1=t,l.eachBefore(v),i=[0],n&&l.eachBefore(_h),l}function v(l){var h=i[l.depth],g=l.x0+h,p=l.y0+h,d=l.x1-h,m=l.y1-h;d<g&&(g=d=(g+d)/2),m<p&&(p=m=(p+m)/2),l.x0=g,l.y0=p,l.x1=d,l.y1=m,l.children&&(h=i[l.depth+1]=a(l)/2,g+=c(l)-h,p+=o(l)-h,d-=f(l)-h,m-=s(l)-h,d<g&&(g=d=(g+d)/2),m<p&&(p=m=(p+m)/2),r(l,g,p,d,m))}return u.round=function(l){return arguments.length?(n=!!l,u):n},u.size=function(l){return arguments.length?(e=+l[0],t=+l[1],u):[e,t]},u.tile=function(l){return arguments.length?(r=Za(l),u):r},u.padding=function(l){return arguments.length?u.paddingInner(l).paddingOuter(l):u.paddingInner()},u.paddingInner=function(l){return arguments.length?(a=typeof l=="function"?l:We(+l),u):a},u.paddingOuter=function(l){return arguments.length?u.paddingTop(l).paddingRight(l).paddingBottom(l).paddingLeft(l):u.paddingTop()},u.paddingTop=function(l){return arguments.length?(o=typeof l=="function"?l:We(+l),u):o},u.paddingRight=function(l){return arguments.length?(f=typeof l=="function"?l:We(+l),u):f},u.paddingBottom=function(l){return arguments.length?(s=typeof l=="function"?l:We(+l),u):s},u.paddingLeft=function(l){return arguments.length?(c=typeof l=="function"?l:We(+l),u):c},u}function E3(r,n,e,t,i){var a=r.children,o,f=a.length,s,c=new Array(f+1);for(c[0]=s=o=0;o<f;++o)c[o+1]=s+=a[o].value;u(0,f,r.value,n,e,t,i);function u(v,l,h,g,p,d,m){if(v>=l-1){var y=a[v];y.x0=g,y.y0=p,y.x1=d,y.y1=m;return}for(var E=c[v],S=h/2+E,x=v+1,M=l-1;x<M;){var D=x+M>>>1;c[D]<S?x=D+1:M=D}S-c[x-1]<c[x]-S&&v+1<x&&--x;var k=c[x]-E,C=h-k;if(d-g>m-p){var O=(g*C+d*k)/h;u(v,x,k,g,p,O,m),u(x,l,C,O,p,d,m)}else{var L=(p*C+m*k)/h;u(v,x,k,g,p,d,L),u(x,l,C,g,L,d,m)}}}function S3(r,n,e,t,i){(r.depth&1?Ro:Ei)(r,n,e,t,i)}var _3=function r(n){function e(t,i,a,o,f){if((s=t._squarify)&&s.ratio===n)for(var s,c,u,v,l=-1,h,g=s.length,p=t.value;++l<g;){for(c=s[l],u=c.children,v=c.value=0,h=u.length;v<h;++v)c.value+=u[v].value;c.dice?Ei(c,i,a,o,a+=(f-a)*c.value/p):Ro(c,i,a,i+=(o-i)*c.value/p,f),p-=c.value}else t._squarify=s=xh(n,t,i,a,o,f),s.ratio=n}return e.ratio=function(t){return r((t=+t)>1?t:1)},e}(Th),T3=Object.freeze(Object.defineProperty({__proto__:null,cluster:Iw,hierarchy:vf,pack:u3,packSiblings:i3,packEnclose:yh,partition:l3,stratify:v3,tree:y3,treemap:w3,treemapBinary:E3,treemapDice:Ei,treemapSlice:Ro,treemapSliceDice:S3,treemapSquarify:$h,treemapResquarify:_3},Symbol.toStringTag,{value:"Module"})),_t=Wn(T3),x3=or,$3=_t,hf=ir;function Mh(r,n,e){e.dataType=hf.DataSet.CONSTANTS.HIERARCHY;var t=n&&n.children?n.children:null;if(t&&!x3.isFunction(t))throw new TypeError("Invalid children: must be a function!");return n.pureData?e.rows=e.root=r:e.rows=e.root=$3.hierarchy(r,t),r}hf.DataSet.registerConnector("hierarchy",Mh);hf.DataSet.registerConnector("tree",Mh);function bh(r){return r}function gf(r){if(r==null)return bh;var n,e,t=r.scale[0],i=r.scale[1],a=r.translate[0],o=r.translate[1];return function(f,s){s||(n=e=0);var c=2,u=f.length,v=new Array(u);for(v[0]=(n+=f[0])*t+a,v[1]=(e+=f[1])*i+o;c<u;)v[c]=f[c],++c;return v}}function Ph(r){var n=gf(r.transform),e,t=1/0,i=t,a=-t,o=-t;function f(c){c=n(c),c[0]<t&&(t=c[0]),c[0]>a&&(a=c[0]),c[1]<i&&(i=c[1]),c[1]>o&&(o=c[1])}function s(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(s);break;case"Point":f(c.coordinates);break;case"MultiPoint":c.coordinates.forEach(f);break}}r.arcs.forEach(function(c){for(var u=-1,v=c.length,l;++u<v;)l=n(c[u],u),l[0]<t&&(t=l[0]),l[0]>a&&(a=l[0]),l[1]<i&&(i=l[1]),l[1]>o&&(o=l[1])});for(e in r.objects)s(r.objects[e]);return[t,i,a,o]}function M3(r,n){for(var e,t=r.length,i=t-n;i<--t;)e=r[i],r[i++]=r[t],r[t]=e}function b3(r,n){return typeof n=="string"&&(n=r.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(e){return v0(r,e)})}:v0(r,n)}function v0(r,n){var e=n.id,t=n.bbox,i=n.properties==null?{}:n.properties,a=No(r,n);return e==null&&t==null?{type:"Feature",properties:i,geometry:a}:t==null?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:t,properties:i,geometry:a}}function No(r,n){var e=gf(r.transform),t=r.arcs;function i(u,v){v.length&&v.pop();for(var l=t[u<0?~u:u],h=0,g=l.length;h<g;++h)v.push(e(l[h],h));u<0&&M3(v,g)}function a(u){return e(u)}function o(u){for(var v=[],l=0,h=u.length;l<h;++l)i(u[l],v);return v.length<2&&v.push(v[0]),v}function f(u){for(var v=o(u);v.length<4;)v.push(v[0]);return v}function s(u){return u.map(f)}function c(u){var v=u.type,l;switch(v){case"GeometryCollection":return{type:v,geometries:u.geometries.map(c)};case"Point":l=a(u.coordinates);break;case"MultiPoint":l=u.coordinates.map(a);break;case"LineString":l=o(u.arcs);break;case"MultiLineString":l=u.arcs.map(o);break;case"Polygon":l=s(u.arcs);break;case"MultiPolygon":l=u.arcs.map(s);break;default:return null}return{type:v,coordinates:l}}return c(n)}function Rh(r,n){var e={},t={},i={},a=[],o=-1;n.forEach(function(c,u){var v=r.arcs[c<0?~c:c],l;v.length<3&&!v[1][0]&&!v[1][1]&&(l=n[++o],n[o]=c,n[u]=l)}),n.forEach(function(c){var u=f(c),v=u[0],l=u[1],h,g;if(h=i[v])if(delete i[h.end],h.push(c),h.end=l,g=t[l]){delete t[g.start];var p=g===h?h:h.concat(g);t[p.start=h.start]=i[p.end=g.end]=p}else t[h.start]=i[h.end]=h;else if(h=t[l])if(delete t[h.start],h.unshift(c),h.start=v,g=i[v]){delete i[g.end];var d=g===h?h:g.concat(h);t[d.start=g.start]=i[d.end=h.end]=d}else t[h.start]=i[h.end]=h;else h=[c],t[h.start=v]=i[h.end=l]=h});function f(c){var u=r.arcs[c<0?~c:c],v=u[0],l;return r.transform?(l=[0,0],u.forEach(function(h){l[0]+=h[0],l[1]+=h[1]})):l=u[u.length-1],c<0?[l,v]:[v,l]}function s(c,u){for(var v in c){var l=c[v];delete u[l.start],delete l.start,delete l.end,l.forEach(function(h){e[h<0?~h:h]=1}),a.push(l)}}return s(i,t),s(t,i),n.forEach(function(c){e[c<0?~c:c]||a.push([c])}),a}function P3(r){return No(r,Nh.apply(this,arguments))}function Nh(r,n,e){var t,i,a;if(arguments.length>1)t=R3(r,n,e);else for(i=0,t=new Array(a=r.arcs.length);i<a;++i)t[i]=i;return{type:"MultiLineString",arcs:Rh(r,t)}}function R3(r,n,e){var t=[],i=[],a;function o(v){var l=v<0?~v:v;(i[l]||(i[l]=[])).push({i:v,g:a})}function f(v){v.forEach(o)}function s(v){v.forEach(f)}function c(v){v.forEach(s)}function u(v){switch(a=v,v.type){case"GeometryCollection":v.geometries.forEach(u);break;case"LineString":f(v.arcs);break;case"MultiLineString":case"Polygon":s(v.arcs);break;case"MultiPolygon":c(v.arcs);break}}return u(n),i.forEach(e==null?function(v){t.push(v[0].i)}:function(v){e(v[0].g,v[v.length-1].g)&&t.push(v[0].i)}),t}function N3(r){for(var n=-1,e=r.length,t,i=r[e-1],a=0;++n<e;)t=i,i=r[n],a+=t[0]*i[1]-t[1]*i[0];return Math.abs(a)}function k3(r){return No(r,kh.apply(this,arguments))}function kh(r,n){var e={},t=[],i=[];n.forEach(a);function a(s){switch(s.type){case"GeometryCollection":s.geometries.forEach(a);break;case"Polygon":o(s.arcs);break;case"MultiPolygon":s.arcs.forEach(o);break}}function o(s){s.forEach(function(c){c.forEach(function(u){(e[u=u<0?~u:u]||(e[u]=[])).push(s)})}),t.push(s)}function f(s){return N3(No(r,{type:"Polygon",arcs:[s]}).coordinates[0])}return t.forEach(function(s){if(!s._){var c=[],u=[s];for(s._=1,i.push(c);s=u.pop();)c.push(s),s.forEach(function(v){v.forEach(function(l){e[l<0?~l:l].forEach(function(h){h._||(h._=1,u.push(h))})})})}}),t.forEach(function(s){delete s._}),{type:"MultiPolygon",arcs:i.map(function(s){var c=[],u;if(s.forEach(function(p){p.forEach(function(d){d.forEach(function(m){e[m<0?~m:m].length<2&&c.push(m)})})}),c=Rh(r,c),(u=c.length)>1)for(var v=1,l=f(c[0]),h,g;v<u;++v)(h=f(c[v]))>l&&(g=c[0],c[0]=c[v],c[v]=g,l=h);return c}).filter(function(s){return s.length>0})}}function h0(r,n){for(var e=0,t=r.length;e<t;){var i=e+t>>>1;r[i]<n?e=i+1:t=i}return e}function C3(r){var n={},e=r.map(function(){return[]});function t(p,d){p.forEach(function(m){m<0&&(m=~m);var y=n[m];y?y.push(d):n[m]=[d]})}function i(p,d){p.forEach(function(m){t(m,d)})}function a(p,d){p.type==="GeometryCollection"?p.geometries.forEach(function(m){a(m,d)}):p.type in o&&o[p.type](p.arcs,d)}var o={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(p,d){p.forEach(function(m){i(m,d)})}};r.forEach(a);for(var f in n)for(var s=n[f],c=s.length,u=0;u<c;++u)for(var v=u+1;v<c;++v){var l=s[u],h=s[v],g;(g=e[l])[f=h0(g,h)]!==h&&g.splice(f,0,h),(g=e[h])[f=h0(g,l)]!==l&&g.splice(f,0,l)}return e}function Ch(r){if(r==null)return bh;var n,e,t=r.scale[0],i=r.scale[1],a=r.translate[0],o=r.translate[1];return function(f,s){s||(n=e=0);var c=2,u=f.length,v=new Array(u),l=Math.round((f[0]-a)/t),h=Math.round((f[1]-o)/i);for(v[0]=l-n,n=l,v[1]=h-e,e=h;c<u;)v[c]=f[c],++c;return v}}function D3(r,n){if(r.transform)throw new Error("already quantized");if(!n||!n.scale){if(!((o=Math.floor(n))>=2))throw new Error("n must be \u22652");s=r.bbox||Ph(r);var e=s[0],t=s[1],i=s[2],a=s[3],o;n={scale:[i-e?(i-e)/(o-1):1,a-t?(a-t)/(o-1):1],translate:[e,t]}}else s=r.bbox;var f=Ch(n),s,c,u=r.objects,v={};function l(p){return f(p)}function h(p){var d;switch(p.type){case"GeometryCollection":d={type:"GeometryCollection",geometries:p.geometries.map(h)};break;case"Point":d={type:"Point",coordinates:l(p.coordinates)};break;case"MultiPoint":d={type:"MultiPoint",coordinates:p.coordinates.map(l)};break;default:return p}return p.id!=null&&(d.id=p.id),p.bbox!=null&&(d.bbox=p.bbox),p.properties!=null&&(d.properties=p.properties),d}function g(p){var d=0,m=1,y=p.length,E,S=new Array(y);for(S[0]=f(p[0],0);++d<y;)((E=f(p[d],d))[0]||E[1])&&(S[m++]=E);return m===1&&(S[m++]=[0,0]),S.length=m,S}for(c in u)v[c]=h(u[c]);return{type:"Topology",bbox:s,transform:n,objects:v,arcs:r.arcs.map(g)}}var A3=Object.freeze(Object.defineProperty({__proto__:null,bbox:Ph,feature:b3,mesh:P3,meshArcs:Nh,merge:k3,mergeArcs:kh,neighbors:C3,quantize:D3,transform:gf,untransform:Ch},Symbol.toStringTag,{value:"Module"})),L3=Wn(A3),I3=dr,O3=or,F3=L3,q3=I3.__importDefault(lf),Dh=ir;function Ah(r,n,e){var t=n.object;if(!O3.isString(t))throw new TypeError("Invalid object: must be a string!");var i=F3.feature(r,r.objects[t]);return q3.default(i,void 0,e)}Dh.DataSet.registerConnector("topojson",Ah);Dh.DataSet.registerConnector("TopoJSON",Ah);var z3=ir;z3.DataSet.registerTransform("default",function(r){return r});var B3=ir;function G3(r){return!!r}B3.DataSet.registerTransform("filter",function(r,n){r.rows=r.rows.filter(n.callback||G3)});var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getFields=Mr.getField=void 0;var me=or,Eu="Invalid field: it must be a string!",Nt="Invalid fields: it must be an array!";function U3(r,n){var e=r.field,t=r.fields;if(me.isString(e))return e;if(me.isArray(e))return console.warn(Eu),e[0];if(console.warn(Eu+" will try to get fields instead."),me.isString(t))return t;if(me.isArray(t)&&t.length)return t[0];if(n)return n;throw new TypeError(Eu)}Mr.getField=U3;function V3(r,n){var e=r.field,t=r.fields;if(me.isArray(t))return t;if(me.isString(t))return console.warn(Nt),[t];if(console.warn(Nt+" will try to get field instead."),me.isString(e))return console.warn(Nt),[e];if(me.isArray(e)&&e.length)return console.warn(Nt),e;if(n)return n;throw new TypeError(Nt)}Mr.getFields=V3;var Su=or,H3=ir,j3=Mr,Y3={fields:[],key:"key",retains:[],value:"value"};H3.DataSet.registerTransform("fold",function(r,n){var e=r.getColumnNames();n=Su.assign({},Y3,n);var t=j3.getFields(n);t.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),t=e);var i=n.key,a=n.value,o=n.retains;(!o||o.length===0)&&(o=Su.difference(e,t));var f=[];r.rows.forEach(function(s){t.forEach(function(c){var u=Su.pick(s,o);u[i]=c,u[a]=s[c],f.push(u)})}),r.rows=f});var X3=ir;function W3(r){return r}X3.DataSet.registerTransform("map",function(r,n){r.rows=r.rows.map(n.callback||W3)});var J3=dr,$l=or,Lh=J3.__importDefault($n),pf=ir,Ih={groupBy:[],orderBy:[]};pf.DataSet.registerTransform("partition",function(r,n){n=$l.assign({},Ih,n),r.rows=Lh.default(r.rows,n.groupBy,n.orderBy)});function Oh(r,n){n=$l.assign({},Ih,n),r.rows=$l.values(Lh.default(r.rows,n.groupBy,n.orderBy))}pf.DataSet.registerTransform("group",Oh);pf.DataSet.registerTransform("groups",Oh);var K3=dr,Ye=or,g0=Fn.exports,p0=K3.__importDefault($n),Q3=ir,Z3=Mr,r4={groupBy:[],as:"_percent"};function n4(r,n){n=Ye.assign({},r4,n);var e=Z3.getField(n),t=n.dimension,i=n.groupBy,a=n.as;if(!Ye.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(Ye.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!Ye.isString(a))throw new TypeError("Invalid as: must be a string!");var o=r.rows,f=[],s=p0.default(o,i);Ye.forIn(s,function(c){var u=g0.sum(c.map(function(l){return l[e]})),v=p0.default(c,[t]);Ye.forIn(v,function(l){var h=g0.sum(l.map(function(d){return d[e]})),g=l[0],p=g[t];g[e]=h,g[t]=p,u===0?g[a]=0:g[a]=h/u,f.push(g)})}),r.rows=f}Q3.DataSet.registerTransform("percent",n4);var e4=or,t4=ir,i4=Mr;t4.DataSet.registerTransform("pick",function(r,n){var e=i4.getFields(n,r.getColumnNames());r.rows=r.rows.map(function(t){return e4.pick(t,e)})});var a4=dr,Xe=or,d0=a4.__importDefault($n),o4=ir,u4=Mr,l4={groupBy:[],as:"_proportion"};function s4(r,n){n=Xe.assign({},l4,n);var e=u4.getField(n),t=n.dimension,i=n.groupBy,a=n.as;if(!Xe.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(Xe.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!Xe.isString(a))throw new TypeError("Invalid as: must be a string!");var o=r.rows,f=[],s=d0.default(o,i);Xe.forIn(s,function(c){var u=c.length,v=d0.default(c,[t]);Xe.forIn(v,function(l){var h=l.length,g=l[0],p=g[t];g[e]=h,g[t]=p,g[a]=h/u,f.push(g)})}),r.rows=f}o4.DataSet.registerTransform("proportion",s4);var kt=or,Fh=ir;function qh(r,n){var e=n.map||{},t={};kt.isPlainObject(e)&&kt.forIn(e,function(i,a){kt.isString(i)&&kt.isString(a)&&(t[a]=i)}),r.rows.forEach(function(i){kt.forIn(t,function(a,o){var f=i[o];delete i[o],i[a]=f})})}Fh.DataSet.registerTransform("rename",qh);Fh.DataSet.registerTransform("rename-fields",qh);var f4=ir;f4.DataSet.registerTransform("reverse",function(r){r.rows.reverse()});var c4=ir;c4.DataSet.registerTransform("sort",function(r,n){var e=r.getColumnName(0);r.rows.sort(n.callback||function(t,i){return t[e]-i[e]})});var m0=or,zh=ir,v4=Mr,y0=["ASC","DESC"];function Bh(r,n){var e=v4.getFields(n,[r.getColumnName(0)]);if(!m0.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");r.rows=m0.sortBy(r.rows,e);var t=n.order;if(t&&y0.indexOf(t)===-1)throw new TypeError("Invalid order: "+t+" must be one of "+y0.join(", "));t==="DESC"&&r.rows.reverse()}zh.DataSet.registerTransform("sort-by",Bh);zh.DataSet.registerTransform("sortBy",Bh);var h4=ir,g4=Mr;h4.DataSet.registerTransform("subset",function(r,n){var e=n.startRowIndex||0,t=n.endRowIndex||r.rows.length-1,i=g4.getFields(n,r.getColumnNames());r.rows=r.getSubset(e,t,i)});var p4=dr,_u=or,d4=p4.__importDefault($n),Gh=ir,m4={fillBy:"group",groupBy:[],orderBy:[]};function w0(r,n){var e=r.map(function(t){return t});return n.forEach(function(t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}),e}function Uh(r,n){n=_u.assign({},m4,n);var e=r.rows,t=n.groupBy,i=n.orderBy,a=d4.default(e,t,i),o=0,f=[];_u.forIn(a,function(g){g.length>o&&(o=g.length,f=g)});var s=[],c={};if(f.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");s.push(p),c[p]=g}),n.fillBy==="order"){var u=f[0],v=[],l={};e.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");v.indexOf(p)===-1&&(v.push(p),l[p]=g)});var h=w0(v,s);h.forEach(function(g){var p={};t.forEach(function(d){p[d]=u[d]}),i.forEach(function(d){p[d]=l[g][d]}),e.push(p),f.push(p),s.push(g),c[g]=p}),o=f.length}_u.forIn(a,function(g){if(g!==f&&g.length<o){var p=g[0],d=[];g.forEach(function(y){d.push(i.map(function(E){return y[E]}).join("-"))});var m=w0(s,d);m.some(function(y,E){if(E>=o-g.length)return!0;var S=c[y],x={};return t.forEach(function(M){x[M]=p[M]}),i.forEach(function(M){x[M]=S[M]}),e.push(x),!1})}})}Gh.DataSet.registerTransform("fill-rows",Uh);Gh.DataSet.registerTransform("fillRows",Uh);var Vh=dr,Ae=or,y4=Vh.__importStar(Fn.exports),w4=Vh.__importDefault($n),E4=ir,S4=Mr,_4={groupBy:[]};function E0(r){return r.filter(function(n){return!Ae.isUndefined(n)})}var Hh=["mean","median","max","min"],df={};Hh.forEach(function(r){df[r]=function(n,e){return y4[r](e)}});df.value=function(r,n,e){return e};function T4(r,n){n=Ae.assign({},_4,n);var e=S4.getField(n),t=n.method;if(!t)throw new TypeError("Invalid method!");if(t==="value"&&!Ae.has(n,"value"))throw new TypeError("Invalid value: it is nil.");var i=E0(r.getColumn(e)),a=w4.default(r.rows,n.groupBy);Ae.forIn(a,function(o){var f=E0(o.map(function(s){return s[e]}));f.length===0&&(f=i),o.forEach(function(s){if(Ae.isUndefined(s[e]))if(Ae.isFunction(t))s[e]=t(s,f,n.value,o);else if(Ae.isString(t))s[e]=df[t](s,f,n.value);else throw new TypeError("Invalid method: must be a function or one of "+Hh.join(", "))})})}E4.DataSet.registerTransform("impute",T4);var jh={};Object.defineProperty(jh,"__esModule",{value:!0});var Yh=dr,Ln=or,x4=Yh.__importStar(Fn.exports),$4=Yh.__importDefault($n),Xh=ir,Wh=Xh.DataSet.registerTransform,M4=Mr,b4={as:[],fields:[],groupBy:[],operations:[]},S0="count",ci={count:function(r){return r.length},distinct:function(r,n){var e=Ln.uniq(r.map(function(t){return t[n]}));return e.length}};Xh.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(r){ci[r]=function(n,e){var t=n.map(function(i){return i[e]});return Ln.isArray(t)&&Ln.isArray(t[0])&&(t=Ln.flattenDeep(t)),x4[r](t)}});ci.average=ci.mean;function Jh(r,n){n=Ln.assign({},b4,n);var e=M4.getFields(n);if(!Ln.isArray(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var t=n.as||[];Ln.isString(t)&&(t=[t]);var i=n.operations;Ln.isString(i)&&(i=[i]);var a=[S0];if((!Ln.isArray(i)||!i.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),i=a,t=i),!(i.length===1&&i[0]===S0)){if(i.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(t.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var o=$4.default(r.rows,n.groupBy),f=[];Ln.forIn(o,function(s){var c=s[0];i.forEach(function(u,v){var l=t[v],h=e[v];c[l]=ci[u](s,h)}),f.push(c)}),r.rows=f}Wh("aggregate",Jh);Wh("summary",Jh);jh.default={VALID_AGGREGATES:Ln.keys(ci)};var Kh={},Qh={exports:{}};(function(r,n){(function(e,t){t(r)})(lo,function(e){function t(l,h,g){return h in l?Object.defineProperty(l,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[h]=g,l}var i=Object.assign||function(l){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}return l};function a(l){if(Array.isArray(l)){for(var h=0,g=Array(l.length);h<l.length;h++)g[h]=l[h];return g}else return Array.from(l)}var o={order:2,precision:2,period:null};function f(l,h){var g=[],p=[];l.forEach(function(S,x){S[1]!==null&&(p.push(S),g.push(h[x]))});var d=p.reduce(function(S,x){return S+x[1]},0),m=d/p.length,y=p.reduce(function(S,x){var M=x[1]-m;return S+M*M},0),E=p.reduce(function(S,x,M){var D=g[M],k=x[1]-D[1];return S+k*k},0);return 1-E/y}function s(l,h){for(var g=l,p=l.length-1,d=[h],m=0;m<p;m++){for(var y=m,E=m+1;E<p;E++)Math.abs(g[m][E])>Math.abs(g[m][y])&&(y=E);for(var S=m;S<p+1;S++){var x=g[S][m];g[S][m]=g[S][y],g[S][y]=x}for(var M=m+1;M<p;M++)for(var D=p;D>=m;D--)g[D][M]-=g[D][m]*g[m][M]/g[m][m]}for(var k=p-1;k>=0;k--){for(var C=0,O=k+1;O<p;O++)C+=g[O][k]*d[O];d[k]=(g[p][k]-C)/g[k][k]}return d}function c(l,h){var g=Math.pow(10,h);return Math.round(l*g)/g}var u={linear:function(h,g){for(var p=[0,0,0,0,0],d=0,m=0;m<h.length;m++)h[m][1]!==null&&(d++,p[0]+=h[m][0],p[1]+=h[m][1],p[2]+=h[m][0]*h[m][0],p[3]+=h[m][0]*h[m][1],p[4]+=h[m][1]*h[m][1]);var y=d*p[2]-p[0]*p[0],E=d*p[3]-p[0]*p[1],S=y===0?0:c(E/y,g.precision),x=c(p[1]/d-S*p[0]/d,g.precision),M=function(C){return[c(C,g.precision),c(S*C+x,g.precision)]},D=h.map(function(k){return M(k[0])});return{points:D,predict:M,equation:[S,x],r2:c(f(h,D),g.precision),string:x===0?"y = "+S+"x":"y = "+S+"x + "+x}},exponential:function(h,g){for(var p=[0,0,0,0,0,0],d=0;d<h.length;d++)h[d][1]!==null&&(p[0]+=h[d][0],p[1]+=h[d][1],p[2]+=h[d][0]*h[d][0]*h[d][1],p[3]+=h[d][1]*Math.log(h[d][1]),p[4]+=h[d][0]*h[d][1]*Math.log(h[d][1]),p[5]+=h[d][0]*h[d][1]);var m=p[1]*p[2]-p[5]*p[5],y=Math.exp((p[2]*p[3]-p[5]*p[4])/m),E=(p[1]*p[4]-p[5]*p[3])/m,S=c(y,g.precision),x=c(E,g.precision),M=function(C){return[c(C,g.precision),c(S*Math.exp(x*C),g.precision)]},D=h.map(function(k){return M(k[0])});return{points:D,predict:M,equation:[S,x],string:"y = "+S+"e^("+x+"x)",r2:c(f(h,D),g.precision)}},logarithmic:function(h,g){for(var p=[0,0,0,0],d=h.length,m=0;m<d;m++)h[m][1]!==null&&(p[0]+=Math.log(h[m][0]),p[1]+=h[m][1]*Math.log(h[m][0]),p[2]+=h[m][1],p[3]+=Math.pow(Math.log(h[m][0]),2));var y=(d*p[1]-p[2]*p[0])/(d*p[3]-p[0]*p[0]),E=c(y,g.precision),S=c((p[2]-E*p[0])/d,g.precision),x=function(k){return[c(k,g.precision),c(c(S+E*Math.log(k),g.precision),g.precision)]},M=h.map(function(D){return x(D[0])});return{points:M,predict:x,equation:[S,E],string:"y = "+S+" + "+E+" ln(x)",r2:c(f(h,M),g.precision)}},power:function(h,g){for(var p=[0,0,0,0,0],d=h.length,m=0;m<d;m++)h[m][1]!==null&&(p[0]+=Math.log(h[m][0]),p[1]+=Math.log(h[m][1])*Math.log(h[m][0]),p[2]+=Math.log(h[m][1]),p[3]+=Math.pow(Math.log(h[m][0]),2));var y=(d*p[1]-p[0]*p[2])/(d*p[3]-Math.pow(p[0],2)),E=(p[2]-y*p[0])/d,S=c(Math.exp(E),g.precision),x=c(y,g.precision),M=function(C){return[c(C,g.precision),c(c(S*Math.pow(C,x),g.precision),g.precision)]},D=h.map(function(k){return M(k[0])});return{points:D,predict:M,equation:[S,x],string:"y = "+S+"x^"+x,r2:c(f(h,D),g.precision)}},polynomial:function(h,g){for(var p=[],d=[],m=0,y=0,E=h.length,S=g.order+1,x=0;x<S;x++){for(var M=0;M<E;M++)h[M][1]!==null&&(m+=Math.pow(h[M][0],x)*h[M][1]);p.push(m),m=0;for(var D=[],k=0;k<S;k++){for(var C=0;C<E;C++)h[C][1]!==null&&(y+=Math.pow(h[C][0],x+k));D.push(y),y=0}d.push(D)}d.push(p);for(var O=s(d,S).map(function(w){return c(w,g.precision)}),L=function(b){return[c(b,g.precision),c(O.reduce(function(P,I,rr){return P+I*Math.pow(b,rr)},0),g.precision)]},N=h.map(function(w){return L(w[0])}),U="y = ",_=O.length-1;_>=0;_--)_>1?U+=O[_]+"x^"+_+" + ":_===1?U+=O[_]+"x + ":U+=O[_];return{string:U,points:N,predict:L,equation:[].concat(a(O)).reverse(),r2:c(f(h,N),g.precision)}}};function v(){var l=function(g,p){return i({_round:c},g,t({},p,function(d,m){return u[p](d,i({},o,m))}))};return Object.keys(u).reduce(l,{})}e.exports=v()})})(Qh);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});var P4=dr;Tt.default=function(r,n){for(var e=n||1,t=P4.__read(r,2),i=t[0],a=t[1],o=[],f=i;f<a;)o.push(f),f+=e;return o.push(a),o};var ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.nrd=ue.silverman=void 0;var Ml=Fn.exports;function R4(r){var n=Ml.standardDeviation(r),e=4*Math.pow(n,5),t=3*r.length;return Math.pow(e/t,.2)}ue.silverman=R4;function N4(r){var n=Ml.standardDeviation(r),e=Ml.interquartileRange(r);return typeof e=="number"&&(n=Math.min(n,e/1.34)),1.06*n*Math.pow(r.length,-.2)}ue.nrd=N4;Object.defineProperty(Kh,"__esModule",{value:!0});var ni=dr,k4=ni.__importDefault(Qh.exports),Hi=or,C4=ni.__importDefault(Tt),D4=ir,A4=Mr,L4=ue,I4={as:["x","y"],method:"linear",order:2,precision:2},bl=["linear","exponential","logarithmic","power","polynomial"];function O4(r,n){n=Hi.assign({},I4,n);var e=A4.getFields(n);if(!Hi.isArray(e)||e.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var t=ni.__read(e,2),i=t[0],a=t[1],o=n.method;if(bl.indexOf(o)===-1)throw new TypeError("invalid method: "+o+". Must be one of "+bl.join(", "));var f=r.rows.map(function(d){return[d[i],d[a]]}),s=k4.default[o](f,n),c=n.extent;(!Hi.isArray(c)||c.length!==2)&&(c=r.range(i));var u=n.bandwidth;(!Hi.isNumber(u)||u<=0)&&(u=L4.silverman(r.getColumn(i)));var v=C4.default(c,u),l=[],h=ni.__read(n.as,2),g=h[0],p=h[1];v.forEach(function(d){var m={},y=ni.__read(s.predict(d),2),E=y[0],S=y[1];m[g]=E,m[p]=S,isFinite(S)&&l.push(m)}),r.rows=l}D4.DataSet.registerTransform("regression",O4);Kh.default={REGRESSION_METHODS:bl};var Zh={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});function _0(r){return Math.abs(r)<=1?.5:0}function F4(r){var n=1-Math.pow(Math.abs(r),3);return Math.pow(n,3)}Si.default={boxcar:_0,cosine:function(r){return Math.abs(r)<=1?Math.PI/4*Math.cos(Math.PI/2*r):0},epanechnikov:function(r){return Math.abs(r)<1?.75*(1-r*r):0},gaussian:function(r){return .3989422804*Math.exp(-.5*r*r)},quartic:function(r){if(Math.abs(r)<1){var n=1-r*r;return 15/16*n*n}return 0},triangular:function(r){var n=Math.abs(r);return n<1?1-n:0},tricube:function(r){return Math.abs(r)<1?70/81*F4(r):0},triweight:function(r){if(Math.abs(r)<1){var n=1-r*r;return 35/32*n*n*n}return 0},uniform:_0};Object.defineProperty(Zh,"__esModule",{value:!0});var qe=dr,Zr=or,q4=qe.__importDefault(Tt),rg=qe.__importDefault(Si),fa=qe.__importStar(ue),z4=qe.__importDefault($n),mf=ir,B4=Mr,G4=Fn.exports,U4={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},Pl=Zr.keys(rg.default),V4=Zr.keys(fa);function yf(r,n){n=Zr.assign({},U4,n);var e=B4.getFields(n);if(!Zr.isArray(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var t=n.as;if(!Zr.isArray(t)||t.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var i=n.method;if(Zr.isString(i)){if(Pl.indexOf(i)===-1)throw new TypeError("invalid method: "+i+". Must be one of "+Pl.join(", "));i=rg.default[i]}if(!Zr.isFunction(i))throw new TypeError("invalid method: kernel method must be a function!");var a=n.extent;if(!Zr.isArray(a)||a.length===0){var o=[];Zr.each(e,function(l){var h=r.range(l);o=o.concat(h)}),a=[Math.min.apply(Math,qe.__spread(o)),Math.max.apply(Math,qe.__spread(o))]}var f=n.bandwidth;Zr.isString(f)&&fa[f]?f=fa[f](r.getColumn(e[0])):Zr.isFunction(f)?f=f(r.getColumn(e[0])):(!Zr.isNumber(f)||f<=0)&&(f=fa.nrd(r.getColumn(e[0])));var s=q4.default(a,n.step?n.step:f),c=[],u=n.groupBy,v=z4.default(r.rows,u);Zr.forIn(v,function(l){var h={};Zr.each(e,function(g){var p=Zr.pick(l[0],u);h[g]=G4.kernelDensityEstimation(l.map(function(S){return S[g]}),i,f);var d=qe.__read(t,3),m=d[0],y=d[1],E=d[2];p[m]=g,p[y]=[],p[E]=[],Zr.each(s,function(S){var x=h[g](S);x>=n.minSize&&(p[y].push(S),p[E].push(x))}),c.push(p)})}),r.rows=c}mf.DataSet.registerTransform("kernel-density-estimation",yf);mf.DataSet.registerTransform("kde",yf);mf.DataSet.registerTransform("KDE",yf);Zh.default={KERNEL_METHODS:Pl,BANDWIDTH_METHODS:V4};var An=dr,ji=or,wf=ir,H4=Mr,j4={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},T0=Math.sqrt(3),Ct=Math.PI/3,Y4=[0,Ct,2*Ct,3*Ct,4*Ct,5*Ct];function x0(r,n,e,t){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))}function $0(r,n,e){var t=r-e;n=n/2;var i=Math.floor(t/n),a=n*(i+(Math.abs(i%2)===1?1:0)),o=n*(i+(Math.abs(i%2)===1?0:1));return[a+e,o+e]}function X4(r,n,e){n===void 0&&(n=[1,1]),e===void 0&&(e=[0,0]);var t={},i=An.__read(n,2),a=i[0],o=i[1],f=An.__read(e,2),s=f[0],c=f[1];return r.forEach(function(u){var v,l,h=An.__read(u,2),g=h[0],p=h[1],d=An.__read($0(g,a,s),2),m=d[0],y=d[1],E=An.__read($0(p,o,c),2),S=E[0],x=E[1],M=x0(g,p,m,S),D=x0(g,p,y,x),k,C,O;M<D?(k="x"+m+"y"+S,v=An.__read([m,S],2),C=v[0],O=v[1]):(k="x"+y+"y"+x,l=An.__read([y,x],2),C=l[0],O=l[1]),t[k]=t[k]||{x:C,y:O,count:0},t[k].count++}),t}function Ef(r,n){n=ji.assign({},j4,n);var e=H4.getFields(n);if(!ji.isArray(e)||e.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var t=An.__read(e,2),i=t[0],a=t[1],o=r.range(i),f=r.range(a),s=o[1]-o[0],c=f[1]-f[0],u=n.binWidth||[];if(u.length!==2){var v=An.__read(n.bins,2),l=v[0],h=v[1];if(l<=0||h<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");u=[s/l,c/h]}var g=An.__read(n.offset,2),p=g[0],d=g[1],m=3*u[0]/(T0*u[1]),y=r.rows.map(function(N){return[N[i],m*N[a]]}),E=X4(y,[u[0],m*u[1]],[p,m*d]),S=An.__read(n.as,3),x=S[0],M=S[1],D=S[2];if(!x||!M||!D)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var k=u[0]/T0,C=Y4.map(function(N){return[Math.sin(N)*k,-Math.cos(N)*k]}),O=[],L=0;n.sizeByCount&&ji.forIn(E,function(N){N.count>L&&(L=N.count)}),ji.forIn(E,function(N){var U=N.x,_=N.y,w=N.count,b={};b[D]=w,n.sizeByCount?(b[x]=C.map(function(P){return U+N.count/L*P[0]}),b[M]=C.map(function(P){return(_+N.count/L*P[1])/m})):(b[x]=C.map(function(P){return U+P[0]}),b[M]=C.map(function(P){return(_+P[1])/m})),O.push(b)}),r.rows=O}wf.DataSet.registerTransform("bin.hexagon",Ef);wf.DataSet.registerTransform("bin.hex",Ef);wf.DataSet.registerTransform("hexbin",Ef);var Rl=dr,Dt=or,W4=Rl.__importDefault($n),ng=ir,J4=Mr,K4={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function Q4(r,n,e){var t=r-e,i=Math.floor(t/n);return[i*n+e,(i+1)*n+e]}function Z4(r){return Math.ceil(Math.log(r)/Math.LN2)+1}function eg(r,n){n=Dt.assign({},K4,n);var e=J4.getField(n);if(r.rows.length!==0){var t=r.range(e),i=t[1]-t[0],a=n.binWidth,o=n.bins;if(!a&&o){if(o<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/o}if(!a&&!o){var f=Z4(r.rows.length);a=i/f}var s=n.offset%a,c=[],u=n.groupBy,v=W4.default(r.rows,u);Dt.forIn(v,function(l){var h={},g=l.map(function(E){return E[e]});g.forEach(function(E){var S=Rl.__read(Q4(E,a,s),2),x=S[0],M=S[1],D=x+"-"+M;h[D]=h[D]||{x0:x,x1:M,count:0},h[D].count++});var p=Rl.__read(n.as,2),d=p[0],m=p[1];if(!d||!m)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var y=Dt.pick(l[0],u);Dt.forIn(h,function(E){var S=Dt.assign({},y);S[d]=[E.x0,E.x1],S[m]=E.count,c.push(S)})}),r.rows=c}}ng.DataSet.registerTransform("bin.histogram",eg);ng.DataSet.registerTransform("bin.dot",eg);var tg=dr,Yi=or,r9=Fn.exports,n9=tg.__importDefault($n),e9=tg.__importDefault($o),t9=ir,i9=t9.DataSet.registerTransform,a9=Mr,o9={as:"_bin",groupBy:[],fraction:4};function u9(r,n){n=Yi.assign({},o9,n);var e=a9.getField(n),t=n.as;if(!Yi.isString(t))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var i=n.p,a=n.fraction;(!Yi.isArray(i)||i.length===0)&&(i=e9.default(a));var o=r.rows,f=n.groupBy,s=n9.default(o,f),c=[];Yi.forIn(s,function(u){var v=u[0],l=u.map(function(g){return g[e]}),h=i.map(function(g){return r9.quantile(l,g)});v[t]=h,c.push(v)}),r.rows=c}i9("bin.quantile",u9);var Re=dr,Xi=or,l9=ir,ig=l9.DataSet.registerTransform,s9=Mr,f9={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function M0(r,n,e){var t=r-e,i=Math.floor(t/n);return[i*n+e,(i+1)*n+e]}function ag(r,n){n=Xi.assign({},f9,n);var e=Re.__read(s9.getFields(n),2),t=e[0],i=e[1];if(!t||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var a=r.range(t),o=r.range(i),f=a[1]-a[0],s=o[1]-o[0],c=n.binWidth||[];if(c.length!==2){var u=Re.__read(n.bins,2),v=u[0],l=u[1];if(v<=0||l<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");c=[f/v,s/l]}var h=r.rows.map(function(k){return[k[t],k[i]]}),g={},p=Re.__read(n.offset,2),d=p[0],m=p[1];h.forEach(function(k){var C=Re.__read(M0(k[0],c[0],d),2),O=C[0],L=C[1],N=Re.__read(M0(k[1],c[1],m),2),U=N[0],_=N[1],w=O+"-"+L+"-"+U+"-"+_;g[w]=g[w]||{x0:O,x1:L,y0:U,y1:_,count:0},g[w].count++});var y=[],E=Re.__read(n.as,3),S=E[0],x=E[1],M=E[2];if(!S||!x||!M)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!n.sizeByCount)Xi.forIn(g,function(k){var C={};C[S]=[k.x0,k.x1,k.x1,k.x0],C[x]=[k.y0,k.y0,k.y1,k.y1],C[M]=k.count,y.push(C)});else{var D=0;Xi.forIn(g,function(k){k.count>D&&(D=k.count)}),Xi.forIn(g,function(k){var C=k.x0,O=k.x1,L=k.y0,N=k.y1,U=k.count,_=U/D,w=Re.__read([(C+O)/2,(L+N)/2],2),b=w[0],P=w[1],I=(O-C)*_/2,rr=(N-L)*_/2,gr=b-I,ur=b+I,pr=P-rr,br=P+rr,Vr={};Vr[S]=[gr,ur,ur,gr],Vr[x]=[pr,pr,br,br],Vr[M]=U,y.push(Vr)})}r.rows=y}ig("bin.rectangle",ag);ig("bin.rect",ag);var Tu=or,c9=ir,v9=c9.DataSet.registerTransform,h9=Mr,g9={as:["_centroid_x","_centroid_y"]};function p9(r,n){n=Tu.assign({},g9,n);var e=h9.getField(n),t=n.geoView||n.geoDataView;if(Tu.isString(t)&&r.dataSet&&(t=r.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=n.as;if(!Tu.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var a=i[0],o=i[1];r.rows.forEach(function(f){var s=t.geoFeatureByName(f[e]);s&&(t._projectedAs?(f[a]=s[t._projectedAs[2]],f[o]=s[t._projectedAs[3]]):(f[a]=s.centroidX,f[o]=s.centroidY))})}v9("geo.centroid",p9);var Sf=dr,b0=or,d9=di,m9=Sf.__importDefault(gh),y9=ir,w9=y9.DataSet.registerTransform,E9=Sf.__importDefault(To),S9={as:["_x","_y","_centroid_x","_centroid_y"]};function _9(r,n){if(r.dataType!=="geo"&&r.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");n=b0.assign({},S9,n);var e=n.projection;if(!e)throw new TypeError("Invalid projection!");e=E9.default(e);var t=d9.geoPath(e),i=n.as;if(!b0.isArray(i)||i.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');r._projectedAs=i;var a=Sf.__read(i,4),o=a[0],f=a[1],s=a[2],c=a[3];r.rows.forEach(function(u){u[o]=[],u[f]=[];var v=t(u);if(v){var l=m9.default(v);l._path.forEach(function(g){u[o].push(g[1]),u[f].push(g[2])});var h=t.centroid(u);u[s]=h[0],u[c]=h[1]}}),r.rows=r.rows.filter(function(u){return u[o].length!==0})}w9("geo.projection",_9);var xu=or,T9=ir,x9=T9.DataSet.registerTransform,$9=Mr,M9={as:["_x","_y"]};function b9(r,n){n=xu.assign({},M9,n);var e=$9.getField(n),t=n.geoView||n.geoDataView;if(xu.isString(t)&&(t=r.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=n.as;if(!xu.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var a=i[0],o=i[1];r.rows.forEach(function(f){var s=t.geoFeatureByName(f[e]);s&&(t._projectedAs?(f[a]=s[t._projectedAs[0]],f[o]=s[t._projectedAs[1]]):(f[a]=s.longitude,f[o]=s.latitude))})}x9("geo.region",b9);var dt=or,og=ir,P9={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(r){return r.id},source:function(r){return r.source},target:function(r){return r.target},sourceWeight:function(r){return r.value||1},targetWeight:function(r){return r.value||1},sortBy:null};function R9(r,n,e){return e===void 0&&(e={}),r.forEach(function(t){var i=n.edgeSource(t),a=n.edgeTarget(t);e[i]||(e[i]={id:i}),e[a]||(e[a]={id:a})}),dt.values(e)}function N9(r,n,e){dt.forIn(r,function(t,i){t.inEdges=n.filter(function(a){return""+e.target(a)==""+i}),t.outEdges=n.filter(function(a){return""+e.source(a)==""+i}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(a){t.value+=e.targetWeight(a)}),t.outEdges.forEach(function(a){t.value+=e.sourceWeight(a)})})}function k9(r,n){var e={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+n.id(i)).localeCompare(""+n.id(a))}},t=e[n.sortBy];!t&&dt.isFunction(n.sortBy)&&(t=n.sortBy),t&&r.sort(t)}function C9(r,n){var e=r.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(n.weight){var t=n.marginRatio;if(t<0||t>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=t/(2*e),a=n.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;r.forEach(function(s){o+=s.value}),r.forEach(function(s){s.weight=s.value/o,s.width=s.weight*(1-t),s.height=a}),r.forEach(function(s,c){for(var u=0,v=c-1;v>=0;v--)u+=r[v].width+2*i;var l=s.minX=i+u,h=s.maxX=s.minX+s.width,g=s.minY=n.y-a/2,p=s.maxY=g+a;s.x=[l,h,h,l],s.y=[g,g,p,p]})}else{var f=1/e;r.forEach(function(s,c){s.x=(c+.5)*f,s.y=n.y})}}function D9(r,n,e){if(e.weight){var t={};dt.forIn(r,function(i,a){t[a]=i.value}),n.forEach(function(i){var a=e.source(i),o=e.target(i),f=r[a],s=r[o];if(f&&s){var c=t[a],u=e.sourceWeight(i),v=f.minX+(f.value-c)/f.value*f.width,l=v+u/f.value*f.width;t[a]-=u;var h=t[o],g=e.targetWeight(i),p=s.minX+(s.value-h)/s.value*s.width,d=p+g/s.value*s.width;t[o]-=g;var m=e.y;i.x=[v,l,p,d],i.y=[m,m,m,m]}})}else n.forEach(function(i){var a=r[e.source(i)],o=r[e.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y])})}function ug(r,n){n=dt.assign({},P9,n);var e={},t=r.nodes,i=r.edges;(!dt.isArray(t)||t.length===0)&&(t=R9(i,n,e)),t.forEach(function(a){var o=n.id(a);e[o]=a}),N9(e,i,n),k9(t,n),C9(t,n),D9(e,i,n),r.nodes=t,r.edges=i}og.DataSet.registerTransform("diagram.arc",ug);og.DataSet.registerTransform("arc",ug);var ro;if(typeof v1=="function")try{ro=require("graphlib")}catch{}ro||(ro=window.graphlib);var qn=ro,no;if(typeof v1=="function")try{no={cloneDeep:require("lodash/cloneDeep"),constant:require("lodash/constant"),defaults:require("lodash/defaults"),each:require("lodash/each"),filter:require("lodash/filter"),find:require("lodash/find"),flatten:require("lodash/flatten"),forEach:require("lodash/forEach"),forIn:require("lodash/forIn"),has:require("lodash/has"),isUndefined:require("lodash/isUndefined"),last:require("lodash/last"),map:require("lodash/map"),mapValues:require("lodash/mapValues"),max:require("lodash/max"),merge:require("lodash/merge"),min:require("lodash/min"),minBy:require("lodash/minBy"),now:require("lodash/now"),pick:require("lodash/pick"),range:require("lodash/range"),reduce:require("lodash/reduce"),sortBy:require("lodash/sortBy"),uniqueId:require("lodash/uniqueId"),values:require("lodash/values"),zipObject:require("lodash/zipObject")}}catch{}no||(no=window._);var Ir=no,A9=ko;function ko(){var r={};r._next=r._prev=r,this._sentinel=r}ko.prototype.dequeue=function(){var r=this._sentinel,n=r._prev;if(n!==r)return lg(n),n};ko.prototype.enqueue=function(r){var n=this._sentinel;r._prev&&r._next&&lg(r),r._next=n._next,n._next._prev=r,n._next=r,r._prev=n};ko.prototype.toString=function(){for(var r=[],n=this._sentinel,e=n._prev;e!==n;)r.push(JSON.stringify(e,L9)),e=e._prev;return"["+r.join(", ")+"]"};function lg(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function L9(r,n){if(r!=="_next"&&r!=="_prev")return n}var ee=Ir,I9=qn.Graph,O9=A9,F9=z9,q9=ee.constant(1);function z9(r,n){if(r.nodeCount()<=1)return[];var e=G9(r,n||q9),t=B9(e.graph,e.buckets,e.zeroIdx);return ee.flatten(ee.map(t,function(i){return r.outEdges(i.v,i.w)}),!0)}function B9(r,n,e){for(var t=[],i=n[n.length-1],a=n[0],o;r.nodeCount();){for(;o=a.dequeue();)$u(r,n,e,o);for(;o=i.dequeue();)$u(r,n,e,o);if(r.nodeCount()){for(var f=n.length-2;f>0;--f)if(o=n[f].dequeue(),o){t=t.concat($u(r,n,e,o,!0));break}}}return t}function $u(r,n,e,t,i){var a=i?[]:void 0;return ee.forEach(r.inEdges(t.v),function(o){var f=r.edge(o),s=r.node(o.v);i&&a.push({v:o.v,w:o.w}),s.out-=f,Nl(n,e,s)}),ee.forEach(r.outEdges(t.v),function(o){var f=r.edge(o),s=o.w,c=r.node(s);c.in-=f,Nl(n,e,c)}),r.removeNode(t.v),a}function G9(r,n){var e=new I9,t=0,i=0;ee.forEach(r.nodes(),function(f){e.setNode(f,{v:f,in:0,out:0})}),ee.forEach(r.edges(),function(f){var s=e.edge(f.v,f.w)||0,c=n(f),u=s+c;e.setEdge(f.v,f.w,u),i=Math.max(i,e.node(f.v).out+=c),t=Math.max(t,e.node(f.w).in+=c)});var a=ee.range(i+t+3).map(function(){return new O9}),o=t+1;return ee.forEach(e.nodes(),function(f){Nl(a,o,e.node(f))}),{graph:e,buckets:a,zeroIdx:o}}function Nl(r,n,e){e.out?e.in?r[e.out-e.in+n].enqueue(e):r[r.length-1].enqueue(e):r[0].enqueue(e)}var Oe=Ir,U9=F9,V9={run:H9,undo:Y9};function H9(r){var n=r.graph().acyclicer==="greedy"?U9(r,e(r)):j9(r);Oe.forEach(n,function(t){var i=r.edge(t);r.removeEdge(t),i.forwardName=t.name,i.reversed=!0,r.setEdge(t.w,t.v,i,Oe.uniqueId("rev"))});function e(t){return function(i){return t.edge(i).weight}}}function j9(r){var n=[],e={},t={};function i(a){Oe.has(t,a)||(t[a]=!0,e[a]=!0,Oe.forEach(r.outEdges(a),function(o){Oe.has(e,o.w)?n.push(o):i(o.w)}),delete e[a])}return Oe.forEach(r.nodes(),i),n}function Y9(r){Oe.forEach(r.edges(),function(n){var e=r.edge(n);if(e.reversed){r.removeEdge(n);var t=e.forwardName;delete e.reversed,delete e.forwardName,r.setEdge(n.w,n.v,e,t)}})}var $r=Ir,sg=qn.Graph,pn={addDummyNode:fg,simplify:X9,asNonCompoundGraph:W9,successorWeights:J9,predecessorWeights:K9,intersectRect:Q9,buildLayerMatrix:Z9,normalizeRanks:rE,removeEmptyRanks:nE,addBorderNode:eE,maxRank:cg,partition:tE,time:iE,notime:aE};function fg(r,n,e,t){var i;do i=$r.uniqueId(t);while(r.hasNode(i));return e.dummy=n,r.setNode(i,e),i}function X9(r){var n=new sg().setGraph(r.graph());return $r.forEach(r.nodes(),function(e){n.setNode(e,r.node(e))}),$r.forEach(r.edges(),function(e){var t=n.edge(e.v,e.w)||{weight:0,minlen:1},i=r.edge(e);n.setEdge(e.v,e.w,{weight:t.weight+i.weight,minlen:Math.max(t.minlen,i.minlen)})}),n}function W9(r){var n=new sg({multigraph:r.isMultigraph()}).setGraph(r.graph());return $r.forEach(r.nodes(),function(e){r.children(e).length||n.setNode(e,r.node(e))}),$r.forEach(r.edges(),function(e){n.setEdge(e,r.edge(e))}),n}function J9(r){var n=$r.map(r.nodes(),function(e){var t={};return $r.forEach(r.outEdges(e),function(i){t[i.w]=(t[i.w]||0)+r.edge(i).weight}),t});return $r.zipObject(r.nodes(),n)}function K9(r){var n=$r.map(r.nodes(),function(e){var t={};return $r.forEach(r.inEdges(e),function(i){t[i.v]=(t[i.v]||0)+r.edge(i).weight}),t});return $r.zipObject(r.nodes(),n)}function Q9(r,n){var e=r.x,t=r.y,i=n.x-e,a=n.y-t,o=r.width/2,f=r.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var s,c;return Math.abs(a)*o>Math.abs(i)*f?(a<0&&(f=-f),s=f*i/a,c=f):(i<0&&(o=-o),s=o,c=o*a/i),{x:e+s,y:t+c}}function Z9(r){var n=$r.map($r.range(cg(r)+1),function(){return[]});return $r.forEach(r.nodes(),function(e){var t=r.node(e),i=t.rank;$r.isUndefined(i)||(n[i][t.order]=e)}),n}function rE(r){var n=$r.min($r.map(r.nodes(),function(e){return r.node(e).rank}));$r.forEach(r.nodes(),function(e){var t=r.node(e);$r.has(t,"rank")&&(t.rank-=n)})}function nE(r){var n=$r.min($r.map(r.nodes(),function(a){return r.node(a).rank})),e=[];$r.forEach(r.nodes(),function(a){var o=r.node(a).rank-n;e[o]||(e[o]=[]),e[o].push(a)});var t=0,i=r.graph().nodeRankFactor;$r.forEach(e,function(a,o){$r.isUndefined(a)&&o%i!==0?--t:t&&$r.forEach(a,function(f){r.node(f).rank+=t})})}function eE(r,n,e,t){var i={width:0,height:0};return arguments.length>=4&&(i.rank=e,i.order=t),fg(r,"border",i,n)}function cg(r){return $r.max($r.map(r.nodes(),function(n){var e=r.node(n).rank;if(!$r.isUndefined(e))return e}))}function tE(r,n){var e={lhs:[],rhs:[]};return $r.forEach(r,function(t){n(t)?e.lhs.push(t):e.rhs.push(t)}),e}function iE(r,n){var e=$r.now();try{return n()}finally{console.log(r+" time: "+($r.now()-e)+"ms")}}function aE(r,n){return n()}var vg=Ir,oE=pn,uE={run:lE,undo:fE};function lE(r){r.graph().dummyChains=[],vg.forEach(r.edges(),function(n){sE(r,n)})}function sE(r,n){var e=n.v,t=r.node(e).rank,i=n.w,a=r.node(i).rank,o=n.name,f=r.edge(n),s=f.labelRank;if(a!==t+1){r.removeEdge(n);var c,u,v;for(v=0,++t;t<a;++v,++t)f.points=[],u={width:0,height:0,edgeLabel:f,edgeObj:n,rank:t},c=oE.addDummyNode(r,"edge",u,"_d"),t===s&&(u.width=f.width,u.height=f.height,u.dummy="edge-label",u.labelpos=f.labelpos),r.setEdge(e,c,{weight:f.weight},o),v===0&&r.graph().dummyChains.push(c),e=c;r.setEdge(e,i,{weight:f.weight},o)}}function fE(r){vg.forEach(r.graph().dummyChains,function(n){var e=r.node(n),t=e.edgeLabel,i;for(r.setEdge(e.edgeObj,t);e.dummy;)i=r.successors(n)[0],r.removeNode(n),t.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height),n=i,e=r.node(n)})}var Wi=Ir,Co={longestPath:cE,slack:vE};function cE(r){var n={};function e(t){var i=r.node(t);if(Wi.has(n,t))return i.rank;n[t]=!0;var a=Wi.min(Wi.map(r.outEdges(t),function(o){return e(o.w)-r.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Wi.forEach(r.sources(),e)}function vE(r,n){return r.node(n.w).rank-r.node(n.v).rank-r.edge(n).minlen}var eo=Ir,hE=qn.Graph,to=Co.slack,hg=gE;function gE(r){var n=new hE({directed:!1}),e=r.nodes()[0],t=r.nodeCount();n.setNode(e,{});for(var i,a;pE(n,r)<t;)i=dE(n,r),a=n.hasNode(i.v)?to(r,i):-to(r,i),mE(n,r,a);return n}function pE(r,n){function e(t){eo.forEach(n.nodeEdges(t),function(i){var a=i.v,o=t===a?i.w:a;!r.hasNode(o)&&!to(n,i)&&(r.setNode(o,{}),r.setEdge(t,o,{}),e(o))})}return eo.forEach(r.nodes(),e),r.nodeCount()}function dE(r,n){return eo.minBy(n.edges(),function(e){if(r.hasNode(e.v)!==r.hasNode(e.w))return to(n,e)})}function mE(r,n,e){eo.forEach(r.nodes(),function(t){n.node(t).rank+=e})}var le=Ir,yE=hg,wE=Co.slack,EE=Co.longestPath,SE=qn.alg.preorder,_E=qn.alg.postorder,TE=pn.simplify,xE=He;He.initLowLimValues=Tf;He.initCutValues=_f;He.calcCutValue=gg;He.leaveEdge=dg;He.enterEdge=mg;He.exchangeEdges=yg;function He(r){r=TE(r),EE(r);var n=yE(r);Tf(n),_f(n,r);for(var e,t;e=dg(n);)t=mg(n,r,e),yg(n,r,e,t)}function _f(r,n){var e=_E(r,r.nodes());e=e.slice(0,e.length-1),le.forEach(e,function(t){$E(r,n,t)})}function $E(r,n,e){var t=r.node(e),i=t.parent;r.edge(e,i).cutvalue=gg(r,n,e)}function gg(r,n,e){var t=r.node(e),i=t.parent,a=!0,o=n.edge(e,i),f=0;return o||(a=!1,o=n.edge(i,e)),f=o.weight,le.forEach(n.nodeEdges(e),function(s){var c=s.v===e,u=c?s.w:s.v;if(u!==i){var v=c===a,l=n.edge(s).weight;if(f+=v?l:-l,bE(r,e,u)){var h=r.edge(e,u).cutvalue;f+=v?-h:h}}}),f}function Tf(r,n){arguments.length<2&&(n=r.nodes()[0]),pg(r,{},1,n)}function pg(r,n,e,t,i){var a=e,o=r.node(t);return n[t]=!0,le.forEach(r.neighbors(t),function(f){le.has(n,f)||(e=pg(r,n,e,f,t))}),o.low=a,o.lim=e++,i?o.parent=i:delete o.parent,e}function dg(r){return le.find(r.edges(),function(n){return r.edge(n).cutvalue<0})}function mg(r,n,e){var t=e.v,i=e.w;n.hasEdge(t,i)||(t=e.w,i=e.v);var a=r.node(t),o=r.node(i),f=a,s=!1;a.lim>o.lim&&(f=o,s=!0);var c=le.filter(n.edges(),function(u){return s===P0(r,r.node(u.v),f)&&s!==P0(r,r.node(u.w),f)});return le.minBy(c,function(u){return wE(n,u)})}function yg(r,n,e,t){var i=e.v,a=e.w;r.removeEdge(i,a),r.setEdge(t.v,t.w,{}),Tf(r),_f(r,n),ME(r,n)}function ME(r,n){var e=le.find(r.nodes(),function(i){return!n.node(i).parent}),t=SE(r,e);t=t.slice(1),le.forEach(t,function(i){var a=r.node(i).parent,o=n.edge(i,a),f=!1;o||(o=n.edge(a,i),f=!0),n.node(i).rank=n.node(a).rank+(f?o.minlen:-o.minlen)})}function bE(r,n,e){return r.hasEdge(n,e)}function P0(r,n,e){return e.low<=n.lim&&n.lim<=e.lim}var PE=Co,wg=PE.longestPath,RE=hg,NE=xE,kE=CE;function CE(r){switch(r.graph().ranker){case"network-simplex":R0(r);break;case"tight-tree":AE(r);break;case"longest-path":DE(r);break;default:R0(r)}}var DE=wg;function AE(r){wg(r),RE(r)}function R0(r){NE(r)}var kl=Ir,LE=IE;function IE(r){var n=FE(r);kl.forEach(r.graph().dummyChains,function(e){for(var t=r.node(e),i=t.edgeObj,a=OE(r,n,i.v,i.w),o=a.path,f=a.lca,s=0,c=o[s],u=!0;e!==i.w;){if(t=r.node(e),u){for(;(c=o[s])!==f&&r.node(c).maxRank<t.rank;)s++;c===f&&(u=!1)}if(!u){for(;s<o.length-1&&r.node(c=o[s+1]).minRank<=t.rank;)s++;c=o[s]}r.setParent(e,c),e=r.successors(e)[0]}})}function OE(r,n,e,t){var i=[],a=[],o=Math.min(n[e].low,n[t].low),f=Math.max(n[e].lim,n[t].lim),s,c;s=e;do s=r.parent(s),i.push(s);while(s&&(n[s].low>o||f>n[s].lim));for(c=s,s=t;(s=r.parent(s))!==c;)a.push(s);return{path:i.concat(a.reverse()),lca:c}}function FE(r){var n={},e=0;function t(i){var a=e;kl.forEach(r.children(i),t),n[i]={low:a,lim:e++}}return kl.forEach(r.children(),t),n}var te=Ir,Cl=pn,qE={run:zE,cleanup:UE};function zE(r){var n=Cl.addDummyNode(r,"root",{},"_root"),e=BE(r),t=te.max(te.values(e))-1,i=2*t+1;r.graph().nestingRoot=n,te.forEach(r.edges(),function(o){r.edge(o).minlen*=i});var a=GE(r)+1;te.forEach(r.children(),function(o){Eg(r,n,i,a,t,e,o)}),r.graph().nodeRankFactor=i}function Eg(r,n,e,t,i,a,o){var f=r.children(o);if(!f.length){o!==n&&r.setEdge(n,o,{weight:0,minlen:e});return}var s=Cl.addBorderNode(r,"_bt"),c=Cl.addBorderNode(r,"_bb"),u=r.node(o);r.setParent(s,o),u.borderTop=s,r.setParent(c,o),u.borderBottom=c,te.forEach(f,function(v){Eg(r,n,e,t,i,a,v);var l=r.node(v),h=l.borderTop?l.borderTop:v,g=l.borderBottom?l.borderBottom:v,p=l.borderTop?t:2*t,d=h!==g?1:i-a[o]+1;r.setEdge(s,h,{weight:p,minlen:d,nestingEdge:!0}),r.setEdge(g,c,{weight:p,minlen:d,nestingEdge:!0})}),r.parent(o)||r.setEdge(n,s,{weight:0,minlen:i+a[o]})}function BE(r){var n={};function e(t,i){var a=r.children(t);a&&a.length&&te.forEach(a,function(o){e(o,i+1)}),n[t]=i}return te.forEach(r.children(),function(t){e(t,1)}),n}function GE(r){return te.reduce(r.edges(),function(n,e){return n+r.edge(e).weight},0)}function UE(r){var n=r.graph();r.removeNode(n.nestingRoot),delete n.nestingRoot,te.forEach(r.edges(),function(e){var t=r.edge(e);t.nestingEdge&&r.removeEdge(e)})}var Mu=Ir,VE=pn,HE=jE;function jE(r){function n(e){var t=r.children(e),i=r.node(e);if(t.length&&Mu.forEach(t,n),Mu.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)N0(r,"borderLeft","_bl",e,i,a),N0(r,"borderRight","_br",e,i,a)}}Mu.forEach(r.children(),n)}function N0(r,n,e,t,i,a){var o={width:0,height:0,rank:a,borderType:n},f=i[n][a-1],s=VE.addDummyNode(r,"border",o,e);i[n][a]=s,r.setParent(s,t),f&&r.setEdge(f,s,{weight:1})}var jn=Ir,YE={adjust:XE,undo:WE};function XE(r){var n=r.graph().rankdir.toLowerCase();(n==="lr"||n==="rl")&&Sg(r)}function WE(r){var n=r.graph().rankdir.toLowerCase();(n==="bt"||n==="rl")&&JE(r),(n==="lr"||n==="rl")&&(KE(r),Sg(r))}function Sg(r){jn.forEach(r.nodes(),function(n){k0(r.node(n))}),jn.forEach(r.edges(),function(n){k0(r.edge(n))})}function k0(r){var n=r.width;r.width=r.height,r.height=n}function JE(r){jn.forEach(r.nodes(),function(n){bu(r.node(n))}),jn.forEach(r.edges(),function(n){var e=r.edge(n);jn.forEach(e.points,bu),jn.has(e,"y")&&bu(e)})}function bu(r){r.y=-r.y}function KE(r){jn.forEach(r.nodes(),function(n){Pu(r.node(n))}),jn.forEach(r.edges(),function(n){var e=r.edge(n);jn.forEach(e.points,Pu),jn.has(e,"x")&&Pu(e)})}function Pu(r){var n=r.x;r.x=r.y,r.y=n}var Qn=Ir,QE=ZE;function ZE(r){var n={},e=Qn.filter(r.nodes(),function(f){return!r.children(f).length}),t=Qn.max(Qn.map(e,function(f){return r.node(f).rank})),i=Qn.map(Qn.range(t+1),function(){return[]});function a(f){if(!Qn.has(n,f)){n[f]=!0;var s=r.node(f);i[s.rank].push(f),Qn.forEach(r.successors(f),a)}}var o=Qn.sortBy(e,function(f){return r.node(f).rank});return Qn.forEach(o,a),i}var ce=Ir,r6=n6;function n6(r,n){for(var e=0,t=1;t<n.length;++t)e+=e6(r,n[t-1],n[t]);return e}function e6(r,n,e){for(var t=ce.zipObject(e,ce.map(e,function(c,u){return u})),i=ce.flatten(ce.map(n,function(c){return ce.sortBy(ce.map(r.outEdges(c),function(u){return{pos:t[u.w],weight:r.edge(u).weight}}),"pos")}),!0),a=1;a<e.length;)a<<=1;var o=2*a-1;a-=1;var f=ce.map(new Array(o),function(){return 0}),s=0;return ce.forEach(i.forEach(function(c){var u=c.pos+a;f[u]+=c.weight;for(var v=0;u>0;)u%2&&(v+=f[u+1]),u=u-1>>1,f[u]+=c.weight;s+=c.weight*v})),s}var C0=Ir,t6=i6;function i6(r,n){return C0.map(n,function(e){var t=r.inEdges(e);if(t.length){var i=C0.reduce(t,function(a,o){var f=r.edge(o),s=r.node(o.v);return{sum:a.sum+f.weight*s.order,weight:a.weight+f.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:e}})}var En=Ir,a6=o6;function o6(r,n){var e={};En.forEach(r,function(i,a){var o=e[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};En.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),En.forEach(n.edges(),function(i){var a=e[i.v],o=e[i.w];!En.isUndefined(a)&&!En.isUndefined(o)&&(o.indegree++,a.out.push(e[i.w]))});var t=En.filter(e,function(i){return!i.indegree});return u6(t)}function u6(r){var n=[];function e(a){return function(o){o.merged||(En.isUndefined(o.barycenter)||En.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&l6(a,o)}}function t(a){return function(o){o.in.push(a),--o.indegree===0&&r.push(o)}}for(;r.length;){var i=r.pop();n.push(i),En.forEach(i.in.reverse(),e(i)),En.forEach(i.out,t(i))}return En.map(En.filter(n,function(a){return!a.merged}),function(a){return En.pick(a,["vs","i","barycenter","weight"])})}function l6(r,n){var e=0,t=0;r.weight&&(e+=r.barycenter*r.weight,t+=r.weight),n.weight&&(e+=n.barycenter*n.weight,t+=n.weight),r.vs=n.vs.concat(r.vs),r.barycenter=e/t,r.weight=t,r.i=Math.min(n.i,r.i),n.merged=!0}var jt=Ir,s6=pn,f6=c6;function c6(r,n){var e=s6.partition(r,function(u){return jt.has(u,"barycenter")}),t=e.lhs,i=jt.sortBy(e.rhs,function(u){return-u.i}),a=[],o=0,f=0,s=0;t.sort(v6(!!n)),s=D0(a,i,s),jt.forEach(t,function(u){s+=u.vs.length,a.push(u.vs),o+=u.barycenter*u.weight,f+=u.weight,s=D0(a,i,s)});var c={vs:jt.flatten(a,!0)};return f&&(c.barycenter=o/f,c.weight=f),c}function D0(r,n,e){for(var t;n.length&&(t=jt.last(n)).i<=e;)n.pop(),r.push(t.vs),e++;return e}function v6(r){return function(n,e){return n.barycenter<e.barycenter?-1:n.barycenter>e.barycenter?1:r?e.i-n.i:n.i-e.i}}var pe=Ir,h6=t6,g6=a6,p6=f6,d6=_g;function _g(r,n,e,t){var i=r.children(n),a=r.node(n),o=a?a.borderLeft:void 0,f=a?a.borderRight:void 0,s={};o&&(i=pe.filter(i,function(g){return g!==o&&g!==f}));var c=h6(r,i);pe.forEach(c,function(g){if(r.children(g.v).length){var p=_g(r,g.v,e,t);s[g.v]=p,pe.has(p,"barycenter")&&y6(g,p)}});var u=g6(c,e);m6(u,s);var v=p6(u,t);if(o&&(v.vs=pe.flatten([o,v.vs,f],!0),r.predecessors(o).length)){var l=r.node(r.predecessors(o)[0]),h=r.node(r.predecessors(f)[0]);pe.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+l.order+h.order)/(v.weight+2),v.weight+=2}return v}function m6(r,n){pe.forEach(r,function(e){e.vs=pe.flatten(e.vs.map(function(t){return n[t]?n[t].vs:t}),!0)})}function y6(r,n){pe.isUndefined(r.barycenter)?(r.barycenter=n.barycenter,r.weight=n.weight):(r.barycenter=(r.barycenter*r.weight+n.barycenter*n.weight)/(r.weight+n.weight),r.weight+=n.weight)}var Yt=Ir,w6=qn.Graph,E6=S6;function S6(r,n,e){var t=_6(r),i=new w6({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(a){return r.node(a)});return Yt.forEach(r.nodes(),function(a){var o=r.node(a),f=r.parent(a);(o.rank===n||o.minRank<=n&&n<=o.maxRank)&&(i.setNode(a),i.setParent(a,f||t),Yt.forEach(r[e](a),function(s){var c=s.v===a?s.w:s.v,u=i.edge(c,a),v=Yt.isUndefined(u)?0:u.weight;i.setEdge(c,a,{weight:r.edge(s).weight+v})}),Yt.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[n],borderRight:o.borderRight[n]}))}),i}function _6(r){for(var n;r.hasNode(n=Yt.uniqueId("_root")););return n}var T6=Ir,x6=$6;function $6(r,n,e){var t={},i;T6.forEach(e,function(a){for(var o=r.parent(a),f,s;o;){if(f=r.parent(o),f?(s=t[f],t[f]=o):(s=i,i=o),s&&s!==o){n.setEdge(s,o);return}o=f}})}var ye=Ir,M6=QE,b6=r6,P6=d6,R6=E6,N6=x6,k6=qn.Graph,A0=pn,C6=D6;function D6(r){var n=A0.maxRank(r),e=L0(r,ye.range(1,n+1),"inEdges"),t=L0(r,ye.range(n-1,-1,-1),"outEdges"),i=M6(r);I0(r,i);for(var a=Number.POSITIVE_INFINITY,o,f=0,s=0;s<4;++f,++s){A6(f%2?e:t,f%4>=2),i=A0.buildLayerMatrix(r);var c=b6(r,i);c<a&&(s=0,o=ye.cloneDeep(i),a=c)}I0(r,o)}function L0(r,n,e){return ye.map(n,function(t){return R6(r,t,e)})}function A6(r,n){var e=new k6;ye.forEach(r,function(t){var i=t.graph().root,a=P6(t,i,e,n);ye.forEach(a.vs,function(o,f){t.node(o).order=f}),N6(t,e,a.vs)})}function I0(r,n){ye.forEach(n,function(e){ye.forEach(e,function(t,i){r.node(t).order=i})})}var lr=Ir,L6=qn.Graph,I6=pn,O6={positionX:z6,findType1Conflicts:Tg,findType2Conflicts:xg,addConflict:xf,hasConflict:$g,verticalAlignment:Mg,horizontalCompaction:bg,alignCoordinates:Rg,findSmallestWidthAlignment:Pg,balance:Ng};function Tg(r,n){var e={};function t(i,a){var o=0,f=0,s=i.length,c=lr.last(a);return lr.forEach(a,function(u,v){var l=F6(r,u),h=l?r.node(l).order:s;(l||u===c)&&(lr.forEach(a.slice(f,v+1),function(g){lr.forEach(r.predecessors(g),function(p){var d=r.node(p),m=d.order;(m<o||h<m)&&!(d.dummy&&r.node(g).dummy)&&xf(e,p,g)})}),f=v+1,o=h)}),a}return lr.reduce(n,t),e}function xg(r,n){var e={};function t(a,o,f,s,c){var u;lr.forEach(lr.range(o,f),function(v){u=a[v],r.node(u).dummy&&lr.forEach(r.predecessors(u),function(l){var h=r.node(l);h.dummy&&(h.order<s||h.order>c)&&xf(e,l,u)})})}function i(a,o){var f=-1,s,c=0;return lr.forEach(o,function(u,v){if(r.node(u).dummy==="border"){var l=r.predecessors(u);l.length&&(s=r.node(l[0]).order,t(o,c,v,f,s),c=v,f=s)}t(o,c,o.length,s,a.length)}),o}return lr.reduce(n,i),e}function F6(r,n){if(r.node(n).dummy)return lr.find(r.predecessors(n),function(e){return r.node(e).dummy})}function xf(r,n,e){if(n>e){var t=n;n=e,e=t}var i=r[n];i||(r[n]=i={}),i[e]=!0}function $g(r,n,e){if(n>e){var t=n;n=e,e=t}return lr.has(r[n],e)}function Mg(r,n,e,t){var i={},a={},o={};return lr.forEach(n,function(f){lr.forEach(f,function(s,c){i[s]=s,a[s]=s,o[s]=c})}),lr.forEach(n,function(f){var s=-1;lr.forEach(f,function(c){var u=t(c);if(u.length){u=lr.sortBy(u,function(p){return o[p]});for(var v=(u.length-1)/2,l=Math.floor(v),h=Math.ceil(v);l<=h;++l){var g=u[l];a[c]===c&&s<o[g]&&!$g(e,c,g)&&(a[g]=c,a[c]=i[c]=i[g],s=o[g])}}})}),{root:i,align:a}}function bg(r,n,e,t,i){var a={},o=q6(r,n,e,i),f=i?"borderLeft":"borderRight";function s(v,l){for(var h=o.nodes(),g=h.pop(),p={};g;)p[g]?v(g):(p[g]=!0,h.push(g),h=h.concat(l(g))),g=h.pop()}function c(v){a[v]=o.inEdges(v).reduce(function(l,h){return Math.max(l,a[h.v]+o.edge(h))},0)}function u(v){var l=o.outEdges(v).reduce(function(g,p){return Math.min(g,a[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=r.node(v);l!==Number.POSITIVE_INFINITY&&h.borderType!==f&&(a[v]=Math.max(a[v],l))}return s(c,o.predecessors.bind(o)),s(u,o.successors.bind(o)),lr.forEach(t,function(v){a[v]=a[e[v]]}),a}function q6(r,n,e,t){var i=new L6,a=r.graph(),o=B6(a.nodesep,a.edgesep,t);return lr.forEach(n,function(f){var s;lr.forEach(f,function(c){var u=e[c];if(i.setNode(u),s){var v=e[s],l=i.edge(v,u);i.setEdge(v,u,Math.max(o(r,c,s),l||0))}s=c})}),i}function Pg(r,n){return lr.minBy(lr.values(n),function(e){var t=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return lr.forIn(e,function(a,o){var f=G6(r,o)/2;t=Math.max(a+f,t),i=Math.min(a-f,i)}),t-i})}function Rg(r,n){var e=lr.values(n),t=lr.min(e),i=lr.max(e);lr.forEach(["u","d"],function(a){lr.forEach(["l","r"],function(o){var f=a+o,s=r[f],c;if(s!==n){var u=lr.values(s);c=o==="l"?t-lr.min(u):i-lr.max(u),c&&(r[f]=lr.mapValues(s,function(v){return v+c}))}})})}function Ng(r,n){return lr.mapValues(r.ul,function(e,t){if(n)return r[n.toLowerCase()][t];var i=lr.sortBy(lr.map(r,t));return(i[1]+i[2])/2})}function z6(r){var n=I6.buildLayerMatrix(r),e=lr.merge(Tg(r,n),xg(r,n)),t={},i;lr.forEach(["u","d"],function(o){i=o==="u"?n:lr.values(n).reverse(),lr.forEach(["l","r"],function(f){f==="r"&&(i=lr.map(i,function(v){return lr.values(v).reverse()}));var s=(o==="u"?r.predecessors:r.successors).bind(r),c=Mg(r,i,e,s),u=bg(r,i,c.root,c.align,f==="r");f==="r"&&(u=lr.mapValues(u,function(v){return-v})),t[o+f]=u})});var a=Pg(r,t);return Rg(t,a),Ng(t,r.graph().align)}function B6(r,n,e){return function(t,i,a){var o=t.node(i),f=t.node(a),s=0,c;if(s+=o.width/2,lr.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(s+=e?c:-c),c=0,s+=(o.dummy?n:r)/2,s+=(f.dummy?n:r)/2,s+=f.width/2,lr.has(f,"labelpos"))switch(f.labelpos.toLowerCase()){case"l":c=f.width/2;break;case"r":c=-f.width/2;break}return c&&(s+=e?c:-c),c=0,s}}function G6(r,n){return r.node(n).width}var Xt=Ir,kg=pn,U6=O6.positionX,V6=H6;function H6(r){r=kg.asNonCompoundGraph(r),j6(r),Xt.forEach(U6(r),function(n,e){r.node(e).x=n})}function j6(r){var n=kg.buildLayerMatrix(r),e=r.graph().ranksep,t=0;Xt.forEach(n,function(i){var a=Xt.max(Xt.map(i,function(o){return r.node(o).height}));Xt.forEach(i,function(o){r.node(o).y=t+a/2}),t+=a+e})}var hr=Ir,O0=V9,F0=uE,Y6=kE,X6=pn.normalizeRanks,W6=LE,J6=pn.removeEmptyRanks,q0=qE,K6=HE,z0=YE,Q6=C6,Z6=V6,_e=pn,r8=qn.Graph,n8=e8;function e8(r,n){var e=n&&n.debugTiming?_e.time:_e.notime;e("layout",function(){var t=e("  buildLayoutGraph",function(){return h8(r)});e("  runLayout",function(){t8(t,e)}),e("  updateInputGraph",function(){i8(r,t)})})}function t8(r,n){n("    makeSpaceForEdgeLabels",function(){g8(r)}),n("    removeSelfEdges",function(){T8(r)}),n("    acyclic",function(){O0.run(r)}),n("    nestingGraph.run",function(){q0.run(r)}),n("    rank",function(){Y6(_e.asNonCompoundGraph(r))}),n("    injectEdgeLabelProxies",function(){p8(r)}),n("    removeEmptyRanks",function(){J6(r)}),n("    nestingGraph.cleanup",function(){q0.cleanup(r)}),n("    normalizeRanks",function(){X6(r)}),n("    assignRankMinMax",function(){d8(r)}),n("    removeEdgeLabelProxies",function(){m8(r)}),n("    normalize.run",function(){F0.run(r)}),n("    parentDummyChains",function(){W6(r)}),n("    addBorderSegments",function(){K6(r)}),n("    order",function(){Q6(r)}),n("    insertSelfEdges",function(){x8(r)}),n("    adjustCoordinateSystem",function(){z0.adjust(r)}),n("    position",function(){Z6(r)}),n("    positionSelfEdges",function(){$8(r)}),n("    removeBorderNodes",function(){_8(r)}),n("    normalize.undo",function(){F0.undo(r)}),n("    fixupEdgeLabelCoords",function(){E8(r)}),n("    undoCoordinateSystem",function(){z0.undo(r)}),n("    translateGraph",function(){y8(r)}),n("    assignNodeIntersects",function(){w8(r)}),n("    reversePoints",function(){S8(r)}),n("    acyclic.undo",function(){O0.undo(r)})}function i8(r,n){hr.forEach(r.nodes(),function(e){var t=r.node(e),i=n.node(e);t&&(t.x=i.x,t.y=i.y,n.children(e).length&&(t.width=i.width,t.height=i.height))}),hr.forEach(r.edges(),function(e){var t=r.edge(e),i=n.edge(e);t.points=i.points,hr.has(i,"x")&&(t.x=i.x,t.y=i.y)}),r.graph().width=n.graph().width,r.graph().height=n.graph().height}var a8=["nodesep","edgesep","ranksep","marginx","marginy"],o8={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},u8=["acyclicer","ranker","rankdir","align"],l8=["width","height"],s8={width:0,height:0},f8=["minlen","weight","width","height","labeloffset"],c8={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},v8=["labelpos"];function h8(r){var n=new r8({multigraph:!0,compound:!0}),e=Nu(r.graph());return n.setGraph(hr.merge({},o8,Ru(e,a8),hr.pick(e,u8))),hr.forEach(r.nodes(),function(t){var i=Nu(r.node(t));n.setNode(t,hr.defaults(Ru(i,l8),s8)),n.setParent(t,r.parent(t))}),hr.forEach(r.edges(),function(t){var i=Nu(r.edge(t));n.setEdge(t,hr.merge({},c8,Ru(i,f8),hr.pick(i,v8)))}),n}function g8(r){var n=r.graph();n.ranksep/=2,hr.forEach(r.edges(),function(e){var t=r.edge(e);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(n.rankdir==="TB"||n.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function p8(r){hr.forEach(r.edges(),function(n){var e=r.edge(n);if(e.width&&e.height){var t=r.node(n.v),i=r.node(n.w),a={rank:(i.rank-t.rank)/2+t.rank,e:n};_e.addDummyNode(r,"edge-proxy",a,"_ep")}})}function d8(r){var n=0;hr.forEach(r.nodes(),function(e){var t=r.node(e);t.borderTop&&(t.minRank=r.node(t.borderTop).rank,t.maxRank=r.node(t.borderBottom).rank,n=hr.max(n,t.maxRank))}),r.graph().maxRank=n}function m8(r){hr.forEach(r.nodes(),function(n){var e=r.node(n);e.dummy==="edge-proxy"&&(r.edge(e.e).labelRank=e.rank,r.removeNode(n))})}function y8(r){var n=Number.POSITIVE_INFINITY,e=0,t=Number.POSITIVE_INFINITY,i=0,a=r.graph(),o=a.marginx||0,f=a.marginy||0;function s(c){var u=c.x,v=c.y,l=c.width,h=c.height;n=Math.min(n,u-l/2),e=Math.max(e,u+l/2),t=Math.min(t,v-h/2),i=Math.max(i,v+h/2)}hr.forEach(r.nodes(),function(c){s(r.node(c))}),hr.forEach(r.edges(),function(c){var u=r.edge(c);hr.has(u,"x")&&s(u)}),n-=o,t-=f,hr.forEach(r.nodes(),function(c){var u=r.node(c);u.x-=n,u.y-=t}),hr.forEach(r.edges(),function(c){var u=r.edge(c);hr.forEach(u.points,function(v){v.x-=n,v.y-=t}),hr.has(u,"x")&&(u.x-=n),hr.has(u,"y")&&(u.y-=t)}),a.width=e-n+o,a.height=i-t+f}function w8(r){hr.forEach(r.edges(),function(n){var e=r.edge(n),t=r.node(n.v),i=r.node(n.w),a,o;e.points?(a=e.points[0],o=e.points[e.points.length-1]):(e.points=[],a=i,o=t),e.points.unshift(_e.intersectRect(t,a)),e.points.push(_e.intersectRect(i,o))})}function E8(r){hr.forEach(r.edges(),function(n){var e=r.edge(n);if(hr.has(e,"x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function S8(r){hr.forEach(r.edges(),function(n){var e=r.edge(n);e.reversed&&e.points.reverse()})}function _8(r){hr.forEach(r.nodes(),function(n){if(r.children(n).length){var e=r.node(n),t=r.node(e.borderTop),i=r.node(e.borderBottom),a=r.node(hr.last(e.borderLeft)),o=r.node(hr.last(e.borderRight));e.width=Math.abs(o.x-a.x),e.height=Math.abs(i.y-t.y),e.x=a.x+e.width/2,e.y=t.y+e.height/2}}),hr.forEach(r.nodes(),function(n){r.node(n).dummy==="border"&&r.removeNode(n)})}function T8(r){hr.forEach(r.edges(),function(n){if(n.v===n.w){var e=r.node(n.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:n,label:r.edge(n)}),r.removeEdge(n)}})}function x8(r){var n=_e.buildLayerMatrix(r);hr.forEach(n,function(e){var t=0;hr.forEach(e,function(i,a){var o=r.node(i);o.order=a+t,hr.forEach(o.selfEdges,function(f){_e.addDummyNode(r,"selfedge",{width:f.label.width,height:f.label.height,rank:o.rank,order:a+ ++t,e:f.e,label:f.label},"_se")}),delete o.selfEdges})})}function $8(r){hr.forEach(r.nodes(),function(n){var e=r.node(n);if(e.dummy==="selfedge"){var t=r.node(e.e.v),i=t.x+t.width/2,a=t.y,o=e.x-i,f=t.height/2;r.setEdge(e.e,e.label),r.removeNode(n),e.label.points=[{x:i+2*o/3,y:a-f},{x:i+5*o/6,y:a-f},{x:i+o,y:a},{x:i+5*o/6,y:a+f},{x:i+2*o/3,y:a+f}],e.label.x=e.x,e.label.y=e.y}})}function Ru(r,n){return hr.mapValues(hr.pick(r,n),Number)}function Nu(r){var n={};return hr.forEach(r,function(e,t){n[t.toLowerCase()]=e}),n}var Ji=Ir,M8=pn,b8=qn.Graph,P8={debugOrdering:R8};function R8(r){var n=M8.buildLayerMatrix(r),e=new b8({compound:!0,multigraph:!0}).setGraph({});return Ji.forEach(r.nodes(),function(t){e.setNode(t,{label:t}),e.setParent(t,"layer"+r.node(t).rank)}),Ji.forEach(r.edges(),function(t){e.setEdge(t.v,t.w,{},t.name)}),Ji.forEach(n,function(t,i){var a="layer"+i;e.setNode(a,{rank:"same"}),Ji.reduce(t,function(o,f){return e.setEdge(o,f,{style:"invis"}),f})}),e}var N8="0.8.5",k8={graphlib:qn,layout:n8,debug:P8,util:{time:pn.time,notime:pn.notime},version:N8},C8=dr,D8=or,B0=C8.__importDefault(k8),Cg=ir,A8={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(r){return r.source},target:function(r){return r.target}};function Dg(r,n){n=D8.assign({},A8,n);var e=new B0.default.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),r.nodes.forEach(function(a){var o=n.nodeId?n.nodeId(a):a.id;!a.height&&!a.width&&(a.height=a.width=n.edgesep),e.setNode(o,a)}),r.edges.forEach(function(a){e.setEdge(n.source(a),n.target(a))}),B0.default.layout(e);var t=[],i=[];e.nodes().forEach(function(a){var o=e.node(a),f=o.x,s=o.y,c=o.height,u=o.width;o.x=[f-u/2,f+u/2,f+u/2,f-u/2],o.y=[s+c/2,s+c/2,s-c/2,s-c/2],t.push(o)}),e.edges().forEach(function(a){var o=e.edge(a).points,f={};f.x=o.map(function(s){return s.x}),f.y=o.map(function(s){return s.y}),i.push(f)}),r.nodes=t,r.edges=i}Cg.DataSet.registerTransform("diagram.dagre",Dg);Cg.DataSet.registerTransform("dagre",Dg);var Mn="$";function io(){}io.prototype=_i.prototype={constructor:io,has:function(r){return Mn+r in this},get:function(r){return this[Mn+r]},set:function(r,n){return this[Mn+r]=n,this},remove:function(r){var n=Mn+r;return n in this&&delete this[n]},clear:function(){for(var r in this)r[0]===Mn&&delete this[r]},keys:function(){var r=[];for(var n in this)n[0]===Mn&&r.push(n.slice(1));return r},values:function(){var r=[];for(var n in this)n[0]===Mn&&r.push(this[n]);return r},entries:function(){var r=[];for(var n in this)n[0]===Mn&&r.push({key:n.slice(1),value:this[n]});return r},size:function(){var r=0;for(var n in this)n[0]===Mn&&++r;return r},empty:function(){for(var r in this)if(r[0]===Mn)return!1;return!0},each:function(r){for(var n in this)n[0]===Mn&&r(this[n],n.slice(1),this)}};function _i(r,n){var e=new io;if(r instanceof io)r.each(function(f,s){e.set(s,f)});else if(Array.isArray(r)){var t=-1,i=r.length,a;if(n==null)for(;++t<i;)e.set(t,r[t]);else for(;++t<i;)e.set(n(a=r[t],t,r),a)}else if(r)for(var o in r)e.set(o,r[o]);return e}function L8(){var r=[],n=[],e,t,i;function a(f,s,c,u){if(s>=r.length)return e!=null&&f.sort(e),t!=null?t(f):f;for(var v=-1,l=f.length,h=r[s++],g,p,d=_i(),m,y=c();++v<l;)(m=d.get(g=h(p=f[v])+""))?m.push(p):d.set(g,[p]);return d.each(function(E,S){u(y,S,a(E,s,c,u))}),y}function o(f,s){if(++s>r.length)return f;var c,u=n[s-1];return t!=null&&s>=r.length?c=f.entries():(c=[],f.each(function(v,l){c.push({key:l,values:o(v,s)})})),u!=null?c.sort(function(v,l){return u(v.key,l.key)}):c}return i={object:function(f){return a(f,0,I8,O8)},map:function(f){return a(f,0,G0,U0)},entries:function(f){return o(a(f,0,G0,U0),0)},key:function(f){return r.push(f),i},sortKeys:function(f){return n[r.length-1]=f,i},sortValues:function(f){return e=f,i},rollup:function(f){return t=f,i}}}function I8(){return{}}function O8(r,n,e){r[n]=e}function G0(){return _i()}function U0(r,n,e){r.set(n,e)}function V0(){}var Ne=_i.prototype;V0.prototype={constructor:V0,has:Ne.has,add:function(r){return r+="",this[Mn+r]=r,this},remove:Ne.remove,clear:Ne.clear,values:Ne.keys,size:Ne.size,empty:Ne.empty,each:Ne.each};function F8(r){return r.target.depth}function q8(r){return r.depth}function z8(r,n){return n-1-r.height}function Ag(r,n){return r.sourceLinks.length?r.depth:n-1}function B8(r){return r.targetLinks.length?r.depth:r.sourceLinks.length?en(r.sourceLinks,F8)-1:0}function Ki(r){return function(){return r}}function H0(r,n){return $f(r.source,n.source)||r.index-n.index}function j0(r,n){return $f(r.target,n.target)||r.index-n.index}function $f(r,n){return r.y0-n.y0}function ku(r){return r.value}function G8(r){return r.index}function U8(r){return r.nodes}function V8(r){return r.links}function Y0(r,n){var e=r.get(n);if(!e)throw new Error("missing: "+n);return e}function H8(){var r=0,n=0,e=1,t=1,i=24,a=8,o=G8,f=Ag,s,c=U8,u=V8,v=6;function l(){var y={nodes:c.apply(null,arguments),links:u.apply(null,arguments)};return h(y),g(y),p(y),d(y),m(y),y}l.update=function(y){return m(y),y},l.nodeId=function(y){return arguments.length?(o=typeof y=="function"?y:Ki(y),l):o},l.nodeAlign=function(y){return arguments.length?(f=typeof y=="function"?y:Ki(y),l):f},l.nodeSort=function(y){return arguments.length?(s=y,l):s},l.nodeWidth=function(y){return arguments.length?(i=+y,l):i},l.nodePadding=function(y){return arguments.length?(a=+y,l):a},l.nodes=function(y){return arguments.length?(c=typeof y=="function"?y:Ki(y),l):c},l.links=function(y){return arguments.length?(u=typeof y=="function"?y:Ki(y),l):u},l.size=function(y){return arguments.length?(r=n=0,e=+y[0],t=+y[1],l):[e-r,t-n]},l.extent=function(y){return arguments.length?(r=+y[0][0],e=+y[1][0],n=+y[0][1],t=+y[1][1],l):[[r,n],[e,t]]},l.iterations=function(y){return arguments.length?(v=+y,l):v};function h(y){y.nodes.forEach(function(S,x){S.index=x,S.sourceLinks=[],S.targetLinks=[]});var E=_i(y.nodes,o);y.links.forEach(function(S,x){S.index=x;var M=S.source,D=S.target;typeof M!="object"&&(M=S.source=Y0(E,M)),typeof D!="object"&&(D=S.target=Y0(E,D)),M.sourceLinks.push(S),D.targetLinks.push(S)})}function g(y){y.nodes.forEach(function(E){E.value=Math.max(Uo(E.sourceLinks,ku),Uo(E.targetLinks,ku))})}function p(y){var E,S,x,M=y.nodes.length;for(E=y.nodes,S=[],x=0;E.length;++x,E=S,S=[]){if(x>M)throw new Error("circular link");E.forEach(function(k){k.depth=x,k.sourceLinks.forEach(function(C){S.indexOf(C.target)<0&&S.push(C.target)})})}for(E=y.nodes,S=[],x=0;E.length;++x,E=S,S=[]){if(x>M)throw new Error("circular link");E.forEach(function(k){k.height=x,k.targetLinks.forEach(function(C){S.indexOf(C.source)<0&&S.push(C.source)})})}var D=(e-r-i)/(x-1);y.nodes.forEach(function(k){k.x1=(k.x0=r+Math.max(0,Math.min(x-1,Math.floor(f.call(null,k,x))))*D)+i})}function d(y){var E=L8().key(function(O){return O.x0}).sortKeys(Vl).entries(y.nodes).map(function(O){return O.values});M(),C();for(var S=.9,x=v;x>0;--x,S*=.9)k(S),C(),D(S),C();function M(){var O=en(E,function(L){return(t-n-(L.length-1)*a)/Uo(L,ku)});E.forEach(function(L){s!=null&&L.sort(s),L.forEach(function(N,U){N.y1=(N.y0=U)+N.value*O})}),y.links.forEach(function(L){L.width=L.value*O})}function D(O){E.forEach(function(L){L.forEach(function(N){let U=N.y0;for(const{target:_,width:w,value:b}of N.sourceLinks.sort(j0)){if(b>0){let P=0;for(const{source:I,width:rr}of _.targetLinks){if(I===N)break;P+=rr+a/2}P=(U-P-_.y0)*O*(b/Math.min(N.value,_.value)),_.y0+=P,_.y1+=P}U+=w+a/2}})})}function k(O){E.slice().reverse().forEach(function(L){L.forEach(function(N){let U=N.y0;for(const{source:_,width:w,value:b}of N.targetLinks.sort(H0)){if(b>0){let P=0;for(const{target:I,width:rr}of _.sourceLinks){if(I===N)break;P+=rr+a/2}P=(U-P-_.y0)*O*(b/Math.min(N.value,_.value)),_.y0+=P,_.y1+=P}U+=w+a/2}})})}function C(){E.forEach(function(O){var L,N,U=n,_=O.length,w;for(s===void 0&&O.sort($f),w=0;w<_;++w)L=O[w],N=U-L.y0,N>0&&(L.y0+=N,L.y1+=N),U=L.y1+a;if(N=U-a-t,N>0)for(U=L.y0-=N,L.y1-=N,w=_-2;w>=0;--w)L=O[w],N=L.y1+a-U,N>0&&(L.y0-=N,L.y1-=N),U=L.y0})}}function m(y){y.nodes.forEach(function(E){E.sourceLinks.sort(j0),E.targetLinks.sort(H0)}),y.nodes.forEach(function(E){var S=E.y0,x=S;E.sourceLinks.forEach(function(M){M.y0=S+M.width/2,S+=M.width}),E.targetLinks.forEach(function(M){M.y1=x+M.width/2,x+=M.width})})}return l}var Dl=Math.PI,Al=2*Dl,Le=1e-6,j8=Al-Le;function Ll(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Lg(){return new Ll}Ll.prototype=Lg.prototype={constructor:Ll,moveTo:function(r,n){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,n){this._+="L"+(this._x1=+r)+","+(this._y1=+n)},quadraticCurveTo:function(r,n,e,t){this._+="Q"+ +r+","+ +n+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(r,n,e,t,i,a){this._+="C"+ +r+","+ +n+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(r,n,e,t,i){r=+r,n=+n,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,f=e-r,s=t-n,c=a-r,u=o-n,v=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=r)+","+(this._y1=n);else if(v>Le)if(!(Math.abs(u*f-s*c)>Le)||!i)this._+="L"+(this._x1=r)+","+(this._y1=n);else{var l=e-a,h=t-o,g=f*f+s*s,p=l*l+h*h,d=Math.sqrt(g),m=Math.sqrt(v),y=i*Math.tan((Dl-Math.acos((g+v-p)/(2*d*m)))/2),E=y/m,S=y/d;Math.abs(E-1)>Le&&(this._+="L"+(r+E*c)+","+(n+E*u)),this._+="A"+i+","+i+",0,0,"+ +(u*l>c*h)+","+(this._x1=r+S*f)+","+(this._y1=n+S*s)}},arc:function(r,n,e,t,i,a){r=+r,n=+n,e=+e,a=!!a;var o=e*Math.cos(t),f=e*Math.sin(t),s=r+o,c=n+f,u=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+s+","+c:(Math.abs(this._x1-s)>Le||Math.abs(this._y1-c)>Le)&&(this._+="L"+s+","+c),e&&(v<0&&(v=v%Al+Al),v>j8?this._+="A"+e+","+e+",0,1,"+u+","+(r-o)+","+(n-f)+"A"+e+","+e+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):v>Le&&(this._+="A"+e+","+e+",0,"+ +(v>=Dl)+","+u+","+(this._x1=r+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(r,n,e,t){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function X0(r){return function(){return r}}function Y8(r){return r[0]}function X8(r){return r[1]}var W8=Array.prototype.slice;function J8(r){return r.source}function K8(r){return r.target}function Q8(r){var n=J8,e=K8,t=Y8,i=X8,a=null;function o(){var f,s=W8.call(arguments),c=n.apply(this,s),u=e.apply(this,s);if(a||(a=f=Lg()),r(a,+t.apply(this,(s[0]=c,s)),+i.apply(this,s),+t.apply(this,(s[0]=u,s)),+i.apply(this,s)),f)return a=null,f+""||null}return o.source=function(f){return arguments.length?(n=f,o):n},o.target=function(f){return arguments.length?(e=f,o):e},o.x=function(f){return arguments.length?(t=typeof f=="function"?f:X0(+f),o):t},o.y=function(f){return arguments.length?(i=typeof f=="function"?f:X0(+f),o):i},o.context=function(f){return arguments.length?(a=f==null?null:f,o):a},o}function Z8(r,n,e,t,i){r.moveTo(n,e),r.bezierCurveTo(n=(n+t)/2,e,n,i,t,i)}function r7(){return Q8(Z8)}function n7(r){return[r.source.x1,r.y0]}function e7(r){return[r.target.x0,r.y1]}function t7(){return r7().source(n7).target(e7)}var i7=Object.freeze(Object.defineProperty({__proto__:null,sankey:H8,sankeyCenter:B8,sankeyLeft:q8,sankeyRight:z8,sankeyJustify:Ag,sankeyLinkHorizontal:t7},Symbol.toStringTag,{value:"Module"})),a7=Wn(i7),Qi=or,Wt=a7,Ig=ir,o7={sankeyLeft:Wt.sankeyLeft,sankeyRight:Wt.sankeyRight,sankeyCenter:Wt.sankeyCenter,sankeyJustify:Wt.sankeyJustify},u7={value:function(r){return r.value},source:function(r){return r.source},target:function(r){return r.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function Og(r,n){n=Qi.assign({},u7,n);var e=null;Qi.isString(n.nodeAlign)?e=o7[n.nodeAlign]:Qi.isFunction(n.nodeAlign)&&(e=n.nodeAlign);var t=Wt.sankey().nodeSort(n.sort).links(function(i){return i.edges}).nodeWidth(n.nodeWidth).nodePadding(n.nodePadding).extent([[0,0],[1,1]]);Qi.isFunction(n.nodeId)&&t.nodeId(n.nodeId),e&&t.nodeAlign(e),t(r),r.nodes.forEach(function(i){var a=i.x0,o=i.x1,f=i.y0,s=i.y1;i.x=[a,o,o,a],i.y=[f,f,s,s]}),r.edges.forEach(function(i){var a=i.source,o=i.target,f=a.x1,s=o.x0;i.x=[f,f,s,s];var c=i.width/2;i.y=[i.y0+c,i.y0-c,i.y1+c,i.y1-c]})}Ig.DataSet.registerTransform("diagram.sankey",Og);Ig.DataSet.registerTransform("sankey",Og);function W0(r){return function(){return r}}function l7(r){return r[0]}function s7(r){return r[1]}function ao(){this._=null}function Do(r){r.U=r.C=r.L=r.R=r.P=r.N=null}ao.prototype={constructor:ao,insert:function(r,n){var e,t,i;if(r){if(n.P=r,n.N=r.N,r.N&&(r.N.P=n),r.N=n,r.R){for(r=r.R;r.L;)r=r.L;r.L=n}else r.R=n;e=r}else this._?(r=J0(this._),n.P=null,n.N=r,r.P=r.L=n,e=r):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,r=n;e&&e.C;)t=e.U,e===t.L?(i=t.R,i&&i.C?(e.C=i.C=!1,t.C=!0,r=t):(r===e.R&&(At(this,e),r=e,e=r.U),e.C=!1,t.C=!0,Lt(this,t))):(i=t.L,i&&i.C?(e.C=i.C=!1,t.C=!0,r=t):(r===e.L&&(Lt(this,e),r=e,e=r.U),e.C=!1,t.C=!0,At(this,t))),e=r.U;this._.C=!1},remove:function(r){r.N&&(r.N.P=r.P),r.P&&(r.P.N=r.N),r.N=r.P=null;var n=r.U,e,t=r.L,i=r.R,a,o;if(t?i?a=J0(i):a=t:a=i,n?n.L===r?n.L=a:n.R=a:this._=a,t&&i?(o=a.C,a.C=r.C,a.L=t,t.U=a,a!==i?(n=a.U,a.U=r.U,r=a.R,n.L=r,a.R=i,i.U=a):(a.U=n,n=a,r=a.R)):(o=r.C,r=a),r&&(r.U=n),!o){if(r&&r.C){r.C=!1;return}do{if(r===this._)break;if(r===n.L){if(e=n.R,e.C&&(e.C=!1,n.C=!0,At(this,n),e=n.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,Lt(this,e),e=n.R),e.C=n.C,n.C=e.R.C=!1,At(this,n),r=this._;break}}else if(e=n.L,e.C&&(e.C=!1,n.C=!0,Lt(this,n),e=n.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,At(this,e),e=n.L),e.C=n.C,n.C=e.L.C=!1,Lt(this,n),r=this._;break}e.C=!0,r=n,n=n.U}while(!r.C);r&&(r.C=!1)}}};function At(r,n){var e=n,t=n.R,i=e.U;i?i.L===e?i.L=t:i.R=t:r._=t,t.U=i,e.U=t,e.R=t.L,e.R&&(e.R.U=e),t.L=e}function Lt(r,n){var e=n,t=n.L,i=e.U;i?i.L===e?i.L=t:i.R=t:r._=t,t.U=i,e.U=t,e.L=t.R,e.L&&(e.L.U=e),t.R=e}function J0(r){for(;r.L;)r=r.L;return r}function Jt(r,n,e,t){var i=[null,null],a=rn.push(i)-1;return i.left=r,i.right=n,e&&oo(i,r,n,e),t&&oo(i,n,r,t),_n[r.index].halfedges.push(a),_n[n.index].halfedges.push(a),i}function It(r,n,e){var t=[n,e];return t.left=r,t}function oo(r,n,e,t){!r[0]&&!r[1]?(r[0]=t,r.left=n,r.right=e):r.left===e?r[1]=t:r[0]=t}function f7(r,n,e,t,i){var a=r[0],o=r[1],f=a[0],s=a[1],c=o[0],u=o[1],v=0,l=1,h=c-f,g=u-s,p;if(p=n-f,!(!h&&p>0)){if(p/=h,h<0){if(p<v)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>v&&(v=p)}if(p=t-f,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>v&&(v=p)}else if(h>0){if(p<v)return;p<l&&(l=p)}if(p=e-s,!(!g&&p>0)){if(p/=g,g<0){if(p<v)return;p<l&&(l=p)}else if(g>0){if(p>l)return;p>v&&(v=p)}if(p=i-s,!(!g&&p<0)){if(p/=g,g<0){if(p>l)return;p>v&&(v=p)}else if(g>0){if(p<v)return;p<l&&(l=p)}return!(v>0)&&!(l<1)||(v>0&&(r[0]=[f+v*h,s+v*g]),l<1&&(r[1]=[f+l*h,s+l*g])),!0}}}}}function c7(r,n,e,t,i){var a=r[1];if(a)return!0;var o=r[0],f=r.left,s=r.right,c=f[0],u=f[1],v=s[0],l=s[1],h=(c+v)/2,g=(u+l)/2,p,d;if(l===u){if(h<n||h>=t)return;if(c>v){if(!o)o=[h,e];else if(o[1]>=i)return;a=[h,i]}else{if(!o)o=[h,i];else if(o[1]<e)return;a=[h,e]}}else if(p=(c-v)/(l-u),d=g-p*h,p<-1||p>1)if(c>v){if(!o)o=[(e-d)/p,e];else if(o[1]>=i)return;a=[(i-d)/p,i]}else{if(!o)o=[(i-d)/p,i];else if(o[1]<e)return;a=[(e-d)/p,e]}else if(u<l){if(!o)o=[n,p*n+d];else if(o[0]>=t)return;a=[t,p*t+d]}else{if(!o)o=[t,p*t+d];else if(o[0]<n)return;a=[n,p*n+d]}return r[0]=o,r[1]=a,!0}function v7(r,n,e,t){for(var i=rn.length,a;i--;)(!c7(a=rn[i],r,n,e,t)||!f7(a,r,n,e,t)||!(Math.abs(a[0][0]-a[1][0])>Nr||Math.abs(a[0][1]-a[1][1])>Nr))&&delete rn[i]}function h7(r){return _n[r.index]={site:r,halfedges:[]}}function g7(r,n){var e=r.site,t=n.left,i=n.right;return e===i&&(i=t,t=e),i?Math.atan2(i[1]-t[1],i[0]-t[0]):(e===t?(t=n[1],i=n[0]):(t=n[0],i=n[1]),Math.atan2(t[0]-i[0],i[1]-t[1]))}function Fg(r,n){return n[+(n.left!==r.site)]}function p7(r,n){return n[+(n.left===r.site)]}function d7(){for(var r=0,n=_n.length,e,t,i,a;r<n;++r)if((e=_n[r])&&(a=(t=e.halfedges).length)){var o=new Array(a),f=new Array(a);for(i=0;i<a;++i)o[i]=i,f[i]=g7(e,rn[t[i]]);for(o.sort(function(s,c){return f[c]-f[s]}),i=0;i<a;++i)f[i]=t[o[i]];for(i=0;i<a;++i)t[i]=f[i]}}function m7(r,n,e,t){var i=_n.length,a,o,f,s,c,u,v,l,h,g,p,d,m=!0;for(a=0;a<i;++a)if(o=_n[a]){for(f=o.site,c=o.halfedges,s=c.length;s--;)rn[c[s]]||c.splice(s,1);for(s=0,u=c.length;s<u;)g=p7(o,rn[c[s]]),p=g[0],d=g[1],v=Fg(o,rn[c[++s%u]]),l=v[0],h=v[1],(Math.abs(p-l)>Nr||Math.abs(d-h)>Nr)&&(c.splice(s,0,rn.push(It(f,g,Math.abs(p-r)<Nr&&t-d>Nr?[r,Math.abs(l-r)<Nr?h:t]:Math.abs(d-t)<Nr&&e-p>Nr?[Math.abs(h-t)<Nr?l:e,t]:Math.abs(p-e)<Nr&&d-n>Nr?[e,Math.abs(l-e)<Nr?h:n]:Math.abs(d-n)<Nr&&p-r>Nr?[Math.abs(h-n)<Nr?l:r,n]:null))-1),++u);u&&(m=!1)}if(m){var y,E,S,x=1/0;for(a=0,m=null;a<i;++a)(o=_n[a])&&(f=o.site,y=f[0]-r,E=f[1]-n,S=y*y+E*E,S<x&&(x=S,m=o));if(m){var M=[r,n],D=[r,t],k=[e,t],C=[e,n];m.halfedges.push(rn.push(It(f=m.site,M,D))-1,rn.push(It(f,D,k))-1,rn.push(It(f,k,C))-1,rn.push(It(f,C,M))-1)}}for(a=0;a<i;++a)(o=_n[a])&&(o.halfedges.length||delete _n[a])}var qg=[],Mf;function y7(){Do(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qe(r){var n=r.P,e=r.N;if(!(!n||!e)){var t=n.site,i=r.site,a=e.site;if(t!==a){var o=i[0],f=i[1],s=t[0]-o,c=t[1]-f,u=a[0]-o,v=a[1]-f,l=2*(s*v-c*u);if(!(l>=-T7)){var h=s*s+c*c,g=u*u+v*v,p=(v*h-c*g)/l,d=(s*g-u*h)/l,m=qg.pop()||new y7;m.arc=r,m.site=i,m.x=p+o,m.y=(m.cy=d+f)+Math.sqrt(p*p+d*d),r.circle=m;for(var y=null,E=vi._;E;)if(m.y<E.y||m.y===E.y&&m.x<=E.x)if(E.L)E=E.L;else{y=E.P;break}else if(E.R)E=E.R;else{y=E;break}vi.insert(y,m),y||(Mf=m)}}}}function tt(r){var n=r.circle;n&&(n.P||(Mf=n.N),vi.remove(n),qg.push(n),Do(n),r.circle=null)}var zg=[];function w7(){Do(this),this.edge=this.site=this.circle=null}function K0(r){var n=zg.pop()||new w7;return n.site=r,n}function Cu(r){tt(r),it.remove(r),zg.push(r),Do(r)}function E7(r){var n=r.circle,e=n.x,t=n.cy,i=[e,t],a=r.P,o=r.N,f=[r];Cu(r);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<Nr&&Math.abs(t-s.circle.cy)<Nr;)a=s.P,f.unshift(s),Cu(s),s=a;f.unshift(s),tt(s);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<Nr&&Math.abs(t-c.circle.cy)<Nr;)o=c.N,f.push(c),Cu(c),c=o;f.push(c),tt(c);var u=f.length,v;for(v=1;v<u;++v)c=f[v],s=f[v-1],oo(c.edge,s.site,c.site,i);s=f[0],c=f[u-1],c.edge=Jt(s.site,c.site,null,i),Qe(s),Qe(c)}function S7(r){for(var n=r[0],e=r[1],t,i,a,o,f=it._;f;)if(a=Bg(f,e)-n,a>Nr)f=f.L;else if(o=n-_7(f,e),o>Nr){if(!f.R){t=f;break}f=f.R}else{a>-Nr?(t=f.P,i=f):o>-Nr?(t=f,i=f.N):t=i=f;break}h7(r);var s=K0(r);if(it.insert(t,s),!(!t&&!i)){if(t===i){tt(t),i=K0(t.site),it.insert(s,i),s.edge=i.edge=Jt(t.site,s.site),Qe(t),Qe(i);return}if(!i){s.edge=Jt(t.site,s.site);return}tt(t),tt(i);var c=t.site,u=c[0],v=c[1],l=r[0]-u,h=r[1]-v,g=i.site,p=g[0]-u,d=g[1]-v,m=2*(l*d-h*p),y=l*l+h*h,E=p*p+d*d,S=[(d*y-h*E)/m+u,(l*E-p*y)/m+v];oo(i.edge,c,g,S),s.edge=Jt(c,r,null,S),i.edge=Jt(r,g,null,S),Qe(t),Qe(i)}}function Bg(r,n){var e=r.site,t=e[0],i=e[1],a=i-n;if(!a)return t;var o=r.P;if(!o)return-1/0;e=o.site;var f=e[0],s=e[1],c=s-n;if(!c)return f;var u=f-t,v=1/a-1/c,l=u/c;return v?(-l+Math.sqrt(l*l-2*v*(u*u/(-2*c)-s+c/2+i-a/2)))/v+t:(t+f)/2}function _7(r,n){var e=r.N;if(e)return Bg(e,n);var t=r.site;return t[1]===n?t[0]:1/0}var Nr=1e-6,T7=1e-12,it,_n,vi,rn;function x7(r,n,e){return(r[0]-e[0])*(n[1]-r[1])-(r[0]-n[0])*(e[1]-r[1])}function $7(r,n){return n[1]-r[1]||n[0]-r[0]}function Il(r,n){var e=r.sort($7).pop(),t,i,a;for(rn=[],_n=new Array(r.length),it=new ao,vi=new ao;;)if(a=Mf,e&&(!a||e[1]<a.y||e[1]===a.y&&e[0]<a.x))(e[0]!==t||e[1]!==i)&&(S7(e),t=e[0],i=e[1]),e=r.pop();else if(a)E7(a.arc);else break;if(d7(),n){var o=+n[0][0],f=+n[0][1],s=+n[1][0],c=+n[1][1];v7(o,f,s,c),m7(o,f,s,c)}this.edges=rn,this.cells=_n,it=vi=rn=_n=null}Il.prototype={constructor:Il,polygons:function(){var r=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(t){return Fg(n,r[t])});return e.data=n.site.data,e})},triangles:function(){var r=[],n=this.edges;return this.cells.forEach(function(e,t){if(!!(f=(a=e.halfedges).length))for(var i=e.site,a,o=-1,f,s,c=n[a[f-1]],u=c.left===i?c.right:c.left;++o<f;)s=u,c=n[a[o]],u=c.left===i?c.right:c.left,s&&u&&t<s.index&&t<u.index&&x7(i,s,u)<0&&r.push([i.data,s.data,u.data])}),r},links:function(){return this.edges.filter(function(r){return r.right}).map(function(r){return{source:r.left.data,target:r.right.data}})},find:function(r,n,e){for(var t=this,i,a=t._found||0,o=t.cells.length,f;!(f=t.cells[a]);)if(++a>=o)return null;var s=r-f.site[0],c=n-f.site[1],u=s*s+c*c;do f=t.cells[i=a],a=null,f.halfedges.forEach(function(v){var l=t.edges[v],h=l.left;if(!((h===f.site||!h)&&!(h=l.right))){var g=r-h[0],p=n-h[1],d=g*g+p*p;d<u&&(u=d,a=h.index)}});while(a!==null);return t._found=i,e==null||u<=e*e?f.site:null}};function M7(){var r=l7,n=s7,e=null;function t(i){return new Il(i.map(function(a,o){var f=[Math.round(r(a,o,i)/Nr)*Nr,Math.round(n(a,o,i)/Nr)*Nr];return f.index=o,f.data=a,f}),e)}return t.polygons=function(i){return t(i).polygons()},t.links=function(i){return t(i).links()},t.triangles=function(i){return t(i).triangles()},t.x=function(i){return arguments.length?(r=typeof i=="function"?i:W0(+i),t):r},t.y=function(i){return arguments.length?(n=typeof i=="function"?i:W0(+i),t):n},t.extent=function(i){return arguments.length?(e=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],t):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},t.size=function(i){return arguments.length?(e=i==null?null:[[0,0],[+i[0],+i[1]]],t):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},t}var b7=Object.freeze(Object.defineProperty({__proto__:null,voronoi:M7},Symbol.toStringTag,{value:"Module"})),P7=Wn(b7),R7=dr,N7=R7.__importStar(P7),Du=or,k7=ir,Gg=k7.DataSet.registerTransform,C7=Mr,D7={as:["_x","_y"]};function Ug(r,n){n=Du.assign({},D7,n);var e=n.as;if(!Du.isArray(e)||e.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var t=e[0],i=e[1],a=C7.getFields(n);if(!Du.isArray(a)||a.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var o=a[0],f=a[1],s=r.rows,c=s.map(function(l){return[l[o],l[f]]}),u=N7.voronoi();n.extend&&u.extent(n.extend),n.size&&u.size(n.size);var v=u(c).polygons();s.forEach(function(l,h){var g=v[h].filter(function(p){return!!p});l[t]=g.map(function(p){return p[0]}),l[i]=g.map(function(p){return p[1]})})}Gg("diagram.voronoi",Ug);Gg("voronoi",Ug);var A7=dr,L7=A7.__importStar(_t),Q0=or,bf=ir,I7=Mr,O7={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function Vg(r,n){if(r.dataType!==bf.DataSet.CONSTANTS.HIERARCHY||!r.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=Q0.assign({},O7,n);var t=n.as;if(!Q0.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=void 0;try{i=I7.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=L7.cluster();a.size(n.size),n.nodeSize&&a.nodeSize(n.nodeSize),n.separation&&a.separation(n.separation),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=s.x,s[f]=s.y})}bf.DataSet.registerTransform("hierarchy.cluster",Vg);bf.DataSet.registerTransform("dendrogram",Vg);var Ao={exports:{}};(function(r,n){(function(t,i){r.exports=i()})(typeof self!="undefined"?self:lo,function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(a,o,f){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:f})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=5)}([function(e,t){function i(a,o,f,s){return s===void 0&&(s="height"),f==="center"?(a[s]+o[s])/2:a.height}e.exports={assign:Object.assign,getHeight:i}},function(e,t,i){var a=i(3),o=function(){function f(c,u){u===void 0&&(u={});var v=this;v.options=u,v.rootNode=a(c,u)}var s=f.prototype;return s.execute=function(){throw new Error("please override this method")},f}();e.exports=o},function(e,t,i){var a=i(4),o=["LR","RL","TB","BT","H","V"],f=["LR","RL","H"],s=function(l){return f.indexOf(l)>-1},c=o[0];e.exports=function(v,l,h){var g=l.direction||c;if(l.isHorizontal=s(g),g&&o.indexOf(g)===-1)throw new TypeError("Invalid direction: "+g);if(g===o[0])h(v,l);else if(g===o[1])h(v,l),v.right2left();else if(g===o[2])h(v,l);else if(g===o[3])h(v,l),v.bottom2top();else if(g===o[4]||g===o[5]){var p=a(v,l),d=p.left,m=p.right;h(d,l),h(m,l),l.isHorizontal?d.right2left():d.bottom2top(),m.translate(d.x-m.x,d.y-m.y),v.x=d.x,v.y=m.y;var y=v.getBoundingBox();l.isHorizontal?y.top<0&&v.translate(0,-y.top):y.left<0&&v.translate(-y.left,0)}var E=l.fixedRoot;return E===void 0&&(E=!0),E&&v.translate(-(v.x+v.width/2+v.hgap),-(v.y+v.height/2+v.vgap)),u(v,l),v};function u(v,l){if(l.radial){var h=l.isHorizontal?["x","y"]:["y","x"],g=h[0],p=h[1],d={x:1/0,y:1/0},m={x:-1/0,y:-1/0},y=0;v.DFTraverse(function(x){y++;var M=x.x,D=x.y;d.x=Math.min(d.x,M),d.y=Math.min(d.y,D),m.x=Math.max(m.x,M),m.y=Math.max(m.y,D)});var E=m[p]-d[p];if(E===0)return;var S=Math.PI*2/y;v.DFTraverse(function(x){var M=(x[p]-d[p])/E*(Math.PI*2-S)+S,D=x[g]-v[g];x.x=Math.cos(M)*D,x.y=Math.sin(M)*D})}}},function(e,t,i){var a=i(0),o=18,f=o*2,s=o,c={getId:function(h){return h.id||h.name},getPreH:function(h){return h.preH||0},getPreV:function(h){return h.preV||0},getHGap:function(h){return h.hgap||s},getVGap:function(h){return h.vgap||s},getChildren:function(h){return h.children},getHeight:function(h){return h.height||f},getWidth:function(h){var g=h.label||" ";return h.width||g.split("").length*o}};function u(l,h){var g=this;if(g.vgap=g.hgap=0,l instanceof u)return l;g.data=l;var p=h.getHGap(l),d=h.getVGap(l);return g.preH=h.getPreH(l),g.preV=h.getPreV(l),g.width=h.getWidth(l),g.height=h.getHeight(l),g.width+=g.preH,g.height+=g.preV,g.id=h.getId(l),g.x=g.y=0,g.depth=0,g.children||(g.children=[]),g.addGap(p,d),g}a.assign(u.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(h,g){var p=this;p.hgap+=h,p.vgap+=g,p.width+=2*h,p.height+=2*g},eachNode:function(h){for(var g=this,p=[g],d;d=p.shift();)h(d),p=d.children.concat(p)},DFTraverse:function(h){this.eachNode(h)},BFTraverse:function(h){for(var g=this,p=[g],d;d=p.shift();)h(d),p=p.concat(d.children)},getBoundingBox:function(){var h={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(g){h.left=Math.min(h.left,g.x),h.top=Math.min(h.top,g.y),h.width=Math.max(h.width,g.x+g.width),h.height=Math.max(h.height,g.y+g.height)}),h},translate:function(h,g){h===void 0&&(h=0),g===void 0&&(g=0),this.eachNode(function(p){p.x+=h,p.y+=g,p.x+=p.preH,p.y+=p.preV})},right2left:function(){var h=this,g=h.getBoundingBox();h.eachNode(function(p){p.x=p.x-(p.x-g.left)*2-p.width}),h.translate(g.width,0)},bottom2top:function(){var h=this,g=h.getBoundingBox();h.eachNode(function(p){p.y=p.y-(p.y-g.top)*2-p.height}),h.translate(0,g.height)}});function v(l,h,g){h===void 0&&(h={}),h=a.assign({},c,h);var p=new u(l,h),d=[p],m;if(!g&&!l.collapsed){for(;m=d.shift();)if(!m.data.collapsed){var y=h.getChildren(m.data),E=y?y.length:0;if(m.children=new Array(E),y&&E)for(var S=0;S<E;S++){var x=new u(y[S],h);m.children[S]=x,d.push(x),x.parent=m,x.depth=m.depth+1}}}return p}e.exports=v},function(e,t,i){var a=i(3);e.exports=function(o,f){for(var s=a(o.data,f,!0),c=a(o.data,f,!0),u=o.children.length,v=Math.round(u/2),l=f.getSide||function(d,m){return m<v?"right":"left"},h=0;h<u;h++){var g=o.children[h],p=l(g,h);p==="right"?c.children.push(g):s.children.push(g)}return s.eachNode(function(d){d.isRoot()||(d.side="left")}),c.eachNode(function(d){d.isRoot()||(d.side="right")}),{left:s,right:c}}},function(e,t,i){var a={compactBox:i(6),dendrogram:i(8),indented:i(10),mindmap:i(12)};e.exports=a},function(e,t,i){function a(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,o(g,p)}function o(g,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},o(g,p)}var f=i(1),s=i(7),c=i(2),u=i(0),v=function(g){function p(){return g.apply(this,arguments)||this}a(p,g);var d=p.prototype;return d.execute=function(){var y=this;return c(y.rootNode,y.options,s)},p}(f),l={};function h(g,p){return p=u.assign({},l,p),new v(g,p).execute()}e.exports=h},function(e,t){function i(u,v,l,h){h===void 0&&(h=[]);var g=this;g.w=u||0,g.h=v||0,g.y=l||0,g.x=0,g.c=h||[],g.cs=h.length,g.prelim=0,g.mod=0,g.shift=0,g.change=0,g.tl=null,g.tr=null,g.el=null,g.er=null,g.msel=0,g.mser=0}i.fromNode=function(u,v){if(!u)return null;var l=[];return u.children.forEach(function(h){l.push(i.fromNode(h,v))}),v?new i(u.height,u.width,u.x,l):new i(u.width,u.height,u.y,l)};function a(u,v,l){l?u.y+=v:u.x+=v,u.children.forEach(function(h){a(h,v,l)})}function o(u,v){var l=v?u.y:u.x;return u.children.forEach(function(h){l=Math.min(o(h,v),l)}),l}function f(u,v){var l=o(u,v);a(u,-l,v)}function s(u,v,l){l?v.y=u.x:v.x=u.x,u.c.forEach(function(h,g){s(h,v.children[g],l)})}function c(u,v,l){l===void 0&&(l=0),v?(u.x=l,l+=u.width):(u.y=l,l+=u.height),u.children.forEach(function(h){c(h,v,l)})}e.exports=function(u,v){v===void 0&&(v={});var l=v.isHorizontal;function h(N){if(N.cs===0){g(N);return}h(N.c[0]);for(var U=O(E(N.c[0].el),0,null),_=1;_<N.cs;++_){h(N.c[_]);var w=E(N.c[_].er);p(N,_,U),U=O(w,_,U)}M(N),g(N)}function g(N){N.cs===0?(N.el=N,N.er=N,N.msel=N.mser=0):(N.el=N.c[0].el,N.msel=N.c[0].msel,N.er=N.c[N.cs-1].er,N.mser=N.c[N.cs-1].mser)}function p(N,U,_){for(var w=N.c[U-1],b=w.mod,P=N.c[U],I=P.mod;w!==null&&P!==null;){E(w)>_.low&&(_=_.nxt);var rr=b+w.prelim+w.w-(I+P.prelim);rr>0&&(I+=rr,d(N,U,_.index,rr));var gr=E(w),ur=E(P);gr<=ur&&(w=y(w),w!==null&&(b+=w.mod)),gr>=ur&&(P=m(P),P!==null&&(I+=P.mod))}!w&&!!P?S(N,U,P,I):!!w&&!P&&x(N,U,w,b)}function d(N,U,_,w){N.c[U].mod+=w,N.c[U].msel+=w,N.c[U].mser+=w,k(N,U,_,w)}function m(N){return N.cs===0?N.tl:N.c[0]}function y(N){return N.cs===0?N.tr:N.c[N.cs-1]}function E(N){return N.y+N.h}function S(N,U,_,w){var b=N.c[0].el;b.tl=_;var P=w-_.mod-N.c[0].msel;b.mod+=P,b.prelim-=P,N.c[0].el=N.c[U].el,N.c[0].msel=N.c[U].msel}function x(N,U,_,w){var b=N.c[U].er;b.tr=_;var P=w-_.mod-N.c[U].mser;b.mod+=P,b.prelim-=P,N.c[U].er=N.c[U-1].er,N.c[U].mser=N.c[U-1].mser}function M(N){N.prelim=(N.c[0].prelim+N.c[0].mod+N.c[N.cs-1].mod+N.c[N.cs-1].prelim+N.c[N.cs-1].w)/2-N.w/2}function D(N,U){U+=N.mod,N.x=N.prelim+U,C(N);for(var _=0;_<N.cs;_++)D(N.c[_],U)}function k(N,U,_,w){if(_!==U-1){var b=U-_;N.c[_+1].shift+=w/b,N.c[U].shift-=w/b,N.c[U].change-=w-w/b}}function C(N){for(var U=0,_=0,w=0;w<N.cs;w++)U+=N.c[w].shift,_+=U+N.c[w].change,N.c[w].mod+=_}function O(N,U,_){for(;_!==null&&N>=_.low;)_=_.nxt;return{low:N,index:U,nxt:_}}c(u,l);var L=i.fromNode(u,l);return h(L),D(L,0),s(L,u,l),f(u,l),u}},function(e,t,i){function a(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,o(g,p)}function o(g,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},o(g,p)}var f=i(1),s=i(9),c=i(2),u=i(0),v=function(g){function p(){return g.apply(this,arguments)||this}a(p,g);var d=p.prototype;return d.execute=function(){var y=this;return y.rootNode.width=0,c(y.rootNode,y.options,s)},p}(f),l={};function h(g,p){return p=u.assign({},l,p),new v(g,p).execute()}e.exports=h},function(e,t,i){var a=i(0);function o(c,u){u===void 0&&(u=[]);var v=this;v.x=v.y=0,v.leftChild=v.rightChild=null,v.height=0,v.children=u}var f={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function s(c,u,v){v?(u.x=c.x,u.y=c.y):(u.x=c.y,u.y=c.x),c.children.forEach(function(l,h){s(l,u.children[h],v)})}e.exports=function(c,u){u===void 0&&(u={}),u=a.assign({},f,u);var v=0;function l(m){if(!m)return null;m.width=0,m.depth&&m.depth>v&&(v=m.depth);var y=m.children,E=y.length,S=new o(m.height,[]);return y.forEach(function(x,M){var D=l(x);S.children.push(D),M===0&&(S.leftChild=D),M===E-1&&(S.rightChild=D)}),S.originNode=m,S.isLeaf=m.isLeaf(),S}function h(m){if(m.isLeaf||m.children.length===0)m.drawingDepth=v;else{var y=m.children.map(function(S){return h(S)}),E=Math.min.apply(null,y);m.drawingDepth=E-1}return m.drawingDepth}var g;function p(m){m.x=m.drawingDepth*u.rankSep,m.isLeaf?(m.y=0,g&&(m.y=g.y+g.height+u.nodeSep,m.originNode.parent!==g.originNode.parent&&(m.y+=u.subTreeSep)),g=m):(m.children.forEach(function(y){p(y)}),m.y=(m.leftChild.y+m.rightChild.y)/2)}var d=l(c);return h(d),p(d),s(d,c,u.isHorizontal),c}},function(e,t,i){function a(d,m){d.prototype=Object.create(m.prototype),d.prototype.constructor=d,o(d,m)}function o(d,m){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,E){return y.__proto__=E,y},o(d,m)}var f=i(1),s=i(11),c=i(4),u=i(0),v=["LR","RL","H"],l=v[0],h=function(d){function m(){return d.apply(this,arguments)||this}a(m,d);var y=m.prototype;return y.execute=function(){var S=this,x=S.options,M=S.rootNode;x.isHorizontal=!0;var D=x.indent,k=D===void 0?20:D,C=x.dropCap,O=C===void 0?!0:C,L=x.direction,N=L===void 0?l:L,U=x.align;if(N&&v.indexOf(N)===-1)throw new TypeError("Invalid direction: "+N);if(N===v[0])s(M,k,O,U);else if(N===v[1])s(M,k,O,U),M.right2left();else if(N===v[2]){var _=c(M,x),w=_.left,b=_.right;s(w,k,O,U),w.right2left(),s(b,k,O,U);var P=w.getBoundingBox();b.translate(P.width,0),M.x=b.x-M.width/2}return M},m}(f),g={};function p(d,m){return m=u.assign({},g,m),new h(d,m).execute()}e.exports=p},function(e,t,i){var a=i(0);function o(f,s,c,u,v){var l=(typeof c=="function"?c(f):c)*f.depth;if(!u)try{if(f.id===f.parent.children[0].id){f.x+=l,f.y=s?s.y:0;return}}catch{}if(f.x+=l,s){if(f.y=s.y+a.getHeight(s,f,v),s.parent&&f.parent.id!==s.parent.id){var h=s.parent,g=h.y+a.getHeight(h,f,v);f.y=g>f.y?g:f.y}}else f.y=0}e.exports=function(f,s,c,u){var v=null;f.eachNode(function(l){o(l,v,s,c,u),v=l})}},function(e,t,i){function a(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,o(g,p)}function o(g,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},o(g,p)}var f=i(1),s=i(13),c=i(2),u=i(0),v=function(g){function p(){return g.apply(this,arguments)||this}a(p,g);var d=p.prototype;return d.execute=function(){var y=this;return c(y.rootNode,y.options,s)},p}(f),l={};function h(g,p){return p=u.assign({},l,p),new v(g,p).execute()}e.exports=h},function(e,t,i){var a=i(0);function o(c,u){var v=0;return c.children.length?c.children.forEach(function(l){v+=o(l,u)}):v=c.height,c._subTreeSep=u.getSubTreeSep(c.data),c.totalHeight=Math.max(c.height,v)+2*c._subTreeSep,c.totalHeight}function f(c){var u=c.children,v=u.length;if(v){u.forEach(function(m){f(m)});var l=u[0],h=u[v-1],g=h.y-l.y+h.height,p=0;if(u.forEach(function(m){p+=m.totalHeight}),g>c.height)c.y=l.y+g/2-c.height/2;else if(u.length!==1||c.height>p){var d=c.y+(c.height-g)/2-l.y;u.forEach(function(m){m.translate(0,d)})}else c.y=(l.y+l.height/2+h.y+h.height/2)/2-c.height/2}}var s={getSubTreeSep:function(){return 0}};e.exports=function(c,u){u===void 0&&(u={}),u=a.assign({},s,u),c.parent={x:0,width:0,height:0,y:0},c.BFTraverse(function(v){v.x=v.parent.x+v.parent.width}),c.parent=null,o(c,u),c.startY=0,c.y=c.totalHeight/2-c.height/2,c.eachNode(function(v){var l=v.children,h=l.length;if(h){var g=l[0];if(g.startY=v.startY+v._subTreeSep,h===1)g.y=v.y+v.height/2-g.height/2;else{g.y=g.startY+g.totalHeight/2-g.height/2;for(var p=1;p<h;p++){var d=l[p];d.startY=l[p-1].startY+l[p-1].totalHeight,d.y=d.startY+d.totalHeight/2-d.height/2}}}}),f(c)}}])})})(Ao);var F7=dr,q7=F7.__importDefault(Ao.exports),Ti=ir,z7={};function Lo(r,n){var e=r.root;if(n=Object.assign({},z7,n),r.dataType!==Ti.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");r.root=q7.default.compactBox(e,n)}Ti.DataSet.registerTransform("hierarchy.compact-box",Lo);Ti.DataSet.registerTransform("compact-box-tree",Lo);Ti.DataSet.registerTransform("non-layered-tidy-tree",Lo);Ti.DataSet.registerTransform("mindmap-logical",Lo);var B7=dr,G7=B7.__importDefault(Ao.exports),Pf=ir,U7={};function Hg(r,n){var e=r.root;if(n=Object.assign({},U7,n),r.dataType!==Pf.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");r.root=G7.default.dendrogram(e,n)}Pf.DataSet.registerTransform("hierarchy.dendrogram",Hg);Pf.DataSet.registerTransform("dendrogram",Hg);var V7=dr,H7=V7.__importDefault(Ao.exports),Rf=ir,j7={};function jg(r,n){var e=r.root;if(n=Object.assign({},j7,n),r.dataType!==Rf.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");r.root=H7.default.indented(e,n)}Rf.DataSet.registerTransform("hierarchy.indented",jg);Rf.DataSet.registerTransform("indented-tree",jg);var Y7=dr,Z0=or,X7=Y7.__importStar(_t),Io=ir,W7=Mr,J7={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function Nf(r,n){if(r.dataType!==Io.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=Z0.assign({},J7,n);var t=n.as;if(!Z0.isArray(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var i;try{i=W7.getField(n)}catch(c){console.warn(c)}i&&e.sum(function(c){return c[i]}).sort(function(c,u){return u[i]-c[i]});var a=X7.pack();a.size(n.size),n.padding&&a.padding(n.padding),a(e);var o=t[0],f=t[1],s=t[2];e.each(function(c){c[o]=c.x,c[f]=c.y,c[s]=c.r})}Io.DataSet.registerTransform("hierarchy.pack",Nf);Io.DataSet.registerTransform("hierarchy.circle-packing",Nf);Io.DataSet.registerTransform("circle-packing",Nf);var K7=dr,Q7=K7.__importStar(_t),r1=or,kf=ir,Z7=Mr,rS={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function Yg(r,n){if(r.dataType!==kf.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=r1.assign({},rS,n);var t=n.as;if(!r1.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=Z7.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=Q7.partition();a.size(n.size).round(n.round).padding(n.padding),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=[s.x0,s.x1,s.x1,s.x0],s[f]=[s.y1,s.y1,s.y0,s.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete s[c]})})}kf.DataSet.registerTransform("hierarchy.partition",Yg);kf.DataSet.registerTransform("adjacency",Yg);var nS=dr,eS=nS.__importStar(_t),n1=or,Cf=ir,tS=Mr,iS={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function Xg(r,n){if(r.dataType!==Cf.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=n1.assign({},iS,n);var t=n.as;if(!n1.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=tS.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=eS.tree();a.size(n.size),n.nodeSize&&a.nodeSize(n.nodeSize),n.separation&&a.separation(n.separation),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=s.x,s[f]=s.y})}Cf.DataSet.registerTransform("hierarchy.tree",Xg);Cf.DataSet.registerTransform("tree",Xg);var aS=dr,e1=aS.__importStar(_t),t1=or,Df=ir,oS=Mr,uS={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function Wg(r,n){if(r.dataType!==Df.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=t1.assign({},uS,n);var t=n.as;if(!t1.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=oS.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=e1.treemap();a.tile(e1[n.tile]).size(n.size).round(n.round).padding(n.padding).paddingInner(n.paddingInner).paddingOuter(n.paddingOuter).paddingTop(n.paddingTop).paddingRight(n.paddingRight).paddingBottom(n.paddingBottom).paddingLeft(n.paddingLeft),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=[s.x0,s.x1,s.x1,s.x0],s[f]=[s.y1,s.y1,s.y0,s.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete s[c]})})}Df.DataSet.registerTransform("hierarchy.treemap",Wg);Df.DataSet.registerTransform("treemap",Wg);var Af={};Object.defineProperty(Af,"__esModule",{value:!0});var i1=dr,Au=Math.PI/180,Kt=1<<11>>5,ca=1<<11;function lS(r){return r.text}function sS(){return"serif"}function a1(){return"normal"}function fS(r){return r.value}function cS(){return~~(Math.random()*2)*90}function vS(){return 1}function hS(r,n,e,t){if(!n.sprite){var i=r.context,a=r.ratio;i.clearRect(0,0,(Kt<<5)/a,ca/a);var o=0,f=0,s=0,c=e.length;for(--t;++t<c;){n=e[t],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font;var u=i.measureText(n.text+"m").width*a,v=n.size<<1;if(n.rotate){var l=Math.sin(n.rotate*Au),h=Math.cos(n.rotate*Au),g=u*h,p=u*l,d=v*h,m=v*l;u=Math.max(Math.abs(g+m),Math.abs(g-m))+31>>5<<5,v=~~Math.max(Math.abs(p+d),Math.abs(p-d))}else u=u+31>>5<<5;if(v>s&&(s=v),o+u>=Kt<<5&&(o=0,f+=s,s=0),f+v>=ca)break;i.translate((o+(u>>1))/a,(f+(v>>1))/a),n.rotate&&i.rotate(n.rotate*Au),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=u,n.height=v,n.xoff=o,n.yoff=f,n.x1=u>>1,n.y1=v>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,o+=u}for(var y=i.getImageData(0,0,(Kt<<5)/a,ca/a).data,E=[];--t>=0;)if(n=e[t],!!n.hasText){for(var u=n.width,S=u>>5,v=n.y1-n.y0,x=0;x<v*S;x++)E[x]=0;if(o=n.xoff,o==null)return;f=n.yoff;for(var M=0,D=-1,k=0;k<v;k++){for(var x=0;x<u;x++){var C=S*k+(x>>5),O=y[(f+k)*(Kt<<5)+(o+x)<<2]?1<<31-x%32:0;E[C]|=O,M|=O}M?D=k:(n.y0++,v--,k--,f++)}n.y1=n.y0+D,n.sprite=E.slice(0,(n.y1-n.y0)*S)}}}function gS(r,n,e){e>>=5;for(var t=r.sprite,i=r.width>>5,a=r.x-(i<<4),o=a&127,f=32-o,s=r.y1-r.y0,c=(r.y+r.y0)*e+(a>>5),u,v=0;v<s;v++){u=0;for(var l=0;l<=i;l++)if((u<<f|(l<i?(u=t[v*i+l])>>>o:0))&n[c+l])return!0;c+=e}return!1}function pS(r,n){var e=r[0],t=r[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>t.x&&(t.x=n.x+n.x1),n.y+n.y1>t.y&&(t.y=n.y+n.y1)}function dS(r,n){return r.x+r.x1>n[0].x&&r.x+r.x0<n[1].x&&r.y+r.y1>n[0].y&&r.y+r.y0<n[1].y}function Jg(r){var n=r[0]/r[1];return function(e){return[n*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function mS(r){var n=4,e=n*r[0]/r[1],t=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:t+=e;break;case 1:i+=n;break;case 2:t-=e;break;default:i-=n;break}return[t,i]}}function o1(r){for(var n=[],e=-1;++e<r;)n[e]=0;return n}function yS(){return document.createElement("canvas")}function ve(r){return typeof r=="function"?r:function(){return r}}var wS={archimedean:Jg,rectangular:mS};function ES(){var r=[256,256],n=lS,e=sS,t=fS,i=a1,a=a1,o=cS,f=vS,s=Jg,c=[],u=1/0,v=Math.random,l=yS,h={};h.canvas=function(d){return arguments.length?(l=ve(d),h):l},h.start=function(){var d=i1.__read(r,2),m=d[0],y=d[1],E=g(l()),S=h.board?h.board:o1((r[0]>>5)*r[1]),x=c.length,M=[],D=c.map(function(L,N){return L.text=n.call(this,L,N),L.font=e.call(this,L,N),L.style=i.call(this,L,N),L.weight=a.call(this,L,N),L.rotate=o.call(this,L,N),L.size=~~t.call(this,L,N),L.padding=f.call(this,L,N),L}).sort(function(L,N){return N.size-L.size}),k=-1,C=h.board?[{x:0,y:0},{x:m,y}]:null;O();function O(){for(var L=Date.now();Date.now()-L<u&&++k<x;){var N=D[k];N.x=m*(v()+.5)>>1,N.y=y*(v()+.5)>>1,hS(E,N,D,k),N.hasText&&p(S,N,C)&&(M.push(N),C?h.hasImage||pS(C,N):C=[{x:N.x+N.x0,y:N.y+N.y0},{x:N.x+N.x1,y:N.y+N.y1}],N.x-=r[0]>>1,N.y-=r[1]>>1)}h._tags=M,h._bounds=C}return h};function g(d){d.width=d.height=1;var m=Math.sqrt(d.getContext("2d").getImageData(0,0,1,1).data.length>>2);d.width=(Kt<<5)/m,d.height=ca/m;var y=d.getContext("2d");return y.fillStyle=y.strokeStyle="red",y.textAlign="center",{context:y,ratio:m}}function p(d,m,y){for(var E=m.x,S=m.y,x=Math.sqrt(r[0]*r[0]+r[1]*r[1]),M=s(r),D=v()<.5?1:-1,k,C=-D,O,L;(k=M(C+=D))&&(O=~~k[0],L=~~k[1],!(Math.min(Math.abs(O),Math.abs(L))>=x));)if(m.x=E+O,m.y=S+L,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>r[0]||m.y+m.y1>r[1])&&(!y||!gS(m,d,r[0]))&&(!y||dS(m,y))){for(var N=m.sprite,U=m.width>>5,_=r[0]>>5,w=m.x-(U<<4),b=w&127,P=32-b,I=m.y1-m.y0,rr=void 0,gr=(m.y+m.y0)*_+(w>>5),ur=0;ur<I;ur++){rr=0;for(var pr=0;pr<=U;pr++)d[gr+pr]|=rr<<P|(pr<U?(rr=N[ur*U+pr])>>>b:0);gr+=_}return delete m.sprite,!0}return!1}return h.createMask=function(d){var m=document.createElement("canvas"),y=i1.__read(r,2),E=y[0],S=y[1];if(!(!E||!S)){var x=E>>5,M=o1((E>>5)*S);m.width=E,m.height=S;var D=m.getContext("2d");D.drawImage(d,0,0,d.width,d.height,0,0,E,S);for(var k=D.getImageData(0,0,E,S).data,C=0;C<S;C++)for(var O=0;O<E;O++){var L=x*C+(O>>5),N=C*E+O<<2,U=k[N]>=250&&k[N+1]>=250&&k[N+2]>=250,_=U?1<<31-O%32:0;M[L]|=_}h.board=M,h.hasImage=!0}},h.timeInterval=function(d){return arguments.length?(u=d==null?1/0:d,h):u},h.words=function(d){return arguments.length?(c=d,h):c},h.size=function(d){return arguments.length?(r=[+d[0],+d[1]],h):r},h.font=function(d){return arguments.length?(e=ve(d),h):e},h.fontStyle=function(d){return arguments.length?(i=ve(d),h):i},h.fontWeight=function(d){return arguments.length?(a=ve(d),h):a},h.rotate=function(d){return arguments.length?(o=ve(d),h):o},h.text=function(d){return arguments.length?(n=ve(d),h):n},h.spiral=function(d){return arguments.length?(s=wS[d]||d,h):s},h.fontSize=function(d){return arguments.length?(t=ve(d),h):t},h.padding=function(d){return arguments.length?(f=ve(d),h):f},h.random=function(d){return arguments.length?(v=d,h):v},h}Af.default=ES;var Ol=dr,Lu=or,Kg=ir,SS=Ol.__importDefault(Af),_S=Mr,TS={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function Qg(r,n){n=Lu.assign({},TS,n);var e=SS.default();if(!n.size[0]||!n.size[1]){r.rows=[],r._tagCloud=e;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(p){n[p]&&e[p](n[p])});var t=_S.getFields(n),i=Ol.__read(t,2),a=i[0],o=i[1];if(!Lu.isString(a)||!Lu.isString(o))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var f=r.rows.map(function(p){return p.text=p[a],p.value=p[o],p});e.words(f),n.imageMask&&e.createMask(n.imageMask);var s=e.start(),c=s._tags,u=s._bounds||[{x:0,y:0},{x:n.size[0],y:n.size[1]}];c.forEach(function(p){p.x+=n.size[0]/2,p.y+=n.size[1]/2});var v=Ol.__read(n.size,2),l=v[0],h=v[1],g=s.hasImage;c.push({text:"",value:0,x:g?0:u[0].x,y:g?0:u[0].y,opacity:0}),c.push({text:"",value:0,x:g?l:u[1].x,y:g?h:u[1].y,opacity:0}),r.rows=c,r._tagCloud=s}Kg.DataSet.registerTransform("tag-cloud",Qg);Kg.DataSet.registerTransform("word-cloud",Qg);var va=dr,ke=or,xS=Fn.exports,$S=va.__importDefault($n),MS=ir,bS=Mr,PS={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function RS(r,n){n=ke.assign({},PS,n);var e=bS.getFields(n),t=va.__read(e,2),i=t[0],a=t[1],o=va.__read(n.as,2),f=o[0],s=o[1],c=n.groupBy,u=$S.default(r.rows,c),v=ke.keys(u),l=va.__read(n.size,2),h=l[0],g=l[1],p=n.maxCount,d=v.length,m=g/d,y=n.rows,E=n.gapRatio,S=[],x=n.scale,M=0,D=0;ke.forIn(u,function(k){var C=xS.sum(ke.map(k,function(L){return L[a]})),O=Math.ceil(C*x/y);C*x>p&&(x=p/C,O=Math.ceil(C*x/y)),D=h/O}),ke.forIn(u,function(k){var C=[M*m,(M+1)*m],O=C[1]-C[0],L=O*(1-E)/y,N=0,U=0;ke.each(k,function(_){for(var w=_[a],b=Math.round(w*x),P=0;P<b;P++){U===y&&(U=0,N++);var I=ke.pick(_,[i,a].concat(c));I[f]=N*D+D/2,I[s]=U*L+L/2+C[0],I._wStep=D,I._hStep=L,U++,S.push(I)}}),M+=1}),r.rows=S}MS.DataSet.registerTransform("waffle",RS);var Zg={};Object.defineProperty(Zg,"__esModule",{value:!0});var Ze=dr,he=or,u1=Ze.__importDefault(Tt),rp=Ze.__importDefault(Si),np=ir,NS=Mr,l1=ue,kS={as:["x","y","z"],method:"gaussian"},Fl=he.keys(rp.default);function ep(r,n){var e,t;n=he.assign({},kS,n);var i=NS.getFields(n);if(!he.isArray(i)||i.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var a=Ze.__read(n.as,3),o=a[0],f=a[1],s=a[2];if(!he.isString(o)||!he.isString(f)||!he.isString(s))throw new TypeError("invalid as: must be an array of 3 strings!");var c;if(he.isString(n.method)){if(Fl.indexOf(n.method)===-1)throw new TypeError("invalid method: "+n.method+". Must be one of "+Fl.join(", "));c=rp.default[n.method]}var u=Ze.__read(i,2),v=u[0],l=u[1],h=n.extent,g=n.bandwidth,p,d;h&&Array.isArray(h)&&Array.isArray(h[0])&&Array.isArray(h[1])?(e=Ze.__read(h,2),p=e[0],d=e[1]):(p=r.range(v),d=r.range(l));var m,y;g&&Array.isArray(g)&&g.slice(0,2).every(he.isNumber)&&g.slice(0,2).every(function(w){return w>0})?(t=Ze.__read(g,2),m=t[0],y=t[1]):(m=l1.silverman(r.getColumn(v)),y=l1.silverman(r.getColumn(l)));for(var E=u1.default(p,m),S=u1.default(d,y),x=r.rows.length,M=[],D=0;D<E.length;D++)for(var k=0;k<S.length;k++){for(var C=0,O=E[D],L=S[k],N=0;N<x;N++)C+=c((O-r.rows[N][v])/m)*c((L-r.rows[N][l])/y);var U=1/(x*m*y)*C,_={};_[o]=O,_[f]=L,_[s]=U,M.push(_)}r.rows=M}np.DataSet.registerTransform("kernel-smooth.density",ep);np.DataSet.registerTransform("kernel.density",ep);Zg.default={KERNEL_METHODS:Fl};var tp={};Object.defineProperty(tp,"__esModule",{value:!0});var uo=dr,Bn=or,CS=uo.__importDefault(Tt),ip=uo.__importDefault(Si),ap=ir,Iu=Fn.exports,DS=Mr,AS=ue,LS={as:["x","y"],method:"gaussian"},ql=Bn.keys(ip.default);function IS(r,n,e,t){var i=(t-e)/n;return r(i)}function s1(r){return function(n){return Bn.isArray(n)?n.map(function(e){return r(e)}):r(n)}}function op(r,n){n=Bn.assign({},LS,n);var e=DS.getFields(n);if(!Bn.isArray(e)||!(e.length===1||e.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var t=uo.__read(n.as,2),i=t[0],a=t[1];if(!Bn.isString(i)||!Bn.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var o,f=n.method;if(Bn.isString(f)){if(ql.indexOf(f)===-1)throw new TypeError("invalid method: "+f+". Must be one of "+ql.join(", "));o=ip.default[f]}var s=uo.__read(e,2),c=s[0],u=s[1],v=r.getColumn(c),l=n.extent;(l||!Bn.isArray(l))&&(l=r.range(c));var h=n.bandwidth;(!h||!Bn.isNumber(h)||h<=0)&&(h=AS.silverman(v));var g=CS.default(l,h),p=v.length,d=IS.bind(null,o,h),m;if(Bn.isNil(u))m=s1(function(S){var x=v.map(function(k){return d(S,k)}),M=Iu.sum(x),D=p*h;return!M||!D?0:M/D});else{var y=r.getColumn(u);m=s1(function(S){var x=v.map(function(k){return d(S,k)}),M=Iu.sum(x.map(function(k,C){return k*y[C]})),D=Iu.sum(x);return!M||!D?0:M/D})}var E=g.map(function(S){var x={};return x[i]=S,x[a]=m(S),x});r.rows=E}ap.DataSet.registerTransform("kernel-smooth.regression",op);ap.DataSet.registerTransform("kernel.regression",op);tp.default={KERNEL_METHODS:ql};var OS=ir,FS=OS.DataSet,Zn="/Users/xuwenhua/code/project/home-manage/src/components/Chart/area-polar.tsx";function qS(r){const{data:n,loading:e,fields:t,height:i}=r,{DataView:a}=FS,o=new a().source(n);return o.transform({type:"fold",fields:t,key:"category",value:"score"}),cr.exports.jsxDEV(c1,{loading:e,style:{width:"100%"},children:cr.exports.jsxDEV(zl,{height:i||400,padding:0,data:o.rows,autoFit:!0,scale:{score:{min:0,max:80}},interactions:["legend-highlight"],className:"chart-wrapper",children:[cr.exports.jsxDEV(h1,{type:"polar",radius:.8},void 0,!1,{fileName:Zn,lineNumber:49,columnNumber:9},this),cr.exports.jsxDEV(g1,{shared:!0,children:(f,s)=>cr.exports.jsxDEV(m1,{title:f,data:s},void 0,!1,{fileName:Zn,lineNumber:52,columnNumber:20},this)},void 0,!1,{fileName:Zn,lineNumber:50,columnNumber:9},this),cr.exports.jsxDEV(wp,{position:"item*score",size:"2",color:["category",["#313CA9","#21CCFF","#249EFF"]]},void 0,!1,{fileName:Zn,lineNumber:55,columnNumber:9},this),cr.exports.jsxDEV(Ep,{position:"item*score",tooltip:!1,color:["category",["rgba(49, 60, 169, 0.4)","rgba(33, 204, 255, 0.4)","rgba(36, 158, 255, 0.4)"]]},void 0,!1,{fileName:Zn,lineNumber:60,columnNumber:9},this),cr.exports.jsxDEV(p1,{name:"score",label:!1},void 0,!1,{fileName:Zn,lineNumber:72,columnNumber:9},this),cr.exports.jsxDEV(d1,{position:"right",marker:(f,s)=>({symbol:"circle",style:{r:4,lineWidth:0,fill:["#313CA9","#21CCFF","#249EFF"][s]}}),name:"category"},void 0,!1,{fileName:Zn,lineNumber:73,columnNumber:9},this)]},void 0,!0,{fileName:Zn,lineNumber:35,columnNumber:7},this)},void 0,!1,{fileName:Zn,lineNumber:34,columnNumber:5},this)}var Ou="/Users/xuwenhua/code/project/home-manage/src/components/Chart/fact-multi-pie.tsx";function zS(r){return cr.exports.jsxDEV(zl,{theme:Tp(),forceUpdate:!0,autoFit:!0,data:r.data,height:r.height||400,padding:[0,0,10,0],children:[cr.exports.jsxDEV(d1,{visible:!0},void 0,!1,{fileName:Ou,lineNumber:20,columnNumber:7},this),cr.exports.jsxDEV(Sp,{fields:["category"],type:"rect",showTitle:!1,eachView:(n,e)=>{const t=e.data;n.coordinate({type:"theta",cfg:{radius:.8,innerRadius:.7}}),n.interval().adjust("stack").position("value").color("type",["#249eff","#846BCE","#21CCFF"," #86DF6C","#0E42D2"]).label("value",{content:i=>`${(i.value*100).toFixed(2)} %`}),n.annotation().text({position:["50%","46%"],content:t[0].category,style:{fontSize:14,fontWeight:500,textAlign:"center"},offsetY:10}),n.interaction("element-single-selected")}},void 0,!1,{fileName:Ou,lineNumber:21,columnNumber:7},this)]},void 0,!0,{fileName:Ou,lineNumber:12,columnNumber:5},this)}const BS=["\u6D3B\u8DC3\u7528\u6237\u6570","\u5185\u5BB9\u751F\u4EA7\u91CF","\u5185\u5BB9\u70B9\u51FB\u91CF","\u5185\u5BB9\u66DD\u5149\u91CF"],f1=[0,600,1e3,2e3,4e3],Fu=["\u7EAF\u6587\u672C","\u56FE\u6587\u7C7B","\u89C6\u9891\u7C7B"],GS=(r,n)=>{const{list:e}=Jr.mock({"list|10":[{"id|+1":1,time:function(){return vp().subtract(this.id,"days").format("MM-DD")},count:()=>Jr.Random.natural(f1[n],f1[n+1]),name:r}]});return e.map(t=>(delete t.id,t))},US=r=>new Array(12).fill(0).map(()=>({y:Jr.Random.natural(1e3,1e4)})).sort((e,t)=>e.y-t.y).map((e,t)=>({...e,x:t,name:r})),VS=r=>{const n=["UGC\u539F\u521B","\u56FD\u5916\u7F51\u7AD9","\u8F6C\u8F7D\u6587\u7AE0","\u884C\u4E1A\u62A5\u544A","\u5176\u4ED6"],e=[];n.forEach(i=>{e.push({type:i,value:Jr.Random.natural(100,1e4),name:r})});const t=e.reduce((i,a)=>i+a.value,0);return e.map(i=>({...i,value:Number((i.value/t).toFixed(2))}))};fp({setup:()=>{Jr.mock(new RegExp("/api/multi-dimension/overview"),()=>{const{array:r}=Jr.mock({"array|4":[function(){return Jr.Random.natural(0,1e4)}]});let n=[];return BS.forEach((e,t)=>n=n.concat(GS(e,t))),{overviewData:r,chartData:n}}),Jr.mock(new RegExp("/api/multi-dimension/activity"),()=>{const{list:r}=Jr.mock({"list|3":[{"name|+1":["\u5206\u4EAB\u91CF","\u8BC4\u8BBA\u91CF","\u70B9\u8D5E\u91CF"],count:()=>Jr.Random.natural(1e3,1e4)}]});return r}),Jr.mock(new RegExp("/api/multi-dimension/polar"),()=>{const r=["\u56FD\u9645","\u5A31\u4E50","\u4F53\u80B2","\u8D22\u7ECF","\u79D1\u6280","\u5176\u4ED6"],n=()=>{const e={};return Fu.forEach(t=>{e[t]=Jr.Random.natural(0,100)}),e};return{list:r.map(e=>({item:e,...n()})),fields:Fu}}),Jr.mock(new RegExp("/api/multi-dimension/card"),r=>{const{type:n}=cp.parseUrl(r.url).query;return Jr.mock({count:()=>Jr.Random.natural(1e3,1e4),increment:()=>Jr.Random.boolean(),diff:()=>Jr.Random.natural(100,1e3),chartType:n,chartData:()=>US("\u7C7B\u76EE1")})}),Jr.mock(new RegExp("/api/multi-dimension/content-source"),()=>Fu.map(n=>VS(n).map(e=>({...e,category:n}))).flat())}});var Gr="/Users/xuwenhua/code/project/home-manage/src/pages/visualization/multi-dimension-data-analysis/index.tsx";const{Row:qu,Col:Zi}=pp,{Title:ra}=dp;function u_(){const r=hp(xp),[n,e]=be.exports.useState(!1),[t,i]=be.exports.useState([]),[a,o]=be.exports.useState(!1),[f,s]=be.exports.useState({list:[],fields:[]}),[c,u]=be.exports.useState(!1),[v,l]=be.exports.useState([]),h=async()=>{e(!0);const{data:d}=await zo.get("/api/multi-dimension/activity").finally(()=>{e(!1)});i(d)},g=async()=>{o(!0);const{data:d}=await zo.get("/api/multi-dimension/polar").finally(()=>o(!1));s(d)},p=async()=>{u(!0);const{data:d}=await zo.get("/api/multi-dimension/content-source").finally(()=>{u(!1)});l(d)};return be.exports.useEffect(()=>{h(),g(),p()},[]),cr.exports.jsxDEV(gp,{size:16,direction:"vertical",style:{width:"100%"},children:[cr.exports.jsxDEV(qu,{gutter:20,children:[cr.exports.jsxDEV(Zi,{span:16,children:cr.exports.jsxDEV(xi,{children:[cr.exports.jsxDEV(ra,{heading:6,children:r["multiDAnalysis.card.title.dataOverview"]},void 0,!1,{fileName:Gr,lineNumber:67,columnNumber:13},this),cr.exports.jsxDEV($p,{},void 0,!1,{fileName:Gr,lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:Gr,lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:Gr,lineNumber:65,columnNumber:9},this),cr.exports.jsxDEV(Zi,{span:8,children:[cr.exports.jsxDEV(xi,{children:[cr.exports.jsxDEV(ra,{heading:6,children:r["multiDAnalysis.card.title.todayActivity"]},void 0,!1,{fileName:Gr,lineNumber:75,columnNumber:13},this),cr.exports.jsxDEV(bp,{data:t,loading:n,height:160},void 0,!1,{fileName:Gr,lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:Gr,lineNumber:74,columnNumber:11},this),cr.exports.jsxDEV(xi,{children:[cr.exports.jsxDEV(ra,{heading:6,children:r["multiDAnalysis.card.title.contentTheme"]},void 0,!1,{fileName:Gr,lineNumber:85,columnNumber:13},this),cr.exports.jsxDEV(qS,{data:f.list,fields:f.fields,height:197,loading:a},void 0,!1,{fileName:Gr,lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:Gr,lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:Gr,lineNumber:73,columnNumber:9},this)]},void 0,!0,{fileName:Gr,lineNumber:64,columnNumber:7},this),cr.exports.jsxDEV(qu,{children:cr.exports.jsxDEV(Zi,{span:24,children:cr.exports.jsxDEV(Mp,{},void 0,!1,{fileName:Gr,lineNumber:99,columnNumber:11},this)},void 0,!1,{fileName:Gr,lineNumber:98,columnNumber:9},this)},void 0,!1,{fileName:Gr,lineNumber:97,columnNumber:7},this),cr.exports.jsxDEV(qu,{children:cr.exports.jsxDEV(Zi,{span:24,children:cr.exports.jsxDEV(xi,{children:[cr.exports.jsxDEV(ra,{heading:6,children:r["multiDAnalysis.card.title.contentSource"]},void 0,!1,{fileName:Gr,lineNumber:105,columnNumber:13},this),cr.exports.jsxDEV(zS,{loading:c,data:v,height:240},void 0,!1,{fileName:Gr,lineNumber:108,columnNumber:13},this)]},void 0,!0,{fileName:Gr,lineNumber:104,columnNumber:11},this)},void 0,!1,{fileName:Gr,lineNumber:103,columnNumber:9},this)},void 0,!1,{fileName:Gr,lineNumber:102,columnNumber:7},this)]},void 0,!0,{fileName:Gr,lineNumber:63,columnNumber:5},this)}export{u_ as default};
