import{j as e,H as y,am as S,an as s,aF as B,u as L,r as d,S as _,aj as p,Y as $,af as x}from"./index.295caa00.js";/* empty css              */import{T as I}from"./index.1ba7cba6.js";import{C as h}from"./index.d0e2df9e.js";import{i as U,P as z}from"./index.274d4f53.js";import{C as g,I as M,T as v,A as C,b as j,L as P,S as G}from"./index.216649d8.js";import{C as V}from"./customer-tooltip.7932e63f.js";import{u as q}from"./useChartTheme.6fc29531.js";import"./b-tween.es.d368a2a1.js";import"./radio.d5ff39d6.js";import"./card.38b272d1.js";import"./index.df914e5e.js";import"./index.8ec38198.js";import"./pad.b909f4f4.js";import"./index.2d4052ff.js";import"./index.81821f26.js";import"./index.938847eb.js";var u="/Users/xuwenhua/code/project/home-manage/src/components/Chart/multi-stack-interval.tsx";function O({data:a,loading:l}){return e.exports.jsxDEV(y,{loading:l,style:{width:"100%"},children:e.exports.jsxDEV(g,{height:370,padding:"auto",data:a,autoFit:!0,className:"chart-wrapper",children:[e.exports.jsxDEV(M,{adjust:"stack",color:["name",["#81E2FF","#00B2FF","#246EFF"]],position:"time*count",size:16,style:{radius:[2,2,0,0]}},void 0,!1,{fileName:u,lineNumber:16,columnNumber:9},this),e.exports.jsxDEV(v,{crosshairs:{type:"x"},showCrosshairs:!0,shared:!0,children:(t,i)=>e.exports.jsxDEV(V,{title:t,data:i},void 0,!1,{fileName:u,lineNumber:27,columnNumber:20},this)},void 0,!1,{fileName:u,lineNumber:25,columnNumber:9},this),e.exports.jsxDEV(C,{name:"count",label:{formatter(t){return`${Number(t)/1e3}k`}}},void 0,!1,{fileName:u,lineNumber:30,columnNumber:9},this),e.exports.jsxDEV(j,{name:"name",marker:{symbol:"circle"}},void 0,!1,{fileName:u,lineNumber:38,columnNumber:9},this)]},void 0,!0,{fileName:u,lineNumber:9,columnNumber:7},this)},void 0,!1,{fileName:u,lineNumber:8,columnNumber:5},this)}var o="/Users/xuwenhua/code/project/home-manage/src/components/Chart/period-legend-line.tsx";const E=["#21CCFF","#313CA9","#249EFF"];function H({data:a,loading:l}){return e.exports.jsxDEV(y,{loading:l,style:{width:"100%"},children:e.exports.jsxDEV(g,{theme:q(),forceUpdate:!0,height:370,padding:[10,20,120,60],data:a,autoFit:!0,scale:{time:"time"},className:"chart-wrapper",children:[e.exports.jsxDEV(P,{shape:"smooth",position:"time*rate",color:["name",E]},void 0,!1,{fileName:o,lineNumber:21,columnNumber:9},this),e.exports.jsxDEV(v,{crosshairs:{type:"x"},showCrosshairs:!0,shared:!0,children:(t,i)=>e.exports.jsxDEV(V,{title:t,data:i},void 0,!1,{fileName:o,lineNumber:24,columnNumber:20},this)},void 0,!1,{fileName:o,lineNumber:22,columnNumber:9},this),e.exports.jsxDEV(C,{name:"rate",label:{formatter(t){return`${Number(t)} %`}}},void 0,!1,{fileName:o,lineNumber:27,columnNumber:9},this),e.exports.jsxDEV(j,{name:"name",marker:(t,i)=>({symbol:"circle",style:{fill:E[i],r:4}})},void 0,!1,{fileName:o,lineNumber:35,columnNumber:9},this),e.exports.jsxDEV(G,{foregroundStyle:{borderRadius:" 4px",fill:"l (180) 0:rgba(206, 224, 255, 0.9) 1:rgba(146, 186, 255, 0.8)",opacity:.3},trendCfg:{data:a.map(t=>t.rate),isArea:!0,areaStyle:{fill:"rgba(4, 135, 255, 0.15)",opacity:1},backgroundStyle:{fill:"#F2F3F5"},lineStyle:{stroke:"rgba(36, 158, 255, 0.3)",lineWidth:2}},handlerStyle:{fill:"#ffffff",opacity:1,width:22,height:22,stroke:"#165DFF"}},void 0,!1,{fileName:o,lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:o,lineNumber:11,columnNumber:7},this)},void 0,!1,{fileName:o,lineNumber:10,columnNumber:5},this)}const f=a=>new Array(12).fill(0).map(()=>({y:s.Random.natural(20,100)})).map((t,i)=>({...t,x:i,name:a})),K=()=>new Array(3).fill(0).map((a,l)=>({name:["\u7EAF\u6587\u672C","\u56FE\u6587\u7C7B","\u89C6\u9891\u7C7B"][l],count:s.Random.natural(20,100)}));S({setup:()=>{s.mock(new RegExp("/api/data-analysis/overview"),l=>{const{type:t}=B.parseUrl(l.url).query;return s.mock({count:()=>s.Random.natural(1e3,1e4),increment:()=>s.Random.boolean(),diff:()=>s.Random.natural(100,1e3),chartType:t,chartData:()=>t==="pie"?K():t==="line"?[...f("\u7C7B\u76EE1"),...f("\u7C7B\u76EE2")]:f("\u7C7B\u76EE1")})});const a=l=>{const t=new Array(12).fill(0).map((i,m)=>{const c=m*2;return c<9?`0${c}:00`:`${c}:00`});return new Array(12).fill(0).map((i,m)=>({name:l,time:t[m],count:s.Random.natural(1e3,5e3),rate:s.Random.natural(0,100)}))};s.mock(new RegExp("/api/data-analysis/content-publishing"),()=>[...a("\u7EAF\u6587\u672C"),...a("\u89C6\u9891\u7C7B"),...a("\u56FE\u6587\u7C7B")]),s.mock(new RegExp("/api/data-analysis/author-list"),()=>s.mock({"list|8":[{"id|+1":1,author:()=>s.Random.pick(["\u7528\u9B54\u6CD5\u6253\u8D25\u9B54\u6CD5","\u738B\u591A\u9C7C","Christopher","\u53EB\u6211\u5C0F\u674E\u597D\u4E86","\u9648\u76AE\u8BDD\u6885\u7CD6","\u78B3\u70E4\u5C0F\u80A5\u7F8A"]),time:function(){return new Array(12).fill(0).map((l,t)=>{const i=t*2;return i<9?`0${i}:00`:`${i}:00`})[this.id%12]},contentCount:()=>s.Random.natural(1e3,5e3),clickCount:()=>s.Random.natural(5e3,3e4)}]}))}});var r="/Users/xuwenhua/code/project/home-manage/src/pages/visualization/data-analysis/index.tsx";const{Row:D,Col:b}=$;function ce(){const a=L(U),[l,t]=d.exports.useState(!1),[i,m]=d.exports.useState(!1),[c,F]=d.exports.useState([]),[A,k]=d.exports.useState([]),w=async()=>{t(!0);const{data:n}=await x.get("/api/data-analysis/content-publishing").finally(()=>t(!1));F(n)},T=async()=>{m(!0);const{data:n}=await x.get("/api/data-analysis/author-list").finally(()=>m(!1));k(n.list)};d.exports.useEffect(()=>{w(),T()},[]);const R=d.exports.useMemo(()=>[{title:a["dataAnalysis.authorTable.rank"],dataIndex:"id"},{title:a["dataAnalysis.authorTable.author"],dataIndex:"author"},{title:a["dataAnalysis.authorTable.content"],dataIndex:"contentCount",sorter:(n,N)=>n.contentCount-N.contentCount,render(n){return Number(n).toLocaleString()}},{title:a["dataAnalysis.authorTable.click"],dataIndex:"clickCount",sorter:(n,N)=>n.clickCount-N.clickCount,render(n){return Number(n).toLocaleString()}}],[a]);return e.exports.jsxDEV(_,{size:16,direction:"vertical",style:{width:"100%"},children:[e.exports.jsxDEV(h,{children:[e.exports.jsxDEV(p.Title,{heading:6,children:a["dataAnalysis.title.publicOpinion"]},void 0,!1,{fileName:r,lineNumber:74,columnNumber:9},this),e.exports.jsxDEV(z,{},void 0,!1,{fileName:r,lineNumber:77,columnNumber:9},this)]},void 0,!0,{fileName:r,lineNumber:73,columnNumber:7},this),e.exports.jsxDEV(D,{gutter:16,children:[e.exports.jsxDEV(b,{span:14,children:e.exports.jsxDEV(h,{children:[e.exports.jsxDEV(p.Title,{heading:6,children:a["dataAnalysis.title.publishingRate"]},void 0,!1,{fileName:r,lineNumber:82,columnNumber:13},this),e.exports.jsxDEV(O,{data:c,loading:l},void 0,!1,{fileName:r,lineNumber:85,columnNumber:13},this)]},void 0,!0,{fileName:r,lineNumber:81,columnNumber:11},this)},void 0,!1,{fileName:r,lineNumber:80,columnNumber:9},this),e.exports.jsxDEV(b,{span:10,children:e.exports.jsxDEV(h,{children:[e.exports.jsxDEV(p.Title,{heading:6,children:a["dataAnalysis.title.authorsList"]},void 0,!1,{fileName:r,lineNumber:90,columnNumber:13},this),e.exports.jsxDEV("div",{style:{height:"370px"},children:e.exports.jsxDEV(I,{rowKey:"id",loading:i,pagination:!1,data:A,columns:R},void 0,!1,{fileName:r,lineNumber:94,columnNumber:15},this)},void 0,!1,{fileName:r,lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:r,lineNumber:89,columnNumber:11},this)},void 0,!1,{fileName:r,lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:r,lineNumber:79,columnNumber:7},this),e.exports.jsxDEV(D,{children:e.exports.jsxDEV(b,{span:24,children:e.exports.jsxDEV(h,{children:[e.exports.jsxDEV(p.Title,{heading:6,children:a["dataAnalysis.title.publishingTiming"]},void 0,!1,{fileName:r,lineNumber:108,columnNumber:13},this),e.exports.jsxDEV(H,{data:c,loading:l},void 0,!1,{fileName:r,lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:r,lineNumber:107,columnNumber:11},this)},void 0,!1,{fileName:r,lineNumber:106,columnNumber:9},this)},void 0,!1,{fileName:r,lineNumber:105,columnNumber:7},this)]},void 0,!0,{fileName:r,lineNumber:72,columnNumber:5},this)}export{ce as default};
