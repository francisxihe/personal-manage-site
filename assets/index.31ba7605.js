import{an as g,am as S,aF as j,a4 as d,u as v,r as f,af as F,j as r,S as E,B as x,v as V,aj as B}from"./index.295caa00.js";import{C as w}from"./index.d0e2df9e.js";/* empty css              */import{T as A}from"./index.1ba7cba6.js";import{P}from"./index.e1783cec.js";import{i as k,S as z}from"./form.144c70ca.js";import{g as M,s as L}from"./constants.c8f4b136.js";import{I as R}from"./index.e833d394.js";import"./b-tween.es.d368a2a1.js";import"./radio.d5ff39d6.js";import"./index.768e466f.js";import"./pad.b909f4f4.js";import"./index.88ba4d8f.js";import"./index.75d02bbe.js";const{list:T}=g.mock({"list|100":[{id:/[0-9]{8}[-][0-9]{4}/,name:()=>g.Random.pick(["\u6BCF\u65E5\u63A8\u8350\u89C6\u9891\u96C6","\u6296\u97F3\u77ED\u89C6\u9891\u5019\u9009\u96C6","\u56FD\u9645\u65B0\u95FB\u96C6\u5408"]),"contentType|0-2":0,"filterType|0-1":0,"count|0-2000":0,"createdTime|1-60":0,"status|0-1":0}]}),Y=(i={})=>{const{id:l,name:m,"contentType[]":c,"filterType[]":u,"createdTime[]":e,"status[]":o}=i;if(l)return T.filter(t=>t.id===l);let s=[...T];if(m&&(s=s.filter(t=>t.name.toLowerCase().includes(m.toLowerCase()))),c&&(s=s.filter(t=>c.includes(t.contentType.toString()))),u&&(s=s.filter(t=>u.includes(t.filterType.toString()))),e&&e.length===2){const[t,h]=e;s=s.filter(b=>{const N=d().subtract(b.createdTime,"days").format("YYYY-MM-DD HH:mm:ss");return!d(N).isBefore(d(t))&&!d(N).isAfter(d(h))})}return o&&o.length&&(s=s.filter(t=>o.includes(t.status.toString()))),s};S({setup:()=>{g.mock(new RegExp("/api/list"),i=>{const{page:l=1,pageSize:m=10,...c}=j.parseUrl(i.url).query,u=l,e=m,o=Y(c);return{list:o.slice((u-1)*e,u*e),total:o.length}})}});var a="/Users/xuwenhua/code/project/home-manage/src/pages/list/search-table/index.tsx";const{Title:q}=B,te=["\u56FE\u6587","\u6A2A\u7248\u77ED\u89C6\u9891","\u7AD6\u7248\u77ED\u89C6\u9891"],se=["\u89C4\u5219\u7B5B\u9009","\u4EBA\u5DE5"],re=["\u5DF2\u4E0A\u7EBF","\u672A\u4E0A\u7EBF"];function ae(){const i=v(k),l=async(n,p)=>{console.log(n,p)},m=f.exports.useMemo(()=>M(i,l),[i]),[c,u]=f.exports.useState([]),[e,o]=f.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[s,t]=f.exports.useState(!0),[h,b]=f.exports.useState({});f.exports.useEffect(()=>{N()},[e.current,e.pageSize,JSON.stringify(h)]);function N(){const{current:n,pageSize:p}=e;t(!0),F.get("/api/list",{params:{page:n,pageSize:p,...h}}).then(D=>{u(D.data.list),o({...e,current:n,pageSize:p,total:D.data.total}),t(!1)})}function y({current:n,pageSize:p}){o({...e,current:n,pageSize:p})}function C(n){o({...e,current:1}),b(n)}return r.exports.jsxDEV(w,{children:[r.exports.jsxDEV(q,{heading:6,children:i["menu.list.searchTable"]},void 0,!1,{fileName:a,lineNumber:87,columnNumber:7},this),r.exports.jsxDEV(z,{onSearch:C},void 0,!1,{fileName:a,lineNumber:88,columnNumber:7},this),r.exports.jsxDEV(P,{requiredPermissions:[{resource:"menu.list.searchTable",actions:["write"]}],children:r.exports.jsxDEV("div",{className:L["button-group"],children:[r.exports.jsxDEV(E,{children:[r.exports.jsxDEV(x,{type:"primary",icon:r.exports.jsxDEV(V,{},void 0,!1,{fileName:a,lineNumber:96,columnNumber:42},this),children:i["searchTable.operations.add"]},void 0,!1,{fileName:a,lineNumber:96,columnNumber:13},this),r.exports.jsxDEV(x,{children:i["searchTable.operations.upload"]},void 0,!1,{fileName:a,lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:a,lineNumber:95,columnNumber:11},this),r.exports.jsxDEV(E,{children:r.exports.jsxDEV(x,{icon:r.exports.jsxDEV(R,{},void 0,!1,{fileName:a,lineNumber:102,columnNumber:27},this),children:i["searchTable.operation.download"]},void 0,!1,{fileName:a,lineNumber:102,columnNumber:13},this)},void 0,!1,{fileName:a,lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:a,lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:a,lineNumber:89,columnNumber:7},this),r.exports.jsxDEV(A,{rowKey:"id",loading:s,onChange:y,pagination:e,columns:m,data:c},void 0,!1,{fileName:a,lineNumber:108,columnNumber:7},this)]},void 0,!0,{fileName:a,lineNumber:86,columnNumber:5},this)}export{te as ContentType,se as FilterType,re as Status,ae as default};
